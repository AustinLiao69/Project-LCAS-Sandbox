
# 7102. è¨˜å¸³æ ¸å¿ƒåŠŸèƒ½ç¾¤_SRS.md

**æ–‡ä»¶ç·¨è™Ÿ**: 7102  
**ç‰ˆæœ¬**: v1.0.0  
**å»ºç«‹æ—¥æœŸ**: 2025-09-11  
**å»ºç«‹è€…**: LCAS PM Team  
**æœ€å¾Œæ›´æ–°**: 2025-09-11  

---

## ğŸ“‘ ç›®æ¬¡ (Table of Contents)

1. [æ¨¡çµ„æ¦‚è¿° (Module Overview)](#10-æ¨¡çµ„æ¦‚è¿°module-overview)

2. [åŠŸèƒ½éœ€æ±‚ (Functional Requirements)](#20-åŠŸèƒ½éœ€æ±‚functional-requirements)
   - 2.1 LINE OAè¨˜å¸³å°è©±åŠŸèƒ½
   - 2.2 APPè¨˜å¸³ä¸»é åŠŸèƒ½
   - 2.3 APPè¨˜å¸³è¡¨å–®åŠŸèƒ½
   - 2.4 ç§‘ç›®é¸æ“‡åŠŸèƒ½
   - 2.5 å¸³æˆ¶é¸æ“‡åŠŸèƒ½
   - 2.6 å¸³æœ¬é¸æ“‡åŠŸèƒ½
   - 2.7 åœ–ç‰‡é™„åŠ åŠŸèƒ½
   - 2.8 é‡è¤‡è¨­å®šåŠŸèƒ½
   - 2.9 è¨˜éŒ„ç®¡ç†åŠŸèƒ½
   - 2.10 è¨˜éŒ„ç·¨è¼¯åŠŸèƒ½
   - 2.11 çµ±è¨ˆåœ–è¡¨åŠŸèƒ½

3. [è¼¸å…¥/è¼¸å‡ºè¦æ ¼ (Input & Output Specifications)](#30-è¼¸å…¥è¼¸å‡ºè¦æ ¼input--output-specifications)
   - 3.1 è¼¸å…¥
   - 3.2 è¼¸å‡º

4. [éŒ¯èª¤è™•ç†èˆ‡ä¾‹å¤–ç‹€æ³ (Error Handling & Edge Cases)](#40-éŒ¯èª¤è™•ç†èˆ‡ä¾‹å¤–ç‹€æ³error-handling--edge-cases)
   - 4.1 è¨˜å¸³ç›¸é—œéŒ¯èª¤
   - 4.2 ç¶²è·¯é€£ç·šéŒ¯èª¤
   - 4.3 è³‡æ–™é©—è­‰éŒ¯èª¤
   - 4.4 ç³»çµ±ç•°å¸¸è™•ç†

---

## 1.0 æ¨¡çµ„æ¦‚è¿°ï¼ˆModule Overviewï¼‰

### 1.1 æ¨¡çµ„å®šä½èˆ‡è·è²¬

**è¨˜å¸³æ ¸å¿ƒåŠŸèƒ½ç¾¤**æ˜¯LCAS 2.0å°ˆæ¡ˆPresentation Layerçš„æ ¸å¿ƒè¨˜å¸³æ¨¡çµ„ç¾¤ï¼Œè² è²¬è™•ç†ä½¿ç”¨è€…æ—¥å¸¸è¨˜å¸³çš„å®Œæ•´æµç¨‹ï¼Œå¾åŸºæœ¬è¨˜å¸³åˆ°é€²éšåŠŸèƒ½çš„å…¨æ–¹ä½æ”¯æ´ã€‚æœ¬åŠŸèƒ½ç¾¤å°æ‡‰0090 Sprintè¨ˆç•«çš„**Phase 1ã€3ã€5**ç¯„åœï¼Œç¢ºä¿ä½¿ç”¨è€…èƒ½å¤ é †åˆ©å®Œæˆå„ç¨®è¨˜å¸³éœ€æ±‚ã€‚

**æ ¸å¿ƒè·è²¬ç¯„åœ**ï¼š
- ğŸ’° **å¿«é€Ÿè¨˜å¸³**ï¼šLINE OAæ™ºæ…§è§£æã€APPå¿«é€Ÿè¼¸å…¥
- ğŸ“ **å®Œæ•´è¨˜å¸³**ï¼šè©³ç´°è¡¨å–®ã€å¤šæ¬„ä½æ”¯æ´ã€é™„ä»¶ç®¡ç†
- ğŸ“Š **è¨˜å¸³ç®¡ç†**ï¼šè¨˜éŒ„æŸ¥è©¢ã€ç·¨è¼¯ä¿®æ”¹ã€æ‰¹æ¬¡æ“ä½œ
- ğŸ“ˆ **çµ±è¨ˆåˆ†æ**ï¼šåœ–è¡¨å±•ç¤ºã€è¶¨å‹¢åˆ†æã€æ•¸æ“šæ´å¯Ÿ
- ğŸ”„ **é€²éšåŠŸèƒ½**ï¼šé‡è¤‡è¨˜å¸³ã€ç§‘ç›®ç®¡ç†ã€å¤šå¸³æœ¬æ”¯æ´

### 1.2 åŠŸèƒ½ç¾¤ç¯„åœå®šç¾©

åŸºæ–¼7021 Screen listæ–‡ä»¶ï¼Œæœ¬åŠŸèƒ½ç¾¤æ¶µè“‹ä»¥ä¸‹11å€‹æ ¸å¿ƒç•«é¢ï¼š

| ç•«é¢ç·¨è™Ÿ | ç•«é¢åç¨± | Phase | æ ¸å¿ƒåŠŸèƒ½ | å››æ¨¡å¼æ”¯æ´ |
|----------|----------|-------|----------|------------|
| **S-201** | LINE OAè¨˜å¸³å°è©± | Phase 1 | æ™ºæ…§æ–‡å­—è§£æè¨˜å¸³ | âœ… å·®ç•°åŒ– |
| **S-202** | APPè¨˜å¸³ä¸»é  | Phase 1 | è¨˜å¸³é¦–é ã€çµ±è¨ˆå±•ç¤º | âœ… å·®ç•°åŒ– |
| **S-203** | APPè¨˜å¸³è¡¨å–®é  | Phase 1 | å®Œæ•´è¨˜å¸³è¡¨å–® | âœ… å·®ç•°åŒ– |
| **S-204** | ç§‘ç›®é¸æ“‡é  | Phase 3 | ç§‘ç›®éšå±¤é¸æ“‡ | âœ… å·®ç•°åŒ– |
| **S-205** | å¸³æˆ¶é¸æ“‡é  | Phase 3 | å¸³æˆ¶é¡å‹é¸æ“‡ | âœ… å·®ç•°åŒ– |
| **S-206** | å¸³æœ¬é¸æ“‡é  | Phase 1 | å¤šå¸³æœ¬åˆ‡æ› | âœ… å·®ç•°åŒ– |
| **S-207** | åœ–ç‰‡é™„åŠ é  | Phase 3 | é™„ä»¶ä¸Šå‚³ç®¡ç† | âœ… å·®ç•°åŒ– |
| **S-208** | é‡è¤‡è¨­å®šé  | Phase 3 | é‡è¤‡è¨˜å¸³è¨­å®š | âœ… å·®ç•°åŒ– |
| **S-209** | è¨˜éŒ„ç®¡ç†é  | Phase 5 | äº¤æ˜“è¨˜éŒ„ç®¡ç† | âœ… å·®ç•°åŒ– |
| **S-210** | è¨˜éŒ„ç·¨è¼¯é  | Phase 5 | è¨˜éŒ„è©³ç´°ç·¨è¼¯ | âœ… å·®ç•°åŒ– |
| **S-211** | çµ±è¨ˆåœ–è¡¨é  | Phase 5 | åœ–è¡¨è¦–è¦ºåŒ– | âœ… å·®ç•°åŒ– |

### 1.3 å››æ¨¡å¼å·®ç•°åŒ–ç­–ç•¥

åŸºæ–¼0015æ–‡ä»¶çš„å››æ¨¡å¼ç†è«–ï¼Œæœ¬åŠŸèƒ½ç¾¤å¯¦ç¾ä»¥ä¸‹å·®ç•°åŒ–ç­–ç•¥ï¼š

#### 1.3.1 Expertæ¨¡å¼ï¼ˆå°ˆå®¶æ¨¡å¼ï¼‰
- **è¨˜å¸³åŠŸèƒ½**ï¼šå®Œæ•´æ¬„ä½ã€é€²éšè¨­å®šã€æ‰¹æ¬¡æ“ä½œã€è©³ç´°çµ±è¨ˆ
- **ç®¡ç†åŠŸèƒ½**ï¼šå¤šç¶­åº¦ç¯©é¸ã€è‡ªè¨‚åˆ†é¡ã€åŒ¯å…¥åŒ¯å‡ºã€APIæ•´åˆ
- **è¦–è¦ºé¢¨æ ¼**ï¼šå°ˆæ¥­è—è‰²èª¿ã€é«˜è³‡è¨Šå¯†åº¦ã€å¤šå±¤æ¬¡å°èˆª

#### 1.3.2 Inertialæ¨¡å¼ï¼ˆæ…£æ€§æ¨¡å¼ï¼‰
- **è¨˜å¸³åŠŸèƒ½**ï¼šæ¨™æº–åŒ–æµç¨‹ã€å›ºå®šæ¬„ä½ã€ä¸€è‡´æ€§æ“ä½œã€åŸºæœ¬çµ±è¨ˆ
- **ç®¡ç†åŠŸèƒ½**ï¼šç°¡æ½”ç¯©é¸ã€æ¨™æº–åˆ†é¡ã€æ¸…æ™°åˆ—è¡¨ã€ç©©å®šä»‹é¢
- **è¦–è¦ºé¢¨æ ¼**ï¼šç©©å®šç°è—è‰²èª¿ã€é©ä¸­è³‡è¨Šå¯†åº¦ã€é‚è¼¯æ¸…æ™°

#### 1.3.3 Cultivationæ¨¡å¼ï¼ˆé¤Šæˆæ¨¡å¼ï¼‰
- **è¨˜å¸³åŠŸèƒ½**ï¼šå¼•å°å¼è¼¸å…¥ã€ç¿’æ…£è¿½è¹¤ã€é€²åº¦å±•ç¤ºã€æˆå°±æ¿€å‹µ
- **ç®¡ç†åŠŸèƒ½**ï¼šæ™ºæ…§å»ºè­°ã€è¡Œç‚ºåˆ†æã€ç›®æ¨™è¨­å®šã€æˆé•·å ±å‘Š
- **è¦–è¦ºé¢¨æ ¼**ï¼šæ´»åŠ›ç¶ è‰²èª¿ã€å‹•æ…‹åé¥‹ã€æˆå°±æ„Ÿè¨­è¨ˆ

#### 1.3.4 Guidingæ¨¡å¼ï¼ˆå¼•å°æ¨¡å¼ï¼‰
- **è¨˜å¸³åŠŸèƒ½**ï¼šæ¥µç°¡è¼¸å…¥ã€è‡ªå‹•å¡«å…¥ã€æœ€å°‘æ¬„ä½ã€æ™ºæ…§æ¨è–¦
- **ç®¡ç†åŠŸèƒ½**ï¼šç°¡åŒ–æ“ä½œã€é è¨­åˆ†é¡ã€è‡ªå‹•æ•´ç†ã€æ¸…æ™°æŒ‡å¼•
- **è¦–è¦ºé¢¨æ ¼**ï¼šæº«å’Œæ©˜è‰²èª¿ã€å¤§æŒ‰éˆ•è¨­è¨ˆã€ç›´è§€å¼•å°

### 1.4 æŠ€è¡“æ¶æ§‹æ•´åˆ

#### 1.4.1 APIæ•´åˆè¦ç¯„
æœ¬åŠŸèƒ½ç¾¤**åš´æ ¼éµå¾ª0026æ–‡ä»¶PL-APL-BLä¸‰å±¤æ¶æ§‹å°æ‡‰**ï¼Œåƒ…æ¶ˆè²»ä»¥ä¸‹APIæœå‹™ï¼š

- **8103 è¨˜å¸³äº¤æ˜“æœå‹™API**ï¼šå®Œæ•´çš„è¨˜å¸³CRUDã€çµ±è¨ˆæŸ¥è©¢ã€æ‰¹æ¬¡æ“ä½œ
- **8105 å¸³æˆ¶ç®¡ç†æœå‹™API**ï¼šå¸³æˆ¶æŸ¥è©¢ã€é¤˜é¡ç®¡ç†ã€è½‰å¸³åŠŸèƒ½
- **8106 ç§‘ç›®ç®¡ç†æœå‹™API**ï¼šç§‘ç›®éšå±¤ã€åˆ†é¡ç®¡ç†ã€ä½¿ç”¨çµ±è¨ˆ

#### 1.4.2 ç‹€æ…‹ç®¡ç†æ¶æ§‹
```dart
// è¨˜å¸³æ ¸å¿ƒç‹€æ…‹ç®¡ç†çµæ§‹
AccountingStateManager/
â”œâ”€â”€ TransactionState        // äº¤æ˜“è¨˜éŒ„ç‹€æ…‹
â”œâ”€â”€ AccountState           // å¸³æˆ¶é¸æ“‡ç‹€æ…‹
â”œâ”€â”€ CategoryState          // ç§‘ç›®é¸æ“‡ç‹€æ…‹
â”œâ”€â”€ StatisticsState        // çµ±è¨ˆåœ–è¡¨ç‹€æ…‹
â””â”€â”€ FormState             // è¡¨å–®è¼¸å…¥ç‹€æ…‹
```

#### 1.4.3 æœ¬åœ°è³‡æ–™å„²å­˜
- **è‰ç¨¿è¨˜éŒ„**ï¼šä½¿ç”¨SharedPreferencesæš«å­˜
- **å¸¸ç”¨é¸é …**ï¼šSharedPreferenceså¿«å–
- **åœ–è¡¨è³‡æ–™**ï¼šæœ¬åœ°å¿«å–æ©Ÿåˆ¶ï¼Œé›¢ç·šæŸ¥çœ‹

### 1.5 å“è³ªèˆ‡å®‰å…¨è¦æ±‚

#### 1.5.1 æ•ˆèƒ½è¦æ±‚
- **è¨˜å¸³éŸ¿æ‡‰æ™‚é–“**ï¼šâ‰¤ 500msï¼ˆæœ¬åœ°æ“ä½œï¼‰ã€â‰¤ 2ç§’ï¼ˆAPIæ“ä½œï¼‰
- **åœ–è¡¨è¼‰å…¥æ™‚é–“**ï¼šâ‰¤ 3ç§’ï¼ˆè¤‡é›œåœ–è¡¨ï¼‰ã€â‰¤ 1ç§’ï¼ˆç°¡å–®åœ–è¡¨ï¼‰
- **è¨˜æ†¶é«”ä½¿ç”¨**ï¼šâ‰¤ 80MBï¼ˆå®Œæ•´è¨˜å¸³æµç¨‹ï¼‰

#### 1.5.2 å®‰å…¨è¦æ±‚
- **è³‡æ–™é©—è­‰**ï¼šå‰ç«¯é©—è­‰ + å¾Œç«¯é©—è­‰é›™é‡ä¿è­·
- **æ•æ„Ÿè³‡æ–™**ï¼šé‡‘é¡è³‡æ–™åŠ å¯†å‚³è¼¸ã€æœ¬åœ°å®‰å…¨å„²å­˜
- **æ¬Šé™æ§åˆ¶**ï¼šå¤šå¸³æœ¬æ¬Šé™é©—è­‰ã€æ“ä½œè¨˜éŒ„è¿½è¹¤

#### 1.5.3 å¯ç”¨æ€§è¦æ±‚
- **é›¢ç·šæ”¯æ´**ï¼šè‰ç¨¿æš«å­˜ã€é›¢ç·šæŸ¥çœ‹ã€è‡ªå‹•åŒæ­¥
- **éŒ¯èª¤å¾©åŸ**ï¼šè‡ªå‹•é‡è©¦ã€è³‡æ–™å¾©åŸã€å‹å–„æç¤º
- **ç„¡éšœç¤™æ”¯æ´**ï¼šScreen Readeræ”¯æ´ã€èªéŸ³è¼¸å…¥ã€æ‰‹å‹¢æ“ä½œ

### 1.6 èˆ‡å…¶ä»–åŠŸèƒ½ç¾¤çš„å”ä½œ

#### 1.6.1 åŠŸèƒ½ç¾¤ä»‹é¢
- **â† ç³»çµ±é€²å…¥åŠŸèƒ½ç¾¤**ï¼šæ¥æ”¶èªè­‰ç‹€æ…‹ï¼Œç²å–ç”¨æˆ¶æ¨¡å¼è¨­å®š
- **â†’ å¸³æœ¬å”ä½œåŠŸèƒ½ç¾¤**ï¼šå¸³æœ¬é¸æ“‡ã€æ¬Šé™ç®¡ç†ã€å”ä½œè¨˜å¸³
- **â†’ é ç®—ç®¡ç†åŠŸèƒ½ç¾¤**ï¼šé ç®—è¿½è¹¤ã€è¶…æ”¯è­¦ç¤ºã€ç›®æ¨™ç®¡ç†
- **â†’ å ±è¡¨åˆ†æåŠŸèƒ½ç¾¤**ï¼šæ•¸æ“šä¾†æºã€çµ±è¨ˆåŸºç¤ã€åœ–è¡¨å±•ç¤º

#### 1.6.2 è³‡æ–™æµå‘
```
è¨˜å¸³è¼¸å…¥ â†’ è³‡æ–™é©—è­‰ â†’ APIå„²å­˜ â†’ æœ¬åœ°æ›´æ–° â†’ çµ±è¨ˆè¨ˆç®—
    â†“
æœ¬åœ°å¿«å– â† ç‹€æ…‹ç®¡ç† â† å³æ™‚åé¥‹ â† å››æ¨¡å¼æ¸²æŸ“
```

---

## 2.0 åŠŸèƒ½éœ€æ±‚ï¼ˆFunctional Requirementsï¼‰

### 2.1 LINE OAè¨˜å¸³å°è©±åŠŸèƒ½
**å°æ‡‰ç•«é¢**ï¼šS-201 LINE OAè¨˜å¸³å°è©±
**é–‹ç™¼å„ªå…ˆç´š**ï¼šP1ï¼ˆPhase 1 å¿…é ˆå®Œæˆï¼‰
**APIå°æ‡‰**ï¼š8103è¨˜å¸³äº¤æ˜“æœå‹™API `/transactions/quick`

#### 2.1.1 åŸºæœ¬åŠŸèƒ½éœ€æ±‚
- **FR-201-001**ï¼šæ”¯æ´è‡ªç„¶èªè¨€è¨˜å¸³è¼¸å…¥ï¼Œå¦‚"åˆé¤ 150"ã€"æ”¶å…¥ è–ªæ°´ 35000"
- **FR-201-002**ï¼šæ™ºæ…§è§£æé‡‘é¡ã€ç§‘ç›®ã€æè¿°ç­‰è¨˜å¸³è¦ç´ 
- **FR-201-003**ï¼šæä¾›è¨˜å¸³ç¢ºèªèˆ‡ä¿®æ­£æ©Ÿåˆ¶
- **FR-201-004**ï¼šæ”¯æ´å¿«é€ŸæŸ¥è©¢ä»Šæ—¥/æœ¬æœˆçµ±è¨ˆ
- **FR-201-005**ï¼šæ•´åˆå››æ¨¡å¼å·®ç•°åŒ–å›æ‡‰å…§å®¹

#### 2.1.2 å››æ¨¡å¼å·®ç•°åŒ–éœ€æ±‚
- **Expertæ¨¡å¼**ï¼šé¡¯ç¤ºè©³ç´°è§£æçµæœã€é¤˜é¡è®Šå‹•ã€çµ±è¨ˆæ‘˜è¦
- **Inertialæ¨¡å¼**ï¼šæ¨™æº–ç¢ºèªè¨Šæ¯ã€åŸºæœ¬çµ±è¨ˆè³‡è¨Š
- **Cultivationæ¨¡å¼**ï¼šæ¿€å‹µæ€§å›é¥‹ã€é€£çºŒè¨˜å¸³æé†’ã€æˆå°±é€²åº¦
- **Guidingæ¨¡å¼**ï¼šæ¥µç°¡ç¢ºèªã€è‡ªå‹•å»ºè­°ã€å‹å–„æç¤º

### 2.2 APPè¨˜å¸³ä¸»é åŠŸèƒ½
**å°æ‡‰ç•«é¢**ï¼šS-202 APPè¨˜å¸³ä¸»é 
**é–‹ç™¼å„ªå…ˆç´š**ï¼šP1ï¼ˆPhase 1 å¿…é ˆå®Œæˆï¼‰
**APIå°æ‡‰**ï¼š8103è¨˜å¸³äº¤æ˜“æœå‹™API `/transactions/dashboard`

#### 2.2.1 åŸºæœ¬åŠŸèƒ½éœ€æ±‚
- **FR-202-001**ï¼šé¡¯ç¤ºä»Šæ—¥/æœ¬æœˆæ”¶æ”¯çµ±è¨ˆèˆ‡é¤˜é¡è³‡è¨Š
- **FR-202-002**ï¼šæä¾›å¿«é€Ÿè¨˜å¸³æŒ‰éˆ•ï¼Œä¸€éµé€²å…¥è¨˜å¸³è¡¨å–®
- **FR-202-003**ï¼šå±•ç¤ºæœ€è¿‘äº¤æ˜“è¨˜éŒ„åˆ—è¡¨ï¼ˆå¯è¨­å®šç­†æ•¸ï¼‰
- **FR-202-004**ï¼šæ”¯æ´å¸³æœ¬åˆ‡æ›èˆ‡å¤šå¸³æœ¬çµ±è¨ˆ
- **FR-202-005**ï¼šæ•´åˆé ç®—é€²åº¦èˆ‡è¶…æ”¯è­¦ç¤º

#### 2.2.2 å››æ¨¡å¼å·®ç•°åŒ–éœ€æ±‚
- **Expertæ¨¡å¼**ï¼šå®Œæ•´å„€è¡¨æ¿ã€å¤šç¶­åº¦åœ–è¡¨ã€é€²éšçµ±è¨ˆ
- **Inertialæ¨¡å¼**ï¼šç°¡æ½”çµ±è¨ˆã€æ¨™æº–ä½ˆå±€ã€åŸºæœ¬åœ–è¡¨
- **Cultivationæ¨¡å¼**ï¼šé€²åº¦è¿½è¹¤ã€æˆå°±å±•ç¤ºã€ç¿’æ…£åˆ†æ
- **Guidingæ¨¡å¼**ï¼šæ¥µç°¡æ•¸æ“šã€å¤§æŒ‰éˆ•è¨­è¨ˆã€æ™ºæ…§æé†’

### 2.3 APPè¨˜å¸³è¡¨å–®åŠŸèƒ½
**å°æ‡‰ç•«é¢**ï¼šS-203 APPè¨˜å¸³è¡¨å–®é 
**é–‹ç™¼å„ªå…ˆç´š**ï¼šP1ï¼ˆPhase 1 å¿…é ˆå®Œæˆï¼‰
**APIå°æ‡‰**ï¼š8103è¨˜å¸³äº¤æ˜“æœå‹™API `/transactions`

#### 2.3.1 åŸºæœ¬åŠŸèƒ½éœ€æ±‚
- **FR-203-001**ï¼šæä¾›å®Œæ•´è¨˜å¸³è¡¨å–®ï¼ŒåŒ…å«é‡‘é¡ã€ç§‘ç›®ã€å¸³æˆ¶ã€æ—¥æœŸã€æè¿°
- **FR-203-002**ï¼šæ”¯æ´æ”¶å…¥/æ”¯å‡º/è½‰å¸³ä¸‰ç¨®äº¤æ˜“é¡å‹åˆ‡æ›
- **FR-203-003**ï¼šæ•´åˆç§‘ç›®é¸æ“‡å™¨ã€å¸³æˆ¶é¸æ“‡å™¨ã€æ—¥æœŸé¸æ“‡å™¨
- **FR-203-004**ï¼šæä¾›è¡¨å–®é©—è­‰èˆ‡éŒ¯èª¤æç¤º
- **FR-203-005**ï¼šæ”¯æ´è‰ç¨¿å„²å­˜èˆ‡è‡ªå‹•å¾©åŸåŠŸèƒ½

#### 2.3.2 å››æ¨¡å¼å·®ç•°åŒ–éœ€æ±‚
- **Expertæ¨¡å¼**ï¼šå®Œæ•´æ¬„ä½ã€é€²éšé¸é …ã€æ‰¹æ¬¡è¼¸å…¥ã€è‡ªè¨‚ç§‘ç›®
- **Inertialæ¨¡å¼**ï¼šæ¨™æº–è¡¨å–®ã€å›ºå®šæ¬„ä½ã€æ¸…æ™°æ­¥é©Ÿ
- **Cultivationæ¨¡å¼**ï¼šå¼•å°å¡«å¯«ã€æ™ºæ…§å»ºè­°ã€ç¿’æ…£æé†’
- **Guidingæ¨¡å¼**ï¼šæ¥µç°¡è¡¨å–®ã€è‡ªå‹•å¡«å…¥ã€æœ€å°‘å¿…å¡«

---

## 3.0 è¼¸å…¥/è¼¸å‡ºè¦æ ¼ï¼ˆInput & Output Specificationsï¼‰

### 3.1 è¼¸å…¥è¦æ ¼å¼•ç”¨

#### 3.1.1 LINE OAå¿«é€Ÿè¨˜å¸³è¼¸å…¥è¦æ ¼ï¼ˆS-201ï¼‰
**APIç«¯é»**ï¼š`POST /transactions/quick`  
**è¦æ ¼åƒç…§**ï¼š81è™Ÿè³‡æ–™å¤¾ â†’ 8103è¨˜å¸³äº¤æ˜“æœå‹™APIè¦æ ¼ â†’ `/transactions/quick` ç«¯é»  
**å››æ¨¡å¼å·®ç•°**ï¼š
- **Guidingæ¨¡å¼**ï¼šæ”¯æ´æœ€ç°¡åŒ–è¼¸å…¥æ ¼å¼
- **å…¶ä»–æ¨¡å¼**ï¼šéµå¾ª8103è¦æ ¼çš„å®Œæ•´è§£æåŠŸèƒ½

#### 3.1.2 APPè¨˜å¸³è¡¨å–®è¼¸å…¥è¦æ ¼ï¼ˆS-203ï¼‰
**APIç«¯é»**ï¼š`POST /transactions`  
**è¦æ ¼åƒç…§**ï¼š81è™Ÿè³‡æ–™å¤¾ â†’ 8103è¨˜å¸³äº¤æ˜“æœå‹™APIè¦æ ¼ â†’ `/transactions` ç«¯é»  
**PLå±¤é—œæ³¨**ï¼šè¡¨å–®é©—è­‰ã€å¿…å¡«æ¬„ä½ã€å››æ¨¡å¼å·®ç•°åŒ–è™•ç†

#### 3.1.3 è¨˜å¸³ä¸»é å„€è¡¨æ¿è¼¸å…¥è¦æ ¼ï¼ˆS-202ï¼‰
**APIç«¯é»**ï¼š`GET /transactions/dashboard`  
**è¦æ ¼åƒç…§**ï¼š81è™Ÿè³‡æ–™å¤¾ â†’ 8103è¨˜å¸³äº¤æ˜“æœå‹™APIè¦æ ¼ â†’ `/transactions/dashboard` ç«¯é»  
**PLå±¤é—œæ³¨**ï¼šçµ±è¨ˆæœŸé–“é¸æ“‡ã€å¸³æœ¬ç¯©é¸ã€å››æ¨¡å¼é¡¯ç¤ºå·®ç•°

### 3.2 è¼¸å‡ºè¦æ ¼å¼•ç”¨

#### 3.2.1 å¿«é€Ÿè¨˜å¸³è¼¸å‡ºè¦æ ¼ï¼ˆS-201ï¼‰
**è¦æ ¼åƒç…§**ï¼š81è™Ÿè³‡æ–™å¤¾ â†’ 8103è¨˜å¸³äº¤æ˜“æœå‹™APIè¦æ ¼ â†’ `/transactions/quick` æˆåŠŸå›æ‡‰  
**å››æ¨¡å¼å·®ç•°åŒ–è™•ç†**ï¼š
- **Expertæ¨¡å¼**ï¼šé¡¯ç¤ºå®Œæ•´è§£æçµæœã€é¤˜é¡è®Šå‹•ã€çµ±è¨ˆè³‡è¨Š
- **Cultivationæ¨¡å¼**ï¼šé¡¯ç¤ºæˆå°±é€²åº¦ã€é€£çºŒè¨˜å¸³å¤©æ•¸ã€æ¿€å‹µè¨Šæ¯
- **Inertial/Guidingæ¨¡å¼**ï¼šç°¡åŒ–ç¢ºèªè¨Šæ¯ã€åŸºæœ¬çµ±è¨ˆ

#### 3.2.2 è¨˜å¸³è¡¨å–®è¼¸å‡ºè¦æ ¼ï¼ˆS-203ï¼‰
**è¦æ ¼åƒç…§**ï¼š81è™Ÿè³‡æ–™å¤¾ â†’ 8103è¨˜å¸³äº¤æ˜“æœå‹™APIè¦æ ¼ â†’ `/transactions` æˆåŠŸå›æ‡‰  
**PLå±¤è™•ç†é‡é»**ï¼š
- è¨˜å¸³æˆåŠŸå¾Œçš„åé¥‹å±•ç¤º
- å››æ¨¡å¼å·®ç•°åŒ–çš„å¾ŒçºŒæ“ä½œå»ºè­°
- è¡¨å–®é‡ç½®èˆ‡é€£çºŒè¨˜å¸³æ”¯æ´

#### 3.2.3 å„€è¡¨æ¿è¼¸å‡ºè¦æ ¼ï¼ˆS-202ï¼‰
**è¦æ ¼åƒç…§**ï¼š81è™Ÿè³‡æ–™å¤¾ â†’ 8103è¨˜å¸³äº¤æ˜“æœå‹™APIè¦æ ¼ â†’ `/transactions/dashboard` æˆåŠŸå›æ‡‰  
**å››æ¨¡å¼å·®ç•°åŒ–è™•ç†**ï¼š
- **Expertæ¨¡å¼**ï¼šå®Œæ•´å„€è¡¨æ¿æ•¸æ“šã€é€²éšåœ–è¡¨ã€è©³ç´°çµ±è¨ˆ
- **Cultivationæ¨¡å¼**ï¼šé€²åº¦è¿½è¹¤ã€æˆå°±å±•ç¤ºã€ç¿’æ…£åˆ†æ
- **Inertial/Guidingæ¨¡å¼**ï¼šç°¡åŒ–çµ±è¨ˆã€åŸºæœ¬åœ–è¡¨ã€æ¸…æ™°è³‡è¨Š

### 3.3 PLå±¤ç‰¹æ®Šè™•ç†éœ€æ±‚

#### 3.3.1 å››æ¨¡å¼éŸ¿æ‡‰å¼è™•ç†
PLå±¤éœ€æ ¹æ“šç”¨æˆ¶æ¨¡å¼èª¿æ•´APIå›æ‡‰çš„è™•ç†æ–¹å¼ï¼š
- **è³‡æ–™å±•ç¤ºæ·±åº¦**ï¼šExpert > Inertial > Cultivation > Guiding
- **äº’å‹•è¤‡é›œåº¦**ï¼šä¾æ“šæ¨¡å¼èª¿æ•´è¡¨å–®æ¬„ä½èˆ‡æ“ä½œé¸é …
- **è¦–è¦ºå›é¥‹**ï¼šä¸åŒæ¨¡å¼æ¡ç”¨ä¸åŒçš„æˆåŠŸ/éŒ¯èª¤è¨Šæ¯é¢¨æ ¼

#### 3.3.2 æœ¬åœ°å¿«å–ç­–ç•¥
- **è¡¨å–®è‰ç¨¿**ï¼šå³æ™‚å„²å­˜ï¼Œé˜²æ­¢è³‡æ–™éºå¤±
- **å¸¸ç”¨é¸é …**ï¼šç§‘ç›®ã€å¸³æˆ¶ä½¿ç”¨é »ç‡æœ¬åœ°å¿«å–
- **çµ±è¨ˆè³‡æ–™**ï¼šé—œéµåœ–è¡¨è³‡æ–™æœ¬åœ°å‚™ä»½ï¼Œæ”¯æ´é›¢ç·šæŸ¥çœ‹

#### 3.3.3 éŒ¯èª¤è™•ç†å°æ‡‰
æ‰€æœ‰APIéŒ¯èª¤è™•ç†åƒç…§ç¬¬4ç« è¦ç¯„ï¼ŒPLå±¤è² è²¬ï¼š
- éŒ¯èª¤è¨Šæ¯çš„ä½¿ç”¨è€…å‹å–„åŒ–è½‰æ›
- è¡¨å–®é©—è­‰éŒ¯èª¤çš„å³æ™‚åé¥‹
- ç¶²è·¯ç•°å¸¸æ™‚çš„é›¢ç·šæ¨¡å¼å„ªé›…é™ç´š

---

## 4.0 éŒ¯èª¤è™•ç†èˆ‡ä¾‹å¤–ç‹€æ³ï¼ˆError Handling & Edge Casesï¼‰

### 4.1 è¨˜å¸³ç›¸é—œéŒ¯èª¤ï¼ˆåŸºæ–¼8103 APIè¦æ ¼ï¼‰

#### 4.1.1 å¿«é€Ÿè¨˜å¸³è§£æéŒ¯èª¤ï¼ˆPOST /transactions/quickï¼‰
```yaml
PARSE_FAILED:
  http_status: 400
  code: "PARSE_FAILED"
  message: "ç„¡æ³•è§£æè¨˜å¸³å…§å®¹ï¼Œè«‹å˜—è©¦ã€Œé‡‘é¡ é …ç›®ã€æ ¼å¼"
  field: "input"
  ui_action: "æä¾›è¼¸å…¥æ ¼å¼å»ºè­°"
  retry_allowed: true
  
AMOUNT_INVALID:
  http_status: 400
  code: "VALIDATION_ERROR"
  message: "é‡‘é¡æ ¼å¼ä¸æ­£ç¢º"
  field: "amount"
  ui_action: "é‡æ–°è¼¸å…¥é‡‘é¡"
  retry_allowed: true
  details:
    suggestions: ["è«‹è¼¸å…¥æ•¸å­—", "æ”¯æ´å°æ•¸é»", "ç¯„ä¾‹ï¼š150.5"]
```

#### 4.1.2 è¨˜å¸³è¡¨å–®é©—è­‰éŒ¯èª¤ï¼ˆPOST /transactionsï¼‰
```yaml
REQUIRED_FIELD:
  http_status: 400
  code: "VALIDATION_ERROR"
  message: "å¿…å¡«æ¬„ä½ä¸èƒ½ç‚ºç©º"
  field: "amount"
  ui_action: "æ¨™ç¤ºå¿…å¡«æ¬„ä½ä¸¦èšç„¦"
  retry_allowed: true
  
AMOUNT_RANGE_ERROR:
  http_status: 400
  code: "BUSINESS_LOGIC_ERROR"
  message: "é‡‘é¡è¶…å‡ºå…è¨±ç¯„åœ"
  field: "amount"
  ui_action: "èª¿æ•´é‡‘é¡è‡³åˆç†ç¯„åœ"
  retry_allowed: true
  details:
    min_amount: 0.01
    max_amount: 999999999
```

#### 4.1.3 ç§‘ç›®é¸æ“‡éŒ¯èª¤ï¼ˆåŸºæ–¼8106 APIè¦æ ¼ï¼‰
```yaml
CATEGORY_NOT_FOUND:
  http_status: 404
  code: "RESOURCE_NOT_FOUND"
  message: "é¸æ“‡çš„ç§‘ç›®ä¸å­˜åœ¨æˆ–å·²è¢«åˆªé™¤"
  field: "categoryId"
  ui_action: "é‡æ–°é¸æ“‡ç§‘ç›®"
  retry_allowed: true
  
CATEGORY_INACTIVE:
  http_status: 422
  code: "BUSINESS_LOGIC_ERROR"
  message: "é¸æ“‡çš„ç§‘ç›®å·²åœç”¨"
  field: "categoryId"
  ui_action: "é¸æ“‡å…¶ä»–ç§‘ç›®æˆ–è¯ç¹«ç®¡ç†å“¡"
  retry_allowed: true
```

#### 4.1.4 å¸³æˆ¶é¸æ“‡éŒ¯èª¤ï¼ˆåŸºæ–¼8105 APIè¦æ ¼ï¼‰
```yaml
ACCOUNT_NOT_FOUND:
  http_status: 404
  code: "RESOURCE_NOT_FOUND"
  message: "é¸æ“‡çš„å¸³æˆ¶ä¸å­˜åœ¨"
  field: "accountId"
  ui_action: "é‡æ–°é¸æ“‡å¸³æˆ¶"
  retry_allowed: true
  
INSUFFICIENT_BALANCE:
  http_status: 422
  code: "BUSINESS_LOGIC_ERROR"
  message: "å¸³æˆ¶é¤˜é¡ä¸è¶³"
  field: "amount"
  ui_action: "èª¿æ•´é‡‘é¡æˆ–é¸æ“‡å…¶ä»–å¸³æˆ¶"
  retry_allowed: true
  details:
    current_balance: 1000
    required_amount: 1500
```

### 4.2 ç¶²è·¯é€£ç·šéŒ¯èª¤

#### 4.2.1 é€£ç·šä¸­æ–·è™•ç†
```yaml
CONNECTION_TIMEOUT:
  http_status: null
  code: "NETWORK_TIMEOUT"
  message: "ç¶²è·¯é€£ç·šé€¾æ™‚ï¼Œè¨˜å¸³è³‡æ–™å·²æš«å­˜"
  ui_action: "å•Ÿç”¨é›¢ç·šæ¨¡å¼ä¸¦ç¨å¾ŒåŒæ­¥"
  retry_allowed: true
  offline_support: true
  
NO_INTERNET_CONNECTION:
  http_status: null
  code: "NO_INTERNET"
  message: "ç„¡ç¶²è·¯é€£ç·šï¼Œå°‡åœ¨é€£ç·šæ¢å¾©å¾Œè‡ªå‹•åŒæ­¥"
  ui_action: "å•Ÿç”¨é›¢ç·šè¨˜å¸³æ¨¡å¼"
  offline_mode_available: true
```

### 4.3 è³‡æ–™é©—è­‰éŒ¯èª¤

#### 4.3.1 è¡¨å–®é©—è­‰éŒ¯èª¤
```yaml
FORM_VALIDATION_ERROR:
  code: "FORM_VALIDATION_ERROR"
  message: "è¡¨å–®è³‡æ–™é©—è­‰å¤±æ•—"
  ui_action: "æª¢æŸ¥ä¸¦ä¿®æ­£æ¨™ç¤ºçš„æ¬„ä½"
  retry_allowed: true
  details:
    validation_errors:
      - field: "amount"
        message: "é‡‘é¡å¿…é ˆå¤§æ–¼0"
        value: "-100"
      - field: "date"
        message: "æ—¥æœŸä¸èƒ½æ˜¯æœªä¾†æ—¥æœŸ"
        value: "2025-12-31"
```

#### 4.3.2 æ¥­å‹™è¦å‰‡éŒ¯èª¤
```yaml
DUPLICATE_TRANSACTION:
  code: "DUPLICATE_TRANSACTION"
  message: "ç›¸åŒæ™‚é–“å·²æœ‰ç›¸ä¼¼è¨˜éŒ„"
  ui_action: "ç¢ºèªæ˜¯å¦é‡è¤‡è¨˜å¸³"
  retry_allowed: true
  details:
    similar_transaction:
      id: "transaction-uuid-001"
      amount: 150
      date: "2025-09-11"
      description: "åˆé¤"
```

### 4.4 ç³»çµ±ç•°å¸¸è™•ç†

#### 4.4.1 APIæœå‹™éŒ¯èª¤
```yaml
SERVICE_UNAVAILABLE:
  http_status: 503
  code: "SERVICE_UNAVAILABLE"
  message: "è¨˜å¸³æœå‹™æš«æ™‚ç„¡æ³•ä½¿ç”¨"
  ui_action: "å•Ÿç”¨é›¢ç·šæ¨¡å¼æˆ–ç¨å¾Œå†è©¦"
  retry_allowed: true
  offline_fallback: true
  
INTERNAL_SERVER_ERROR:
  http_status: 500
  code: "INTERNAL_SERVER_ERROR"
  message: "ç³»çµ±æš«æ™‚ç•°å¸¸ï¼Œè¨˜å¸³è³‡æ–™å·²ä¿å­˜"
  ui_action: "ç¨å¾Œè‡ªå‹•é‡è©¦æˆ–è¯ç¹«å®¢æœ"
  retry_allowed: true
  auto_retry: true
```

#### 4.4.2 æœ¬åœ°å„²å­˜éŒ¯èª¤
```yaml
STORAGE_FULL:
  code: "LOCAL_STORAGE_FULL"
  message: "è£ç½®å„²å­˜ç©ºé–“ä¸è¶³"
  ui_action: "æ¸…ç†å¿«å–æˆ–é‡‹æ”¾ç©ºé–“"
  retry_allowed: true
  
STORAGE_ACCESS_DENIED:
  code: "STORAGE_ACCESS_DENIED"
  message: "ç„¡æ³•å­˜å–æœ¬åœ°å„²å­˜"
  ui_action: "æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼æ¬Šé™"
  retry_allowed: false
```

### 4.5 éŒ¯èª¤å›é¥‹èˆ‡å¾©åŸæ©Ÿåˆ¶

#### 4.5.1 å››æ¨¡å¼å·®ç•°åŒ–éŒ¯èª¤è™•ç†
```yaml
error_handling_by_mode:
  Expert:
    show_technical_details: true
    provide_debug_info: true
    show_retry_options: true
  Inertial:
    show_standard_message: true
    provide_clear_actions: true
    maintain_consistency: true
  Cultivation:
    show_encouraging_message: true
    provide_learning_tips: true
    track_error_patterns: true
  Guiding:
    show_simple_message: true
    provide_one_click_fix: true
    minimize_complexity: true
```

#### 4.5.2 é›¢ç·šæ¨¡å¼æ”¯æ´
```yaml
offline_capabilities:
  supported_operations:
    - "è¨˜å¸³è¡¨å–®è¼¸å…¥èˆ‡æš«å­˜"
    - "æœ¬åœ°è‰ç¨¿ç®¡ç†"
    - "å¿«å–è³‡æ–™æŸ¥çœ‹"
  
  unsupported_operations:
    - "LINE OAè¨˜å¸³"
    - "å³æ™‚çµ±è¨ˆæ›´æ–°"
    - "è·¨è£ç½®åŒæ­¥"
  
  sync_strategy:
    - "ç¶²è·¯æ¢å¾©å¾Œè‡ªå‹•åŒæ­¥"
    - "è¡çªè™•ç†èˆ‡åˆä½µ"
    - "åŒæ­¥ç‹€æ…‹æç¤º"
```

#### 4.5.3 è‡ªå‹•é‡è©¦èˆ‡å¾©åŸ
```yaml
retry_strategies:
  form_submission:
    max_attempts: 3
    backoff_strategy: "exponential"
    preserve_form_data: true
  
  data_sync:
    max_attempts: 5
    retry_interval: [1, 2, 4, 8, 16] # seconds
    preserve_queue: true
  
  critical_operations:
    max_attempts: 1
    immediate_feedback: true
    fallback_available: true
```
