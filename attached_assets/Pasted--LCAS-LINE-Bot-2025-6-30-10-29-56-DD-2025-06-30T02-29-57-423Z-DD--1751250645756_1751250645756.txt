ğŸš€ LCAS LINE Bot å•Ÿå‹•ä¸­...
ğŸ“… å•Ÿå‹•æ™‚é–“: 2025/6/30 ä¸Šåˆ10:29:56
 DDæ¨¡çµ„åˆå§‹åŒ–æª¢æŸ¥ [2025-06-30T02:29:57.423Z]
DDæ¨¡çµ„ç‰ˆæœ¬: 2.0.19 (2025-06-28)
åŸ·è¡Œæ™‚é–“: 6/30/2025, 2:29:57 AM
ä¸»è©¦ç®—è¡¨æª¢æŸ¥: æˆåŠŸ
æ—¥èªŒè¡¨æª¢æŸ¥: æˆåŠŸ
ç§‘ç›®è¡¨æª¢æŸ¥: æˆåŠŸ
ç§‘ç›®è¡¨æœ‰ [object Promise] è¡Œæ•¸æ“š
BK_processBookkeepingå‡½æ•¸æª¢æŸ¥: å­˜åœ¨
WHæ¨¡çµ„åˆå§‹åŒ–ï¼Œç‰ˆæœ¬: 2.0.8 (2025-06-28)
 DDæ¨¡çµ„åˆå§‹åŒ–æª¢æŸ¥ 2025-06-30T02:29:57.483Z
DDæ¨¡çµ„ç‰ˆæœ¬: 2.0.19 (2025-06-28)
åŸ·è¡Œæ™‚é–“: 6/30/2025, 2:29:57 AM
ä¸»è©¦ç®—è¡¨æª¢æŸ¥: æˆåŠŸ
æ—¥èªŒè¡¨æª¢æŸ¥: æˆåŠŸ
ç§‘ç›®è¡¨æª¢æŸ¥: æˆåŠŸ
BK_processBookkeepingå‡½æ•¸æª¢æŸ¥: å­˜åœ¨
âœ… WH æ¨¡çµ„å·²è¼‰å…¥ä¸¦å•Ÿå‹•æœå‹™å™¨
ğŸ’¡ æç¤º: WH æ¨¡çµ„æœƒåœ¨ Port 3000 å»ºç«‹æœå‹™å™¨
ğŸ“¡ é æœŸ Webhook URL: https://your-repl-url.replit.dev/webhook
ğŸ‰ LCAS LINE Bot å•Ÿå‹•å®Œæˆï¼
ğŸ’¡ æç¤º: æœå‹™å™¨æœƒæ¯3åˆ†é˜è¼¸å‡ºå¿ƒè·³ï¼Œæ¯15åˆ†é˜è‡ªæˆ‘ ping ä»¥ä¿æŒæ´»èºç‹€æ…‹
ğŸ“± ç¾åœ¨å¯ä»¥ç”¨ LINE ç™¼é€è¨Šæ¯æ¸¬è©¦äº†ï¼
ğŸŒ WH æ¨¡çµ„é‹è¡Œåœ¨ Port 3000ï¼Œé€šé Replit HTTPS ä»£ç†å°å¤–æœå‹™
ğŸš€ WH Webhook Server is running on port 3000
ğŸ“… å•Ÿå‹•æ™‚é–“: 2025-06-30 10:29:57
ğŸŒ Server is accessible at http://0.0.0.0:3000
ğŸ“¡ Webhook endpoint: http://0.0.0.0:3000/webhook
[WH 2.0.7 LOG] WH 2.0.7: æœå‹™å™¨å•Ÿå‹•æˆåŠŸï¼Œç›£è½ç«¯å£ 3000 (INFO)
WH_verifySignature: æ¸¬è©¦æ¨¡å¼ï¼Œè·³éç°½ç« é©—è­‰
[WH 2.0.7 LOG] WH 2.0.7: æ”¶åˆ°LINE Webhookè«‹æ±‚ [8ac2e54c] (INFO)
é–‹å§‹éåŒæ­¥è™•ç†è«‹æ±‚ [8ac2e54c]
[WH 2.0.7 LOG] WH 2.0.7: é–‹å§‹éåŒæ­¥è™•ç†è«‹æ±‚ [8ac2e54c] (INFO)
[WH 2.0.7 LOG] WH 2.0.3: é–‹å§‹è™•ç†äº‹ä»¶: message [8ac2e54c] (INFO)
è™•ç†æ¶ˆæ¯äº‹ä»¶: text [8ac2e54c]
æ”¶åˆ°æ–‡æœ¬æ¶ˆæ¯: "æ¸¬è©¦æ”¯å‡º77777" [8ac2e54c]
[WH 2.0.7 LOG] WH 2.0.3: æ”¶åˆ°æ–‡æœ¬æ¶ˆæ¯: "æ¸¬è©¦æ”¯å‡º77777" [8ac2e54c] (INFO)
æº–å‚™è¨Šæ¯æ•¸æ“š: {"text":"æ¸¬è©¦æ”¯å‡º77777","userId":"Uae47d9d496e4596d70ed724a7d6e2948","timestamp":1751250608051,"replyToken":"439859e4f5c64c8b94d5eb8e95182389"} [8ac2e54c]
æº–å‚™èª¿ç”¨DD_distributeData [8ac2e54c]
[WH 2.0.7 LOG] WH 2.0.3: æº–å‚™èª¿ç”¨DD_distributeData [8ac2e54c] (INFO)
=== DD_distributeDataåŸ·è¡Œåˆå§‹æª¢æŸ¥ ===
DD_MAX_RETRIES: 3
DD_RETRY_DELAY: 1000
DD_TARGET_MODULE_BK: BK
DD_TARGET_MODULE_WH: WH
DD_distributeDataè¢«èª¿ç”¨ï¼Œæ•¸æ“šæº: LINE, ç”¨æˆ¶ID: Uae47d9d496e4596d70ed724a7d6e2948, æ™‚é–“: 2025-06-30T02:30:09.710Z
è™•ç†ID: 7a979e2e
[INFO] [DD] é–‹å§‹è™•ç†æ•¸æ“š [7a979e2e]
æ¨™æº–åŒ–ç”¨æˆ¶ID: userId -> user_id = Uae47d9d496e4596d70ed724a7d6e2948
èª¿æ•´æ•¸æ“šä¾†æºå¾ã€ŒLINEã€åˆ°ã€Œä½¿ç”¨è€…è¨Šæ¯ã€
è™•ç†æ•¸æ“š: {"text":"æ¸¬è©¦æ”¯å‡º77777","userId":"Uae47d9d496e4596d70ed724a7d6e2948","timestamp":1751250608051,"replyTok..., ä¾†æº: ä½¿ç”¨è€…è¨Šæ¯
è™•ç†æ™‚é–“æˆ³: 1751250608051
é–‹å§‹è½‰æ›æ™‚é–“æˆ³: 1751250608051 [286dbd8c]
æ™‚é–“æˆ³è½‰æ›çµæœ: 2025/6/30 02:30 [286dbd8c]
æ™‚é–“æˆ³è½‰æ›çµæœ: 2025/6/30 02:30
è™•ç†ç”¨æˆ¶è¨Šæ¯: "æ¸¬è©¦æ”¯å‡º77777"
[INFO] [DD] è™•ç†ç”¨æˆ¶è¨Šæ¯: "æ¸¬è©¦æ”¯å‡º77777"
[INFO] [DD] è™•ç†ç”¨æˆ¶æ¶ˆæ¯: "æ¸¬è©¦æ”¯å‡º77777"
DD_processUserMessage: é–‹å§‹è™•ç†ç”¨æˆ¶è¨Šæ¯ "æ¸¬è©¦æ”¯å‡º77777" [ff03f2c6]
DD_CONFIG åˆå§‹åŒ–å®Œæˆ
DD_processUserMessage: æ¸…ç†å¾Œè¨Šæ¯: "æ¸¬è©¦æ”¯å‡º77777" [ff03f2c6]
DD_processUserMessage: èª¿ç”¨DD_parseInputFormat [ff03f2c6]
DD_parseInputFormat: é–‹å§‹è§£ææ–‡æœ¬ã€Œæ¸¬è©¦æ”¯å‡º77777ã€[ff03f2c6]
DD_parseInputFormat: è­˜åˆ¥æ¨™æº–æ ¼å¼ - ç§‘ç›®:ã€Œæ¸¬è©¦æ”¯å‡ºã€, é‡‘é¡:77777, æ”¯ä»˜æ–¹å¼:ã€Œé è¨­ã€ [ff03f2c6]
DD_processUserMessage: DD_parseInputFormatå›å‚³çµæœ: {"subject":"æ¸¬è©¦æ”¯å‡º","amount":77777,"rawAmount":"77777","paymentMethod":"é è¨­"} [ff03f2c6]
DD_processUserMessage: æˆåŠŸè§£æåŸºæœ¬è³‡è¨Š - ç§‘ç›®="æ¸¬è©¦æ”¯å‡º", é‡‘é¡=77777, æ”¯ä»˜æ–¹å¼=é è¨­ [ff03f2c6]
DD_processUserMessage: é–‹å§‹ç§‘ç›®åŒ¹é…éšæ®µ [ff03f2c6]
DD_processUserMessage: å˜—è©¦ç”¨æˆ¶åå¥½åŒ¹é… [ff03f2c6]
æŸ¥è©¢ç”¨æˆ¶åå¥½: userId=Uae47d9d496e4596d70ed724a7d6e2948, term="æ¸¬è©¦æ”¯å‡º" [66ef19c5]
æœªæ‰¾åˆ°ç”¨æˆ¶åå¥½ [66ef19c5]
DD_processUserMessage: å˜—è©¦ç²¾ç¢ºåŒ¹é… [ff03f2c6]
[INFO] [DD] å˜—è©¦æŸ¥è©¢ç§‘ç›®ä»£ç¢¼: "æ¸¬è©¦æ”¯å‡º" [ff03f2c6]
### ä½¿ç”¨2025-04-30-V4.1.5å¢å¼·ç‰ˆDD_getSubjectCode ###
æŸ¥è©¢ç§‘ç›®ä»£ç¢¼: "æ¸¬è©¦æ”¯å‡º", ID=96f31da2
æ¨™æº–åŒ–å¾Œçš„è¼¸å…¥: "æ¸¬è©¦æ”¯å‡º" [96f31da2]
è®€å–ç§‘ç›®è¡¨: 62è¡Œæ•¸æ“š [96f31da2]
---ç§‘ç›®æŸ¥è©¢è¨ºæ–·ä¿¡æ¯é–‹å§‹---[96f31da2]
å°‹æ‰¾ç§‘ç›®: "æ¸¬è©¦æ”¯å‡º"
æ­£åœ¨é€²è¡Œç²¾ç¢ºåŒ¹é…æŸ¥è©¢ï¼Œæ”¯æŒå…§éƒ¨ç©ºæ ¼...
ç§‘ç›®è¡¨é …ç›® #1: ä»£ç¢¼=101-10101, åç¨±="å­è¦ªè²»"
ç§‘ç›®è¡¨é …ç›® #2: ä»£ç¢¼=101-10102, åç¨±="Helperè–ªè³‡"
ç§‘ç›®è¡¨é …ç›® #3: ä»£ç¢¼=101-10103, åç¨±="ç”Ÿæ´»ç”¨å“"
ç§‘ç›®è¡¨é …ç›® #4: ä»£ç¢¼=101-10105, åç¨±="ç”Ÿé®®é›œè²¨"
ç§‘ç›®è¡¨é …ç›® #5: ä»£ç¢¼=101-10106, åç¨±="è¡£ç‰©é£¾å“"
ç§‘ç›®è¡¨é …ç›® #6: ä»£ç¢¼=101-10107, åç¨±="é›»ä¿¡ç¶²è·¯"
ç§‘ç›®è¡¨é …ç›® #7: ä»£ç¢¼=101-10108, åç¨±="ç†é«®ç†å®¹"
ç§‘ç›®è¡¨é …ç›® #8: ä»£ç¢¼=101-10110, åç¨±="3Cç”¨å“"
ç§‘ç›®è¡¨é …ç›® #9: ä»£ç¢¼=101-10111, åç¨±="åŒ–å¦ä¿é¤Šå“"
ç§‘ç›®è¡¨é …ç›® #60: ä»£ç¢¼=999-99999, åç¨±="æ¸¬è©¦æ”¯å‡º"
æ‰¾åˆ°ç²¾ç¢ºåŒ¹é…: "æ¸¬è©¦æ”¯å‡º" === "æ¸¬è©¦æ”¯å‡º"
[INFO] [DD] æˆåŠŸæŸ¥è©¢ç§‘ç›®ä»£ç¢¼: 999-99999 æ¸¬è©¦æ”¯å‡º [96f31da2]
---ç§‘ç›®æŸ¥è©¢è¨ºæ–·ä¿¡æ¯çµæŸ---[96f31da2]
DD_processUserMessage: ç²¾ç¢ºåŒ¹é…æˆåŠŸ "æ¸¬è©¦æ”¯å‡º" -> æ¸¬è©¦æ”¯å‡º [ff03f2c6]
[INFO] [DD] ç²¾ç¢ºåŒ¹é…æˆåŠŸ: "æ¸¬è©¦æ”¯å‡º" -> æ¸¬è©¦æ”¯å‡º, ç§‘ç›®ä»£ç¢¼=999-99999
DD_processUserMessage: æª¢æŸ¥æ˜¯å¦æœ‰å¤šé‡æ˜ å°„ [ff03f2c6]
æª¢æŸ¥è©å½™å¤šé‡æ˜ å°„: "æ¸¬è©¦æ”¯å‡º" [7d5bcd97]
è©å½™ "æ¸¬è©¦æ”¯å‡º" æ²’æœ‰æ˜ å°„ [7d5bcd97]
DD_processUserMessage: ç§‘ç›®åŒ¹é…å®Œæˆï¼Œæº–å‚™å›å‚³çµæœ [ff03f2c6]
[INFO] [DD] ç§‘ç›®åŒ¹é…å®Œæˆ: "æ¸¬è©¦æ”¯å‡º" -> æ¸¬è©¦æ”¯å‡º (exact_match)
DD_processUserMessage: æ ¹æ“šç§‘ç›®ä»£ç¢¼ 999 åˆ¤æ–·ç‚ºæ”¯å‡º [ff03f2c6]
è™•ç†æ–‡å­—ç§»é™¤é‡‘é¡å’Œæ”¯ä»˜æ–¹å¼: åŸå§‹æ–‡å­—="æ¸¬è©¦æ”¯å‡º77777", é‡‘é¡=77777, æ”¯ä»˜æ–¹å¼=æœªæŒ‡å®š
ä½¿ç”¨å°¾éƒ¨åŒ¹é…: "æ¸¬è©¦æ”¯å‡º"
DD_processUserMessage: ç”¨æˆ¶æŒ‡å®šäº†æ”¯ä»˜æ–¹å¼: é è¨­ [ff03f2c6]
DD_processUserMessage: å›å‚³çµæœ: {"type":"è¨˜å¸³","processed":true,"subject":"æ¸¬è©¦æ”¯å‡º","subjectName":"æ¸¬è©¦æ”¯å‡º","majorCode":"999","majorName":"æ¸¬è©¦æ”¯å‡º","subCode":"99999","amount":77777,"rawAmount":"77777","paymentMethod":"é è¨­","action":"æ”¯å‡º","confidence":1,"matchMethod":"exact_match","text":"æ¸¬è©¦æ”¯å‡º","originalSubject":"æ¸¬è©¦æ”¯å‡º","processId":"ff03f2c6"} [ff03f2c6]
DD_processUserMessageè¿”å›: {"type":"è¨˜å¸³","processed":true,"subject":"æ¸¬è©¦æ”¯å‡º","subjectName":"æ¸¬è©¦æ”¯å‡º","majorCode":"999","majorName":"æ¸¬è©¦æ”¯å‡º","subCode":"99999","amount":77777,"rawAmount":"77777","paymentMethod":"é è¨­","action":"æ”¯å‡º","confidence":1,"matchMethod":"exact_match","text":"æ¸¬è©¦æ”¯å‡º","originalSubject":"æ¸¬è©¦æ”¯å‡º","processId":"ff03f2c6"}
æˆåŠŸè§£æè¨Šæ¯: ç§‘ç›®=æ¸¬è©¦æ”¯å‡º, é‡‘é¡=77777, æ”¯ä»˜æ–¹å¼=é è¨­
[INFO] [DD] æˆåŠŸè§£æè¨Šæ¯: ç§‘ç›®=æ¸¬è©¦æ”¯å‡º, é‡‘é¡=77777, æ”¯ä»˜æ–¹å¼=é è¨­
è¨­ç½®æ”¯ä»˜æ–¹å¼: é è¨­
è¨Šæ¯è§£ææˆåŠŸ: ç§‘ç›®=æ¸¬è©¦æ”¯å‡º, é‡‘é¡=77777, æ”¯ä»˜æ–¹å¼=é è¨­
é–‹å§‹åˆ†é¡æ•¸æ“š
[INFO] [DD] é–‹å§‹åˆ†é¡æ•¸æ“š
é–‹å§‹åˆ†é¡ï¼Œä¾†æº: ä½¿ç”¨è€…è¨Šæ¯ [9f8d7458]
æª¢æ¸¬åˆ°å·²è™•ç†çš„è¨˜å¸³è¨Šæ¯
åˆ†é¡çµæœ: BK [9f8d7458]
æ•¸æ“šåˆ†é¡çµæœ: BK
[INFO] [DD] æ•¸æ“šåˆ†é¡çµæœ: BK
é–‹å§‹åˆ†ç™¼æ•¸æ“šè‡³ BK
[INFO] [DD] é–‹å§‹åˆ†ç™¼æ•¸æ“šè‡³ BK
é–‹å§‹åˆ†ç™¼æ•¸æ“šè‡³ BK [05f9d0a8]
[INFO] [DD] é–‹å§‹åˆ†ç™¼æ•¸æ“šè‡³ BK [05f9d0a8]
è½‰ç™¼åˆ°BKæ¨¡çµ„ [05f9d0a8]
[INFO] [DD] è½‰ç™¼åˆ°BKæ¨¡çµ„ [05f9d0a8]
é–‹å§‹èª¿ç”¨DD_processForBK [05f9d0a8]
[INFO] [DD] é–‹å§‹è™•ç†è¨˜å¸³æ•¸æ“š [8597ca7e]
[INFO] [DD] é–‹å§‹èª¿ç”¨BK_processBookkeeping [8597ca7e]
[8597ca7e] å³å°‡èª¿ç”¨ BK.BK_processBookkeepingï¼Œæ•¸æ“š: {"action":"æ”¯å‡º","subjectName":"æ¸¬è©¦æ”¯å‡º","amount":77777,"majorCode":"999","subCode":"99999","majorName":"","paymentMethod":"é è¨­","text":"æ¸¬è©¦æ”¯å‡º77777","formatId":"","originalSubject":"","userId":"Uae47d9d496e4...
[8597ca7e] BK_processBookkeeping: é–‹å§‹è™•ç†è¨˜å¸³è«‹æ±‚
[2025-06-30T02:30:11.739Z] [INFO] [BK] é–‹å§‹è™•ç†è¨˜å¸³è«‹æ±‚ [8597ca7e] | è¨˜å¸³è™•ç† | Uae47d9d496e4596d70ed724a7d6e2948 | BK_processBookkeeping
[8597ca7e] BK_processBookkeeping: æ ¼å¼åŒ–æ—¥æœŸ: 2025/06/30 10:30, æ™‚é–“: 10:30
[2025-06-30T02:30:11.739Z] [DEBUG] [BK] é–‹å§‹ç”Ÿæˆæ”¶æ”¯ID [8597ca7e] | IDç”Ÿæˆ |  | BK_generateBookkeepingId
è­¦å‘Š: DLæ¨¡çµ„æœªæ‰¾åˆ°ï¼Œå°‡ä½¿ç”¨åŸç”Ÿæ—¥èªŒç³»çµ±
[2025-06-30T02:30:13.475Z] [INFO] [BK] BKæ¨¡çµ„åˆå§‹åŒ–é–‹å§‹ [2025-06-30T02:30:11.739Z] | DLæ¨¡çµ„åˆå§‹åŒ–: å¤±æ•— (æœªæ‰¾åˆ°DLæ¨¡çµ„) | è¨˜å¸³è¡¨æª¢æŸ¥: æˆåŠŸ | ç³»çµ±åˆå§‹åŒ– |  | BK_initialize
[2025-06-30T02:30:13.836Z] [INFO] [BK] ç”Ÿæˆæ”¶æ”¯ID: 20250630-00003 [8597ca7e] | IDç”Ÿæˆ |  | BK_generateBookkeepingId
[8597ca7e] BK_processBookkeeping: ç”Ÿæˆè¨˜å¸³ID: 20250630-00003
[8597ca7e] BK_processBookkeeping: è™•ç†æ”¯å‡ºé‡‘é¡: 77777ï¼ŒåŸå§‹æ ¼å¼: 77,777
[8597ca7e] BK_processBookkeeping: ä½¿ç”¨åŸå§‹æ–‡æœ¬ä½œç‚ºå‚™è¨»: "æ¸¬è©¦æ”¯å‡º77777"
[8597ca7e] BK_processBookkeeping: æº–å‚™è¨˜å¸³æ•¸æ“š: ID=20250630-00003, ä½¿ç”¨è€…=Uae47d9d496e4596d70ed724a7d6e2948, é¡å‹=J, æ”¯ä»˜æ–¹å¼=é è¨­, åŸå§‹é‡‘é¡=77,777
[2025-06-30T02:30:13.840Z] [INFO] [BK] æº–å‚™è¨˜å¸³æ•¸æ“š [8597ca7e] | æ•¸æ“šæº–å‚™ | Uae47d9d496e4596d70ed724a7d6e2948 | BK_prepareBookkeepingData
[2025-06-30T02:30:13.840Z] [INFO] [BK] æ”¶åˆ°æ•¸æ“š: {"id":"20250630-00003","userType":"J","date":"2025/06/30","time":"10:30","majorCode":"999","minorCod... | æ•¸æ“šæº–å‚™ | Uae47d9d496e4596d70ed724a7d6e2948 | BK_prepareBookkeepingData
[2025-06-30T02:30:13.840Z] [INFO] [BK] å‚™è¨»å…§å®¹: "æ¸¬è©¦æ”¯å‡º77777" [8597ca7e] | æ•¸æ“šæº–å‚™ | Uae47d9d496e4596d70ed724a7d6e2948 | BK_prepareBookkeepingData
[2025-06-30T02:30:13.840Z] [WARNING] [BK] æœªè¨­ç½®actionï¼Œé€€å›åˆ°å‚³çµ±åˆ¤æ–·æ–¹å¼ [8597ca7e] | æ•¸æ“šæº–å‚™ | Uae47d9d496e4596d70ed724a7d6e2948 | BK_prepareBookkeepingData
[2025-06-30T02:30:13.840Z] [INFO] [BK] ä½¿ç”¨æ”¯å‡ºé‡‘é¡: 77777 [8597ca7e] | æ•¸æ“šæº–å‚™ | Uae47d9d496e4596d70ed724a7d6e2948 | BK_prepareBookkeepingData
BK_validatePaymentMethod: é©—è­‰æ”¯ä»˜æ–¹å¼ "é è¨­" å°æ‡‰ç§‘ç›®ä»£ç¢¼ 999
BK_validatePaymentMethod: ç§‘ç›®ä»£ç¢¼ 999 ç‚º8æˆ–9é–‹é ­ï¼Œä½¿ç”¨é»˜èªæ”¯ä»˜æ–¹å¼"ç¾é‡‘"
[2025-06-30T02:30:13.840Z] [INFO] [BK] è¨˜å¸³æ•¸æ“šæº–å‚™å®Œæˆ: æ”¶å…¥=, æ”¯å‡º=77777, æ”¯ä»˜æ–¹å¼=ç¾é‡‘, å‚™è¨»="æ¸¬è©¦æ”¯å‡º77777" [8597ca7e] | æ•¸æ“šæº–å‚™ | Uae47d9d496e4596d70ed724a7d6e2948 | BK_prepareBookkeepingData
[8597ca7e] BK_processBookkeeping: é–‹å§‹ä¿å­˜æ•¸æ“šåˆ°è©¦ç®—è¡¨
[2025-06-30T02:30:13.841Z] [DEBUG] [BK] é–‹å§‹å„²å­˜æ•¸æ“šåˆ°Google Sheets [8597ca7e] | æ•¸æ“šå­˜å„² |  | BK_saveToSpreadsheet
[2025-06-30T02:30:16.789Z] [INFO] [BK] æ•¸æ“šæˆåŠŸå„²å­˜åˆ°è¡Œè™Ÿ: 403 [8597ca7e] | æ•¸æ“šå­˜å„² |  | BK_saveToSpreadsheet
[8597ca7e] BK_processBookkeeping: æ•¸æ“šæˆåŠŸä¿å­˜åˆ°è©¦ç®—è¡¨ï¼Œè¡Œè™Ÿ: 403
[8597ca7e] BK_processBookkeeping: æœ€çµ‚ç¢ºèªçš„æ”¯ä»˜æ–¹å¼: ç¾é‡‘
[8597ca7e] BK_processBookkeeping: è¨˜å¸³è™•ç†æˆåŠŸ: 20250630-00003, ä½¿ç”¨è€…é¡å‹: J, åŸå§‹é‡‘é¡: 77,777, æ”¯ä»˜æ–¹å¼: ç¾é‡‘
[2025-06-30T02:30:16.789Z] [INFO] [BK] è¨˜å¸³è™•ç†æˆåŠŸ: 20250630-00003, æ”¯ä»˜æ–¹å¼: ç¾é‡‘, ä½¿ç”¨è€…: Uae47d9d496e4596d70ed724a7d6e2948, é¡å‹: J [8597ca7e] | è¨˜å¸³å®Œæˆ | Uae47d9d496e4596d70ed724a7d6e2948 | BK_processBookkeeping
[8597ca7e] BK.BK_processBookkeeping è¿”å›çµæœ: {"success":true,"message":"è¨˜å¸³æˆåŠŸï¼","data":{"id":"20250630-00003","date":"2025/06/30 10:30","subjectName":"æ¸¬è©¦æ”¯å‡º","amount":77777,"rawAmount":"77,777","action":"æ”¯å‡º","paymentMethod":"ç¾é‡‘","remark":"æ¸¬è©¦æ”¯å‡º77777","userId":"Uae47d9d496e4596d70ed724a7d6e2948","userType":"J"}}...
[INFO] [DD] BK_processBookkeepingèª¿ç”¨å®Œæˆï¼Œçµæœ: æˆåŠŸ [8597ca7e]
[INFO] [DD] è¨˜å¸³æˆåŠŸ: ID=20250630-00003, é‡‘é¡=77777, ç§‘ç›®=æ¸¬è©¦æ”¯å‡º, ä½¿ç”¨è€…é¡å‹=J [8597ca7e]
[INFO] [DD] ç”Ÿæˆå›è¦†è¨Šæ¯: è¨˜å¸³æˆåŠŸï¼
é‡‘é¡ï¼š77777å…ƒ (æ”¯å‡º)
æ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘
æ™‚é–“ï¼š2025/06/30 10:30
ç§‘...
DD_processForBKèª¿ç”¨å®Œæˆï¼Œçµæœ: {"success":true,"result":{"success":true,"message":"è¨˜å¸³æˆåŠŸï¼","data":{"id":"20250630-00003","date":"2025/06/30 10:30","subjectName":"æ¸¬è©¦æ”¯å‡º","amount":77777,"rawAmount":"77,777","action":"æ”¯å‡º","paymentMethod... [05f9d0a8]
æ•¸æ“šåˆ†ç™¼å®Œæˆ: {"success":true,"result":{"success":true,"message":"è¨˜å¸³æˆåŠŸï¼","data":{"id":"20250630-00003","date":"2025/06/30 10:30","subjectName":"æ¸¬è©¦æ”¯å‡º","amount":77777,"rawAmount":"77,777","action":"æ”¯å‡º","paymentMethod... [05f9d0a8]
[INFO] [DD] æ•¸æ“šåˆ†ç™¼å®Œæˆï¼Œçµæœ: {"success":true,"result":{"success":true,"message":"è¨˜å¸³æˆåŠŸï¼","data":{"id":"20250630-00003","date":"2025/06/30 10:30","subjectName":"æ¸¬è©¦æ”¯å‡º","amount":77777,"rawAmount":"77,777","action":"æ”¯å‡º","paymentMethod... [05f9d0a8]
æ•¸æ“šåˆ†ç™¼å®Œæˆï¼Œçµæœ: {"success":true,"result":{"success":true,"message":"è¨˜å¸³æˆåŠŸï¼","data":{"id":"20250630-00003","date":"2025/06/30 10:30","subjectName":"æ¸¬è©¦æ”¯å‡º","amount":77777,"rawAmount":"77,777","action":"æ”¯å‡º","paymentMethod":"ç¾é‡‘","remark":"æ¸¬è©¦æ”¯å‡º77777","userId":"Uae47d9d496e4596d70ed724a7d6e2948","userType":"J"}},"module":"BK","isIncome":false,"majorCode":"999","action":"æ”¯å‡º","responseMessage":"è¨˜å¸³æˆåŠŸï¼\né‡‘é¡ï¼š77777å…ƒ (æ”¯å‡º)\næ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘\næ™‚é–“ï¼š2025/06/30 10:30\nç§‘ç›®ï¼šæ¸¬è©¦æ”¯å‡º\nå‚™è¨»ï¼šæ¸¬è©¦æ”¯å‡º77777\næ”¶æ”¯IDï¼š20250630-00003\nä½¿ç”¨è€…é¡å‹ï¼šJ","processId":"8597ca7e","userId":"Uae47d9d496e4596d70ed724a7d6e2948","userType":"J"}
[INFO] [DD] æ•¸æ“šåˆ†ç™¼å®Œæˆï¼Œçµæœ: {"success":true,"result":{"success":true,"message":"è¨˜å¸³æˆåŠŸï¼","data":{"id":"20250630-00003","date":"2025/06/30 10:30","subjectName":"æ¸¬è©¦æ”¯å‡º","amount":77777,"rawAmount":"77,777","action":"æ”¯å‡º","paymentMethod":"ç¾é‡‘","remark":"æ¸¬è©¦æ”¯å‡º77777","userId":"Uae47d9d496e4596d70ed724a7d6e2948","userType":"J"}},"module":"BK","isIncome":false,"majorCode":"999","action":"æ”¯å‡º","responseMessage":"è¨˜å¸³æˆåŠŸï¼\né‡‘é¡ï¼š77777å…ƒ (æ”¯å‡º)\næ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘\næ™‚é–“ï¼š2025/06/30 10:30\nç§‘ç›®ï¼šæ¸¬è©¦æ”¯å‡º\nå‚™è¨»ï¼šæ¸¬è©¦æ”¯å‡º77777\næ”¶æ”¯IDï¼š20250630-00003\nä½¿ç”¨è€…é¡å‹ï¼šJ","processId":"8597ca7e","userId":"Uae47d9d496e4596d70ed724a7d6e2948","userType":"J"}
DD_formatSystemReplyMessage: é–‹å§‹æ ¼å¼åŒ–è¨Šæ¯ [7a979e2e], æ¨¡çµ„: BK
DD_formatSystemReplyMessage: è¼¸å…¥æ•¸æ“š: {"success":true,"result":{"success":true,"message":"è¨˜å¸³æˆåŠŸï¼","data":{"id":"20250630-00003","date":"2025/06/30 10:30","subjectName":"æ¸¬è©¦æ”¯å‡º","amount":77777,"rawAmount":"77,777","action":"æ”¯å‡º","paymentMethod":"ç¾é‡‘","remark":"æ¸¬è©¦æ”¯å‡º77777","userId":"Uae47d9d496e4596d70ed724a7d6e2948","userType":"J"}},"module":"...
DD_formatSystemReplyMessage: æª¢æ¸¬åˆ°å®Œæ•´responseMessageï¼Œå°‡ç›´æ¥ä½¿ç”¨ [7a979e2e]
DD_formatSystemReplyMessage: ç›´æ¥è¿”å›ç¾æœ‰è¨Šæ¯ï¼Œé•·åº¦=97 [7a979e2e]
DD_distributeDataè™•ç†å®Œæˆï¼Œçµæœé è¦½: {"success":true,"hasResponseMessage":true,"responseMsgLength":97,"errorType":"ç„¡","moduleCode":"BK","hasPartialData":true} [8ac2e54c]
partialDataå…§å®¹: {} [8ac2e54c]
æº–å‚™å›è¦†è¨Šæ¯ [8ac2e54c]
WH_replyMessage: æ”¶åˆ°é¡å‹ object çš„è¨Šæ¯å°è±¡
WH_replyMessage: è¨Šæ¯å°è±¡çµæ§‹: ["success","responseMessage","originalResult","processId","errorType","moduleCode","partialData","error"]
WH_replyMessage: è¨Šæ¯å°è±¡é è¦½: {"success":true,"responseMessage":"è¨˜å¸³æˆåŠŸï¼\né‡‘é¡ï¼š77777å…ƒ (æ”¯å‡º)\næ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘\næ™‚é–“ï¼š2025/06/30 10:30\nç§‘ç›®ï¼šæ¸¬è©¦æ”¯å‡º\nå‚™è¨»ï¼šæ¸¬è©¦æ”¯å‡º77777\næ”¶æ”¯IDï¼š20250630-00003\nä½¿ç”¨è€…é¡å‹ï¼šJ","originalResult":{"success":true,"result":{"success":true,"...
WH_replyMessage: ç™¼ç¾responseMessageå±¬æ€§ (string), é•·åº¦=97
WH_replyMessage: ä½¿ç”¨responseMessageå±¬æ€§ (è¨˜å¸³æˆåŠŸï¼
é‡‘é¡ï¼š77777å…ƒ (æ”¯å‡º)
æ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘
æ™‚...)
WH_replyMessage: é–‹å§‹å›è¦†è¨Šæ¯: è¨˜å¸³æˆåŠŸï¼
é‡‘é¡ï¼š77777å…ƒ (æ”¯å‡º)
æ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘
æ™‚é–“ï¼š2025/06/30 10:30
ç§‘...
[WH 2.0.7 LOG] WH 2.0.3: é–‹å§‹å›è¦†è¨Šæ¯: è¨˜å¸³æˆåŠŸï¼
é‡‘é¡ï¼š77777å…ƒ (æ”¯å‡º)
æ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘
æ™‚é–“ï¼š2025/06/30 10:30
ç§‘... (INFO)
[WH 2.0.7 LOG] WH 2.0.3: ç™¼é€APIè«‹æ±‚åˆ°LINEå¹³å° (INFO)
è¨Šæ¯å›è¦†çµæœ: {} [8ac2e54c]
éåŒæ­¥è™•ç†å®Œæˆï¼Œå·²æ¸…ç†æ•¸æ“š [8ac2e54c]
[WH 2.0.7 LOG] WH 2.0.7: éåŒæ­¥è™•ç†å®Œæˆ [8ac2e54c] (INFO)
LINE API å›è¦†çµæœ: 200
å›è¦†è¨Šæ¯æˆåŠŸ
[WH 2.0.7 LOG] WH 2.0.3: å›è¦†è¨Šæ¯æˆåŠŸç™¼é€ (INFO)
^CğŸ›‘ æ”¶åˆ°SIGINTä¿¡è™Ÿï¼Œæ­£åœ¨é—œé–‰æœå‹™å™¨...
[WH 2.0.7 LOG] WH 2.0.7: æ”¶åˆ°SIGINTä¿¡è™Ÿï¼Œæ­£åœ¨é—œé–‰æœå‹™å™¨ (INFO)