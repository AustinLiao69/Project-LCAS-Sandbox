------------------------------------------
20251216. 導入LINE quick reply(review中)
不要寫code，請根據我的回覆更新提案。提案時請專注解決當前發生的問題就好，不需要優化、強化、驗證、監測、測試等手段，除了列出原因之外也請你提出insight。

問題分析 (以資深SA深度思考)
問題定義
當前LBK模組的新科目歸類功能僅提供純文字選項，用戶需要手動輸入數字代碼(如"101"、"104")來進行科目歸類。這種方式在LINE介面中體驗不佳，容易造成用戶誤輸或選擇困難。
根本原因分析
技術層面原因：
1.	WH模組缺乏Quick Reply處理機制 - 現有WH模組(v2.5.0)雖有Quick Reply相關函數，但未與LBK新科目歸類流程整合
2.	LBK模組回應格式不支援Quick Reply - LBK_buildClassificationMessage函數只生成純文字，未包含Quick Reply結構
3.	對話狀態管理缺失 - 系統無法記住用戶正在進行科目歸類，導致後續選擇無法正確處理

業務流程問題：
•	就像公司客服部門只能提供文字選項，而不是按鈕式選單，造成客戶體驗不佳

詳細技術分析
根據console輸出分析：
[INFO] [LBK] v1.4.1 基於0099配置生成科目歸類選單，共10個選項
目前LBK模組能正確生成科目選項，但WH模組在轉發回覆時：
WH_replyMessage: 使用responseMessage屬性 (您的科目庫無此科目，請問「生鮮雜貨」是屬於什麼科目？...)
僅以純文字形式回覆，未生成Quick Reply按鈕。
=> 是否要下載npm LINE SDK? 我下載後你要如何使用?

解決方案
階段一：修改LBK模組支援Quick Reply格式輸出
修改目標： 讓LBK模組在新科目歸類時輸出Quick Reply結構
影響範圍： 1315. LBK.js - 新科目歸類相關函數
Before/After差異：
•	Before: 只輸出純文字科目選項
•	After: 輸出包含Quick Reply按鈕的結構化回應
修改內容：
1.	修改LBK_buildClassificationMessage函數，新增Quick Reply按鈕生成
2.	修改LBK_handleNewSubjectClassification函數，在回應中包含quickReply資料
3.	升級LBK模組版本至v1.4.2
修改檔案： 13. Replit_Module code_BL/1315. LBK.js

階段二：修改WH模組支援Quick Reply轉發
修改目標： 讓WH模組能正確處理和轉發Quick Reply格式
影響範圍： 1320. WH.js - WH_replyMessage函數
Before/After差異：
•	Before: 僅轉發純文字訊息
•	After: 同時轉發文字訊息和Quick Reply按鈕
修改內容：
1.	修改WH_replyMessage函數，支援quickReply參數處理
2.	升級WH模組版本至v2.5.1
修改檔案： 13. Replit_Module code_BL/1320. WH.js

階段三：建立Quick Reply回調處理機制
修改目標： 處理用戶點擊Quick Reply按鈕的回調事件
影響範圍： WH模組事件處理邏輯
Before/After差異：
•	Before: 無法處理postback事件
•	After: 能識別並處理科目歸類的postback事件，完成記帳流程
修改內容：
1.	在WH_processEventAsync中新增postback事件處理分支
2.	建立科目歸類postback資料解析邏輯
3.	與LBK模組整合完成記帳流程
修改檔案： 13. Replit_Module code_BL/1320. WH.js

實施計畫
階段一實施細節
•	修改時間： 30分鐘
•	測試方式： 輸入新科目觸發歸類流程，檢查是否生成Quick Reply按鈕
•	驗收標準： LINE介面顯示可點擊的科目分類按鈕
階段二實施細節
•	修改時間： 20分鐘
•	測試方式： 確認Quick Reply按鈕在LINE介面正確顯示
•	驗收標準： 按鈕正常顯示且可點擊
階段三實施細節
•	修改時間： 40分鐘
•	測試方式： 點擊Quick Reply按鈕完成完整記帳流程
•	驗收標準： 點擊按鈕後成功完成科目歸類和記帳
概念解釋
這個改進就像是把公司的紙本表單改成電子選單，客戶(用戶)不用手寫選項，直接點擊按鈕就能完成選擇，大幅提升使用體驗和操作準確性。
請確認是否Approve此提案，我將依序進行階段實施。