------------------------------------------
20251216. 執行DCN-0024
不要寫code，請根據我的回覆更新提案。提案時請專注解決當前發生的問題就好，不需要優化、強化、驗證、監測、測試等手段，除了列出原因之外也請你提出insight。

根據9909. Character_SA文件，我將以資深SA身份深入分析當前問題並提出解決方案。
問題分析
核心問題識別
從附件日誌可以清楚看出兩個關鍵問題：
1.	AM模組載入失敗：AM模組載入失敗: Unexpected token ':'
2.	0099科目配置無法載入：[INFO] [LBK] 從0099配置取得0個主科目，導致[ERROR] [LBK] 無法從0099配置取得科目清單
詳細問題說明
問題1：AM模組語法錯誤
•	現象：系統啟動時AM模組無法載入，出現Unexpected token ':'語法錯誤
•	影響：雖然WH模組有容錯機制繼續執行，但AM模組功能不完整
•	用簡單概念解釋：就像公司的人事部門(AM)因為文件格式錯誤無法正常工作，但其他部門還能運作
問題2：科目配置載入失敗
•	現象：LBK模組成功載入0099.json文件(10筆資料)，但LBK_getLineMainCategories函數返回0個主科目
•	根本原因：根據DCN-0024文件，0099文件已被簡化，但LBK_getLineMainCategories函數的邏輯尚未配合調整
•	用簡單概念解釋：就像倉庫管理部門(LBK)拿到了新的庫存清單(簡化版0099)，但還在用舊的分類方式找東西，結果什麼都找不到
真實原因分析
1.	AM模組語法錯誤：1309. AM.js檔案中存在語法錯誤，可能是冒號使用不當或物件定義問題
2.	LBK模組與DCN-0024不同步：LBK_getLineMainCategories函數尚未根據DCN-0024的0099簡化策略調整邏輯
解決方案

階段一：修復AM模組語法錯誤
目標：解決AM模組載入失敗問題
修改檔案：
•	13. Replit_Module code_BL/1309. AM.js
實施計畫：
1.	檢查並修復1309. AM.js中的語法錯誤
2.	升級模組版本至v2.1.1
3.	確保所有函數正常導出
修改內容：
•	修復語法錯誤（主要是冒號相關問題）
•	更新模組版本資訊
•	驗證模組載入正常
Before行為：AM模組無法載入，系統容錯繼續執行但功能不完整
After行為：AM模組正常載入，用戶驗證功能完整可用

階段二：實作DCN-0024科目歸類流程
目標：根據DCN-0024文件要求，實作LBK模組的新科目歸類機制
修改檔案：
•	13. Replit_Module code_BL/1315. LBK.js
實施計畫：
1.	新增LBK_load0099SubjectConfig函數（如果不存在）
2.	修改LBK_getLineMainCategories函數邏輯，配合DCN-0024簡化策略
3.	實作LBK_handleNewSubjectClassification完整流程
4.	新增LBK_buildClassificationMessage函數

=>根據0098文件指出，在新增函數之前，務必要盤點該模組內是否有相同功能之函數。

5.	升級模組版本至v1.4.1

修改內容詳細說明：
1.	LBK_getLineMainCategories函數修正
•	用途：從0099配置中正確提取主科目清單
•	影響範圍：影響所有新科目歸類流程
•	Before：無法從0099配置取得任何主科目
•	After：正確提取101-107, 201, 301, 000等主科目
2.	LBK_buildClassificationMessage函數新增
•	用途：建立DCN-0024規定的科目選擇介面訊息
•	影響範圍：新科目歸類時的使用者介面
•	Before：無法建立科目歸類介面
•	After：顯示標準化的科目選擇選項
3.	LBK_handleNewSubjectClassification函數完善
•	用途：實作完整的五步驟新科目歸類流程
•	影響範圍：所有無法識別的科目處理
•	Before：新科目歸類失敗，返回錯誤訊息
•	After：引導使用者完成科目歸類，成功記帳

階段三：整合測試驗證
=>請刪除

目標：確保修復後的系統能正常處理新科目歸類流程
驗證內容：
1.	AM模組載入正常
2.	LBK模組能成功載入0099配置並提取主科目
3.	新科目歸類流程完整運作
4.	使用者輸入"測試支出6666"能正確觸發科目歸類介面
預期結果：
•	系統啟動無錯誤
•	輸入無法識別的科目時，系統回覆科目選擇介面
•	使用者選擇科目後完成記帳
此解決方案嚴格遵守0098憲法規範，不涉及hard coding或模擬業務邏輯，專注於修復當前MVP階段的核心問題。每個階段結束後都可進行功能測試驗證。
請確認是否Approve此解決方案，我將依序實施各階段修改。