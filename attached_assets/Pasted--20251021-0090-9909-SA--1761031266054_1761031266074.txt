------------------------------------------
20251021. 修改0090計畫

請參照9909文件，以資深SA深入思考、分析原因。並提出解決方案。
提案時請注意以下方向：
1. 必須等我Approve之後才能開始編修代碼。
2. 模組板次與函數版次都要升版。
3. 現在是MVP階段，提案時請專注解決當前發生的問題就好，不需要優化、強化、驗證、監測、加強穩定性、測試等手段。
4. 將任務切分成數個階段處理(建議分成三個階段)。
5. 請提出你的insight
6. 請列出問題、詳細說明並提出你的看法

根據你提到的修改，將Phase 4預算管理功能與Phase 2多帳本與協作功能對調，這個變更會對整個專案架構產生重大影響。我來分析影響範圍和需要修改的文件：
📋 影響分析
1. 架構依賴關係影響
•	預算管理功能提前：原本預算管理依賴多帳本管理，現在需要重新設計依賴關係
=>在沒有建置MLS之前，預算管理功能可以先對主帳本(或預設帳本)做預算管理，等到MLS做出來之後再refactor一次，你覺得這樣可以嗎？

•	協作功能延後：多帳本協作功能延後可能影響早期用戶體驗

•	技術風險：預算管理在Phase 2實作時，多帳本基礎可能不夠完整

2. 模組整合順序影響
從RAG資料看到：
•	**BM模組(預算管理)需要與MLS模組(多帳本管理)**整合
•	CM模組(協作管理)與MLS模組有緊密依賴
•	現在需要重新安排整合時程
🔄 需要修改的文件清單
核心規劃文件
1.	0091. P1-2_API_Endpoint清單.md - 需要調整API端點的Phase歸屬
=>這份文件只是P1-2範圍而已，我們在講的是P2，這是不一樣的Scope

2.	8020. API list.md - 需要重新分配API的開發優先序
=>8020裡面哪裡有API的開發優先序?請列出

3.	8025. API-BL mapping list.md - 調整模組對應關係的時程
=>8025裡面哪裡有模組對應關係的時程?請列出



BL層相關文件
4.	1212. BM_預算管理模組.md (LLD) - 需要調整為Phase 2規格
=>為什麼需要？

5.	1211. MLS_多帳本模組.md (LLD) - 需要調整為Phase 4規格
=>為什麼需要？
6.	1213. CM_協作管理模組.md (LLD) - 需要調整為Phase 4規格
=>為什麼需要？
7.	1412. BM_預算管理模組.md (測試計畫) - 調整測試時程
=>不需要調整測試時程
8.	1413. CM_協作管理模組.md (測試計畫) - 調整測試時程
=>不需要調整測試時程
9.	1451. MLS_多帳本管理模組.md (測試計畫) - 調整測試時程
=>不需要調整測試時程

APL層相關文件
10.	8107. 預算管理服務 API 規格.yaml - 提前至Phase 2規格
11.	8104. 帳本管理服務 API 規格.yaml - 調整至Phase 4規格
12.	8207. 預算管理服務.md (LLD) - 提前實作規格
=>不需要
13.	8204. 帳本管理服務.md (LLD) - 延後實作規格
=>不需要
14.	8407. 預算管理服務.md (測試計畫) - 調整測試時程
=>不需要
15.	8404. 帳本管理服務.md (測試計畫) - 調整測試時程
=>不需要

PL層相關文件

16.	7021. Screen list.md - 調整畫面的Phase歸屬
17.	7016. User story map.md - 重新安排用戶故事時程
=>不需要
18.	7017. User story.md - 調整用戶故事優先序
=>不需要
19.	7018. User scenario.md - 可能需要調整使用場景順序
=>不需要

測試相關文件
20.	0501. SIT_P1.md - 如果涉及Phase 2功能需調整
=>不需要
21.	6501. SIT_P1.md - 同上
=>不需要

⚠️ 關鍵風險提醒
1.	技術依賴風險：預算管理在沒有完整多帳本支援下的實作複雜度
2.	用戶體驗風險：協作功能延後可能影響多用戶使用場景
3.	測試覆蓋風險：需要重新安排整合測試的順序
📝 建議修改順序
1.	立即修改：0091、8020、8025 (API和端點清單)
2.	第二優先：BL層LLD文件 (1212, 1211, 1213)
3.	第三優先：APL層規格文件 (8107, 8104, 8207, 8204)
4.	最後調整：測試計畫和PL層文件
需要我協助修改任何特定的文件嗎？

=>你認為預算管理功能一定要在多帳本之後嗎？為什麼？請提出詳細的解釋

