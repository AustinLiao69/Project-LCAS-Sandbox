ğŸš€ LCAS Webhook å•Ÿå‹•ä¸­...
ğŸ“… å•Ÿå‹•æ™‚é–“: 2025/12/12 ä¸Šåˆ10:58:01
ğŸ“¦ è¼‰å…¥æ¨¡çµ„...
âœ… Firebaseé…ç½®é©—è­‰é€šé
âœ… Firebaseå‹•æ…‹é…ç½®å»ºç«‹æˆåŠŸ
âœ… Firebase Admin SDKåˆå§‹åŒ–æˆåŠŸ
âœ… Firestoreå¯¦ä¾‹å–å¾—æˆåŠŸ
âœ… DLæ¨¡çµ„ï¼šFirebaseå‹•æ…‹é…ç½®è¼‰å…¥æˆåŠŸ
âœ… DL æ¨¡çµ„è¼‰å…¥æˆåŠŸ
âœ… éšæ®µäº”å®Œæˆï¼šFSæ¨¡çµ„å·²ç§»é™¤ï¼ŒFirebaseæ“ä½œç”±å„å°ˆé–€æ¨¡çµ„ç›´æ¥è™•ç†
ğŸ”§ WCMæ¨¡çµ„v1.2.2 åˆå§‹åŒ–ï¼šå¾ªç’°ä¾è³´ä¿®å¾©ç‰ˆ
ğŸ”„ å¾ªç’°ä¾è³´ä¿®å¾©ï¼šç§»é™¤AMæ¨¡çµ„ç›´æ¥å¼•ç”¨
âœ… å‡½æ•¸å°å‡ºé©—è­‰ï¼šWCM_createCategory = function
âœ… å‡½æ•¸å°å‡ºé©—è­‰ï¼šWCM_createWallet = function
âœ… å‡½æ•¸å°å‡ºé©—è­‰ï¼šWCM_load0099SubjectData = function
âœ… å‡½æ•¸å°å‡ºé©—è­‰ï¼šWCM_loadDefaultConfigs = function
ğŸ“‹ æ¶æ§‹èª¿æ•´ï¼šæ”¯æ´å”ä½œå¸³æœ¬è·¯å¾‘ (collaborations/{ledgerId}/{collection})
âœ… èˆ‡1311.FS.jså­é›†åˆæ¶æ§‹ä¿æŒä¸€è‡´
ğŸš€ WCMæ¨¡çµ„ç¾å·²å…¨é¢æ”¯æ´å”ä½œå¸³æœ¬è·¯å¾‘
âœ¨ å¾ªç’°ä¾è³´ä¿®å¾©å®Œæˆï¼Œæ‰€æœ‰å‡½æ•¸æ‡‰å¯æ­£å¸¸èª¿ç”¨
âœ… BKæ¨¡çµ„v3.3.3ï¼šéšæ®µäºŒè·¯å¾‘æ“´å±• - æ”¯æ´å”ä½œå¸³æœ¬è·¯å¾‘ï¼Œå¯¦ä½œå‹•æ…‹è·¯å¾‘è§£æ
âœ… BK æ¨¡çµ„è¼‰å…¥æˆåŠŸ - BK_parseQuickInputå‡½æ•¸æª¢æŸ¥é€šé
ğŸ“Š BM é ç®—ç®¡ç†æ¨¡çµ„è¼‰å…¥ä¸­...
âœ… BM é ç®—ç®¡ç†æ¨¡çµ„v2.3.0è¼‰å…¥å®Œæˆ - éšæ®µäºŒæ•´åˆï¼šæ¥ç®¡æ‰€æœ‰é ç®—åˆå§‹åŒ–åŠŸèƒ½
ğŸ¤ CM å”ä½œç®¡ç†æ¨¡çµ„åˆå§‹åŒ–ä¸­...
[2025-12-12T02:58:02.079Z] [INFO] [CM] CM å”ä½œç®¡ç†æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ [Location: CM_initialize]
âœ… CM å”ä½œç®¡ç†æ¨¡çµ„å·²æˆåŠŸå•Ÿå‹•
âœ… CM å”ä½œèˆ‡å¸³æœ¬ç®¡ç†æ¨¡çµ„v2.4.0è¼‰å…¥å®Œæˆ - éšæ®µä¸€æ“´å±•ï¼šå»ºç«‹å®Œæ•´å”ä½œå¸³æœ¬å­é›†åˆæ¶æ§‹ï¼ˆmembers, transactions, wallets, budgets, categoriesï¼‰
âœ… AMæ¨¡çµ„8.0.0 éšæ®µä¸€è·è²¬é‡æ§‹å®Œæˆï¼
ğŸ“‹ åŠŸèƒ½æ¦‚è¦½:
   â”œâ”€â”€ æ ¸å¿ƒå¸³è™Ÿç®¡ç†åŠŸèƒ½ (18å€‹)
   â”œâ”€â”€ SRæ¨¡çµ„å°ˆç”¨ä»˜è²»åŠŸèƒ½ (4å€‹)
   â”œâ”€â”€ DCN-0012 APIç«¯é»è™•ç†å‡½æ•¸ (22å€‹)
   â”œâ”€â”€ DCN-0014 APIè™•ç†å‡½æ•¸ (19å€‹)
   â”œâ”€â”€ DCN-0020 å¸³æœ¬çµæ§‹åˆå§‹åŒ– (å°ˆæ³¨çµæ§‹å»ºç«‹)
   â””â”€â”€ ç¸½è¨ˆ: 63å€‹å‡½æ•¸ (ç§»é™¤3å€‹è‡³WCMæ¨¡çµ„)
ğŸ”„ éšæ®µä¸€é‡æ§‹: ç§‘ç›®å’Œå¸³æˆ¶ç®¡ç†åŠŸèƒ½ç§»è‡³WCMæ¨¡çµ„
ğŸ¯ è·è²¬å°ˆæ³¨: AMå°ˆæ³¨å¸³è™Ÿç®¡ç†ï¼ŒWCMè² è²¬ç§‘ç›®å’Œå¸³æˆ¶ç®¡ç†
ğŸ”§ æ•´åˆæ¨¡å¼: AM_initializeUserLedger() ç¾åœ¨èª¿ç”¨WCMæ¨¡çµ„é€²è¡Œè³‡æ–™åˆå§‹åŒ–
ğŸ“Š æ–°è³‡æ–™æµ: AM â†’ WCM (ç§‘ç›®+å¸³æˆ¶) â†’ FS (çµæ§‹) â†’ Firebase
âœ¨ Before: AMç›´æ¥è¼‰å…¥0099.json + FSè¼”åŠ©
âœ¨ After: AMèª¿ç”¨WCMå‡½æ•¸ï¼ŒWCMæˆç‚ºç§‘ç›®å’Œå¸³æˆ¶ç®¡ç†å”¯ä¸€å…¥å£
ğŸ‰ éšæ®µä¸€æˆæœ: WCMæ¨¡çµ„åŠŸèƒ½æ•´åˆå®Œæˆï¼Œè·è²¬é‚Šç•Œæ¸…æ™°åŒ–ï¼
âœ… éšæ®µäº”å®Œæˆï¼šFSæ¨¡çµ„å·²ç§»é™¤ï¼Œæ¶ˆæ¯å»é‡ä½¿ç”¨NodeCache
âœ… Firebase Admin SDKå·²åˆå§‹åŒ–
âœ… WHæ¨¡çµ„ï¼šFirebaseå‹•æ…‹é…ç½®åˆå§‹åŒ–æˆåŠŸ
WHæ¨¡çµ„åˆå§‹åŒ–ï¼Œç‰ˆæœ¬: 2.4.0 (2025-12-12) - éšæ®µäº”å®Œæˆï¼šFSæ¨¡çµ„å·²ç§»é™¤
WHæ¨¡çµ„ç’°å¢ƒè®Šæ•¸æª¢æŸ¥çµæœ:
  âœ… LINE_CHANNEL_SECRET: å·²è¨­å®š(32å­—ç¬¦)
  âœ… LINE_CHANNEL_ACCESS_TOKEN: å·²è¨­å®š(172å­—ç¬¦)
  âŒ WEBHOOK_URL: æœªè¨­å®šæˆ–ç‚ºç©º
âš ï¸  ç¼ºå°‘å¿…è¦ç’°å¢ƒè®Šæ•¸: WEBHOOK_URL
ğŸ’¡ è«‹åœ¨Replit Secretsä¸­è¨­å®šé€™äº›ç’°å¢ƒè®Šæ•¸
[WH 2.0.16 LOG] WH 2.3.0: ç’°å¢ƒè®Šæ•¸æª¢æŸ¥æœªé€šéï¼Œç¼ºå°‘: WEBHOOK_URL (WARNING)
SRæ¨¡çµ„ä¾è³´è¼‰å…¥è­¦å‘Š: Cannot find module './1311. FS.js'
Require stack:
- /home/runner/workspace/13. Replit_Module code_BL/1305. SR.js
- /home/runner/workspace/13. Replit_Module code_BL/1315. LBK.js
- /home/runner/workspace/index.js
ğŸ“… SR æ’ç¨‹æé†’æ¨¡çµ„åˆå§‹åŒ–ä¸­...
âœ… LBK æ¨¡çµ„è¼‰å…¥æˆåŠŸ
âœ… DD æ¨¡çµ„è¼‰å…¥æˆåŠŸ
âœ… AM æ¨¡çµ„è¼‰å…¥æˆåŠŸ
âœ… SR æ¨¡çµ„è¼‰å…¥æˆåŠŸ
âœ… éšæ®µäº”å®Œæˆï¼šFSæ¨¡çµ„å·²ç§»é™¤ï¼ŒWHæ¨¡çµ„ç›´æ¥ä½¿ç”¨firebase-configæ¨¡çµ„
ğŸ“¦ é–‹å§‹è¼‰å…¥WHæ¨¡çµ„...
âœ… WH æ¨¡çµ„è¼‰å…¥æˆåŠŸ
âœ… WHæ¨¡çµ„æ ¸å¿ƒå‡½æ•¸æª¢æŸ¥é€šé
âš ï¸ BK æ¨¡çµ„æœªæ­£ç¢ºè¼‰å…¥ï¼Œè·³éåˆå§‹åŒ–
ğŸ“‹ BKæ¨¡çµ„å¯ç”¨å‡½æ•¸: [
  'BK_createTransaction',
  'BK_processQuickTransaction',
  'BK_getTransactions',
  'BK_getDashboardData',
  'BK_updateTransaction',
  'BK_deleteTransaction',
  'generateDefaultLedgerId',
  'BK_CONFIG',
  'BK_ensureLedgerExists',
  'BK_validateTransactionLedger',
  'BK_processAPIUpdateTransaction',
  'BK_processAPIDeleteTransaction',
  'BK_processAPIGetStatistics',
  'BK_processAPIGetRecent',
  'BK_processAPIGetCharts',
  'BK_getTransactionsByDateRange',
  'BK_getTransactionsByCategory',
  'BK_parseQuickInput',
  'BK_processBookkeeping',
  'BK_validateTransactionData',
  'BK_formatCurrency',
  'BK_calculateTotals',
  'BK_generateTransactionId',
  'BK_getRecentTransactions',
  'BK_getStatisticsData',
  'BK_getChartData',
  'BK_batchCreateTransactions',
  'BK_batchUpdateTransactions',
  'BK_batchDeleteTransactions',
  'BK_uploadAttachment',
  'BK_deleteAttachment',
  'BK_generateTransactionReport',
  'BK_exportTransactionData',
  'BK_importTransactionData',
  'BK_validateImportData',
  'BK_processImportResult',
  'BK_processAPIGetTransactionDetail',
  'BK_processAPIGetDashboard',
  'BK_processAPIBatchCreate',
  'BK_processAPIBatchUpdate',
  'BK_processAPIBatchDelete',
  'BK_processAPIUploadAttachment',
  'BK_processAPIDeleteAttachment',
  'BK_formatSuccessResponse',
  'BK_formatErrorResponse',
  'BK_identifyFirebaseError',
  'BK_getRecoveryActions',
  'BK_trackError',
  'BK_getErrorStats',
  'BK_resetErrorStats',
  'BK_resolveLedgerPath',
  'BK_getTransactionById'
]
ğŸ”§ åˆå§‹åŒ– LBK æ¨¡çµ„...
ğŸ”§ LBKæ¨¡çµ„åˆå§‹åŒ–é–‹å§‹...
âœ… DLæ¨¡çµ„å¾ç’°å¢ƒè®Šæ•¸æ¢å¾©æ¨¡å¼è¨­ç½®: NORMAL
ğŸš€ DLæ¨¡çµ„v2.2.0åˆå§‹åŒ–é–‹å§‹ - Firestoreç‰ˆæœ¬
âœ… DLæ¨¡çµ„åˆå§‹åŒ–æˆåŠŸ
ğŸ”§ åˆå§‹åŒ– SR æ’ç¨‹æé†’æ¨¡çµ„...
ğŸ“… SR æ’ç¨‹æé†’æ¨¡çµ„åˆå§‹åŒ–ä¸­...
ğŸ“Š ä¸»è©¦ç®—è¡¨æª¢æŸ¥: æˆåŠŸ
ğŸ“ æ—¥èªŒè¡¨æª¢æŸ¥: æˆåŠŸ
ğŸ·ï¸ ç§‘ç›®è¡¨æª¢æŸ¥: æˆåŠŸ
ğŸ‰ éšæ®µäº”å®Œæˆï¼šFSæ¨¡çµ„ç§»é™¤ç‹€æ…‹ç¢ºèª
âœ… FSæ¨¡çµ„å·²å®Œå…¨ç§»é™¤ï¼Œè·è²¬åˆ†æ•£å®Œæˆ
ğŸ“‹ Firebaseæ“ä½œç¾ç”±ä»¥ä¸‹å°ˆé–€æ¨¡çµ„è™•ç†:
  - AMæ¨¡çµ„ï¼šå¸³è™Ÿç®¡ç†ç›¸é—œFirebaseæ“ä½œ
  - WCMæ¨¡çµ„ï¼šå¸³æˆ¶èˆ‡ç§‘ç›®ç®¡ç†ç›¸é—œFirebaseæ“ä½œ
  - BMæ¨¡çµ„ï¼šé ç®—ç®¡ç†ç›¸é—œFirebaseæ“ä½œ
  - CMæ¨¡çµ„ï¼šå”ä½œç®¡ç†ç›¸é—œFirebaseæ“ä½œ
  - å…¶ä»–æ¨¡çµ„ï¼šç›´æ¥ä½¿ç”¨firebase-configæ¨¡çµ„
âœ… BK_processBookkeepingå‡½æ•¸æª¢æŸ¥: å­˜åœ¨
âœ… WH æ¨¡çµ„å·²è¼‰å…¥ä¸¦å•Ÿå‹•æœå‹™å™¨
ğŸ’¡ æç¤º: WH æ¨¡çµ„æœƒåœ¨ Port 3000 å»ºç«‹æœå‹™å™¨
ğŸ‰ LCAS 2.0 DCN-0011 Phase 4 é‡æ§‹å®Œæˆï¼
ğŸ“± LINE Bot æ ¸å¿ƒåŠŸèƒ½å®Œå…¨ä¿ç•™ï¼šWH â†’ LBK â†’ Firestore
ğŸŒ index.js å°ˆè²¬ LINE Webhook æœå‹™ï¼Œé‹è¡Œæ–¼ Port 3000
âš¡ WH â†’ LBK ç›´é€£è·¯å¾‘æœ€ä½³åŒ–ï¼šWH â†’ LBK â†’ Firestore
ğŸš€ LINE OA å¿«é€Ÿè¨˜å¸³ï¼šæ•ˆèƒ½æœ€ä½³åŒ–ï¼Œè™•ç†æ™‚é–“ < 2ç§’
ğŸ“‹ Rich Menu/APP è·¯å¾‘ï¼šå®Œæ•´ä¿ç•™ WH â†’ DD â†’ BK åŠŸèƒ½
ğŸ“… SR æ’ç¨‹æé†’æ¨¡çµ„å®Œæ•´æ•´åˆï¼šæ”¯æ´æ’ç¨‹æé†’ã€Quick Replyçµ±è¨ˆã€ä»˜è²»åŠŸèƒ½æ§åˆ¶
ğŸ¥ å¥åº·æª¢æŸ¥æ©Ÿåˆ¶å·²å„ªåŒ–ï¼šå°ˆæ³¨LINEæœå‹™ç›£æ§
ğŸ›¡ï¸ å¢å¼·éŒ¯èª¤è™•ç†å·²å•Ÿç”¨ï¼šå…¨åŸŸç•°å¸¸æ•ç²èˆ‡è¨˜éŒ„
ğŸ”§ æ¶æ§‹é‡æ§‹å®Œæˆç‰ˆæœ¬ï¼šv2.4.0 - é›™æœå‹™åˆ†é›¢æ¶æ§‹
ğŸ“¦ APIç«¯é»é·ç§»å®Œæˆçµ±è¨ˆï¼š
   ğŸšš å·²å®Œå…¨é·ç§»è‡³ASL.js (Port 5000)ï¼š132å€‹RESTful APIç«¯é»
   ğŸ“± ä¿ç•™LINE Webhookå°ˆç”¨ï¼š5å€‹æ ¸å¿ƒç«¯é»
   âœ… å®Œç¾è·è²¬åˆ†é›¢ï¼šRESTful API â†” LINE Webhook
ğŸ¯ DCN-0011 Phase 4å®Œæˆï¼šindex.jsé‡æ§‹ï¼Œé›™æœå‹™æ¶æ§‹å¯¦ç¾
ğŸ“ˆ ç³»çµ±æ¶æ§‹å„ªåŒ–é”æˆï¼šå–®ä¸€è·è²¬ + ç¨ç«‹éƒ¨ç½² + ç¶­è­·ä¾¿åˆ© + å¯æ“´å±•æ€§
ğŸŒ LCAS 2.0 LINE Webhook æœå‹™å·²å•Ÿå‹•æ–¼ Port 3000
ğŸ“¡ LINE Webhook å°ˆç”¨ç«¯é»å·²å°±ç·’: 5å€‹ç«¯é»
ğŸ”Œ WebSocket æœå‹™å·²å•Ÿç”¨ï¼Œæ”¯æ´å³æ™‚å”ä½œåŒæ­¥
ğŸ“‹ DCN-0011 Phase 4 é‡æ§‹çµ±è¨ˆ:
   âœ… APIç«¯é»é·ç§»å®Œæˆ: 132å€‹ â†’ ASL.js (Port 5000)
   ğŸ¯ Webhookç«¯é»ä¿ç•™: 5å€‹ (LINE OAå°ˆç”¨)
   ğŸ—ï¸ é›™æœå‹™æ¶æ§‹: è·è²¬å®Œå…¨åˆ†é›¢
   ğŸ“ˆ ç³»çµ±ç¶­è­·æ€§æå‡: å–®ä¸€è·è²¬åŸå‰‡
ğŸ“… å·²è¼‰å…¥ 0 å€‹æ’ç¨‹è¨­å®š
[2025-12-12T02:58:03.014Z] [INFO] [SR] SR æ’ç¨‹æé†’æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ [Location: SR_initialize]
âœ… SR æ’ç¨‹æé†’æ¨¡çµ„å·²æˆåŠŸå•Ÿå‹•
ğŸ“… å·²è¼‰å…¥ 0 å€‹æ’ç¨‹è¨­å®š
[2025-12-12T02:58:03.018Z] [INFO] [SR] SR æ’ç¨‹æé†’æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ [Location: SR_initialize]
âœ… SR æ’ç¨‹æé†’æ¨¡çµ„å·²æˆåŠŸå•Ÿå‹•
âœ… SR æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
æˆåŠŸå¯«å…¥ 3 æ¢æ—¥èªŒåˆ° Firestore
å·²å‰µå»ºåˆå§‹åŒ–è¨˜éŒ„åˆ°Firestore logé›†åˆ
DLæ¨¡çµ„åˆå§‹åŒ–æˆåŠŸ - Firestoreç‰ˆæœ¬
æˆåŠŸå¯«å…¥ 0 æ¢æ—¥èªŒåˆ° Firestore
âœ… LBKæ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
âœ… LBK æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ
æˆåŠŸå¯«å…¥ 0 æ¢æ—¥èªŒåˆ° Firestore
âœ… WHæ¨¡çµ„åˆå§‹åŒ–ç­‰å¾…å®Œæˆ
[WH 2.0.16 LOG] WH 2.0.7: æ”¶åˆ°LINE Webhookè«‹æ±‚ [b8ad4131] (INFO)
æª¢æ¸¬åˆ°éœ€è¦å›è¦†çš„è¨Šæ¯ï¼Œå•Ÿç”¨åŒæ­¥è™•ç† [b8ad4131]
[WH 2.0.16 LOG] WH 2.0.16: æª¢æ¸¬åˆ°éœ€è¦å›è¦†çš„è¨Šæ¯ï¼Œå•Ÿç”¨åŒæ­¥è™•ç† [b8ad4131] (INFO)
é–‹å§‹éåŒæ­¥è™•ç†è«‹æ±‚ [b8ad4131]
[WH 2.0.16 LOG] WH 2.0.7: é–‹å§‹éåŒæ­¥è™•ç†è«‹æ±‚ [b8ad4131] (INFO)
[WH 2.0.16 LOG] WH 2.0.3: é–‹å§‹è™•ç†äº‹ä»¶: message [b8ad4131] (INFO)
è™•ç†æ¶ˆæ¯äº‹ä»¶: text [b8ad4131]
æ”¶åˆ°æ–‡æœ¬æ¶ˆæ¯: "æ¸¬è©¦æ”¯å‡º11111" [b8ad4131]
[WH 2.0.16 LOG] WH 2.0.3: æ”¶åˆ°æ–‡æœ¬æ¶ˆæ¯: "æ¸¬è©¦æ”¯å‡º11111" [b8ad4131] (INFO)
é–‹å§‹AMç”¨æˆ¶é©—è­‰æµç¨‹ [b8ad4131]
[WH 2.0.16 LOG] WH éšæ®µä¸€: é–‹å§‹AMç”¨æˆ¶é©—è­‰æµç¨‹ [b8ad4131] (INFO)
ç”¨æˆ¶ä¸å­˜åœ¨ï¼Œé–‹å§‹è‡ªå‹•è¨»å†Šæµç¨‹: Uae47d9d496e4596d70ed724a7d6e2948 [b8ad4131]
[WH 2.0.16 LOG] WH éšæ®µä¸€: ç”¨æˆ¶ä¸å­˜åœ¨ï¼Œé–‹å§‹è‡ªå‹•è¨»å†Š Uae47d9d496e4596d70ed724a7d6e2948 [b8ad4131] (INFO)
âš ï¸ AM_initializeUserSubjectså·²æ£„ç”¨ï¼Œè«‹ä½¿ç”¨WCMæ¨¡çµ„é€²è¡Œç§‘ç›®ç®¡ç†
ğŸ”„ AM_initializeUserLedger: éšæ®µå››å®Œæˆç‰ˆ - AMå°ˆæ³¨å¸³æœ¬åŸºç¤çµæ§‹ï¼Œæ•´åˆå…¶ä»–æ¨¡çµ„åŠŸèƒ½
ğŸ“‹ AM_initializeUserLedger: v8.0.0 - èª¿ç”¨WCMã€BMã€CMæ¨¡çµ„è™•ç†ç§‘ç›®ã€å¸³æˆ¶ã€é ç®—ã€å”ä½œåŠŸèƒ½
ğŸ“ AM_initializeUserLedger: æº–å‚™å»ºç«‹å¸³æœ¬ID: user_Uae47d9d496e4596d70ed724a7d6e2948ï¼ˆç¬¦åˆ1311.FS.jsè¦ç¯„ï¼‰
  - å¸³æœ¬ä¸»æ–‡æª” user_Uae47d9d496e4596d70ed724a7d6e2948 æº–å‚™å¯«å…¥ï¼ˆéšæ®µäºŒå„ªåŒ–ç‰ˆï¼‰
  - éšæ®µä¸€ä¿®æ­£ï¼šç¢ºä¿å¸³æœ¬çµæ§‹å­˜åœ¨...
ğŸ”§ AM_initializeUserLedger: ç›´æ¥ä½¿ç”¨Firebaseå»ºç«‹å¸³æœ¬å­é›†åˆçµæ§‹...
âœ… AM_initializeUserLedger: å­é›†åˆ transactions åˆå§‹åŒ–å®Œæˆ
âœ… AM_initializeUserLedger: å­é›†åˆ categories åˆå§‹åŒ–å®Œæˆ
âœ… AM_initializeUserLedger: å­é›†åˆ wallets åˆå§‹åŒ–å®Œæˆ
âœ… AM_initializeUserLedger: å­é›†åˆ budgets åˆå§‹åŒ–å®Œæˆ
  - 1311.FS.jsçµæ§‹å»ºç«‹æˆåŠŸ: ["transactions","categories","wallets","budgets"]
ğŸ“‹ AM_initializeUserLedger: èª¿ç”¨WCMæ¨¡çµ„é€²è¡Œç§‘ç›®åˆå§‹åŒ–...
[2025-12-12T02:58:22.586Z] [INFO] [DL] é–‹å§‹å‰µå»ºç§‘ç›®: æ‰¹é‡è¼‰å…¥ (å¸³æœ¬: user_Uae47d9d496e4596d70ed724a7d6e2948) [User: Uae47d9d496e4596d70ed724a7d6e2948] [Location: Object.DL_info]
[2025-12-12T02:58:22.587Z] [INFO] [DL] WCMæ¨¡çµ„v1.2.0åˆå§‹åŒ–é–‹å§‹ - å­é›†åˆæ¶æ§‹ [Location: Object.DL_info]
[2025-12-12T02:58:22.587Z] [INFO] [DL] WCMæ¨¡çµ„åˆå§‹åŒ–å®Œæˆv1.2.0 - å­é›†åˆæ¶æ§‹ [Location: Object.DL_info]
[2025-12-12T02:58:22.587Z] [INFO] [DL] åŸ·è¡Œ0099ç§‘ç›®æ‰¹é‡è¼‰å…¥è‡³å¸³æœ¬: user_Uae47d9d496e4596d70ed724a7d6e2948 [User: Uae47d9d496e4596d70ed724a7d6e2948] [Location: Object.DL_info]
[2025-12-12T02:58:22.587Z] [INFO] [DL] é–‹å§‹è¼‰å…¥0099ç§‘ç›®è³‡æ–™... [Location: Object.DL_info]
[2025-12-12T02:58:22.588Z] [INFO] [DL] æˆåŠŸè¼‰å…¥ 63 ç­†ç§‘ç›®è³‡æ–™ [Location: Object.DL_info]
[2025-12-12T02:58:22.967Z] [INFO] [DL] æ‰¹é‡è¼‰å…¥å®Œæˆ: 63 ç­†ç§‘ç›® (è·¯å¾‘: ledgers/user_Uae47d9d496e4596d70ed724a7d6e2948/categories) [User: Uae47d9d496e4596d70ed724a7d6e2948] [Location: Object.DL_info]
âœ… AM_initializeUserLedger: WCMç§‘ç›®åˆå§‹åŒ–å®Œæˆï¼Œè¼‰å…¥63ç­†ç§‘ç›®
ğŸ’³ AM_initializeUserLedger: èª¿ç”¨WCMæ¨¡çµ„é€²è¡Œå¸³æˆ¶åˆå§‹åŒ–...
[2025-12-12T02:58:22.969Z] [INFO] [DL] é–‹å§‹å‰µå»ºå¸³æˆ¶: é è¨­å¸³æˆ¶ (å¸³æœ¬: user_Uae47d9d496e4596d70ed724a7d6e2948) [User: Uae47d9d496e4596d70ed724a7d6e2948] [Location: Object.DL_info]
[2025-12-12T02:58:22.970Z] [INFO] [DL] åŸ·è¡Œé è¨­å¸³æˆ¶å»ºç«‹è‡³å¸³æœ¬: user_Uae47d9d496e4596d70ed724a7d6e2948 [User: Uae47d9d496e4596d70ed724a7d6e2948] [Location: Object.DL_info]
[2025-12-12T02:58:22.971Z] [INFO] [DL] é–‹å§‹è¼‰å…¥é è¨­é…ç½®è³‡æ–™... [Location: Object.DL_info]
[2025-12-12T02:58:22.972Z] [WARNING] [DL] é è¨­å¸³æˆ¶é…ç½®æª”æ¡ˆä¸å­˜åœ¨: /home/runner/03. Default_config/0302. Default_wallet.json [Location: Object.DL_warning]
[2025-12-12T02:58:22.972Z] [INFO] [DL] æˆåŠŸè¼‰å…¥æ‰€æœ‰é è¨­é…ç½® [Location: Object.DL_info]
[2025-12-12T02:58:22.973Z] [WARNING] [DL] é è¨­é…ç½®ä¸­ç¼ºå°‘éŒ¢åŒ…é…ç½® [User: Uae47d9d496e4596d70ed724a7d6e2948] [Location: Object.DL_warning]
âš ï¸ AM_initializeUserLedger: WCMå¸³æˆ¶åˆå§‹åŒ–å¤±æ•—: è¼‰å…¥é è¨­å¸³æˆ¶é…ç½®å¤±æ•—: ç¼ºå°‘éŒ¢åŒ…é…ç½®
ğŸ’° AM_initializeUserLedger: èª¿ç”¨BMæ¨¡çµ„é€²è¡Œé ç®—çµæ§‹åˆå§‹åŒ–...
[BM_createBudgetsSubcollectionFramework] éšæ®µäºŒæ•´åˆï¼šå»ºç«‹é ç®—å­é›†åˆæ¡†æ¶ - å¸³æœ¬ID: user_Uae47d9d496e4596d70ed724a7d6e2948
[BM_createBudgetsSubcollectionFramework] âœ… é ç®—å­é›†åˆæ¡†æ¶å»ºç«‹æˆåŠŸ - è·¯å¾‘: ledgers/user_Uae47d9d496e4596d70ed724a7d6e2948/budgets
[2025-12-12T02:58:23.106Z] [INFO] [DL] å»ºç«‹é ç®—å­é›†åˆæ¡†æ¶ - å¸³æœ¬ID: user_Uae47d9d496e4596d70ed724a7d6e2948 [Location: BM.BM_createBudgetsSubcollectionFramework]
âœ… AM_initializeUserLedger: BMé ç®—çµæ§‹åˆå§‹åŒ–å®Œæˆ
ğŸ¤ AM_initializeUserLedger: èª¿ç”¨CMæ¨¡çµ„é€²è¡Œå”ä½œçµæ§‹åˆå§‹åŒ–...
[2025-12-12T02:58:23.106Z] [INFO] [CM] éšæ®µä¸‰ï¼šé–‹å§‹åˆå§‹åŒ–å”ä½œç³»çµ±å®Œæ•´æ¶æ§‹ [User: Uae47d9d496e4596d70ed724a7d6e2948] [Location: CM_initializeCollaborationSystem]
[2025-12-12T02:58:23.445Z] [INFO] [CM] éšæ®µä¸‰ï¼šå”ä½œç³»çµ±åˆå§‹åŒ–å®Œæˆ - æˆåŠŸ: 3/3 [User: Uae47d9d496e4596d70ed724a7d6e2948] [Location: CM_initializeCollaborationSystem]
âœ… AM_initializeUserLedger: CMå”ä½œçµæ§‹åˆå§‹åŒ–å®Œæˆ
  - éšæ®µä¸€ä¿®æ­£ï¼šé è¨­å¸³æˆ¶ç”±1311.FS.jsçµ±ä¸€è™•ç†
  - éšæ®µä¸€ä¿®æ­£ï¼šäº¤æ˜“å’Œé ç®—å­é›†åˆç”±1311.FS.jsçµ±ä¸€è™•ç†
ğŸ”„ éšæ®µä¸€ä¿®æ­£ï¼šå»ºç«‹å¸³æœ¬ä¸»æ–‡æª”...
âœ… å¸³æœ¬ä¸»æ–‡æª”å»ºç«‹æˆåŠŸ: user_Uae47d9d496e4596d70ed724a7d6e2948
  - å¸³æœ¬ user_Uae47d9d496e4596d70ed724a7d6e2948 åˆå§‹åŒ–æ¨™èªŒæ›´æ–°ç‚º true
  - ä¿ç•™ç¯„ä¾‹æ–‡æª”ä»¥ç¢ºä¿å­é›†åˆçµæ§‹å®Œæ•´æ€§
âœ… å¸³æœ¬ user_Uae47d9d496e4596d70ed724a7d6e2948 é©—è­‰æˆåŠŸ
âœ… Categoriesé›†åˆ: å·²å»ºç«‹
âœ… walletsé›†åˆ: å·²å»ºç«‹
âœ… Transactionsé›†åˆ: å·²å»ºç«‹
âœ… Budgetsé›†åˆ: å·²å»ºç«‹
[2025-12-12T02:58:24.292Z] [INFO] [DL] AM [Location: AM_initializeUserLedger]
[2025-12-12T02:58:24.292Z] [INFO] [DL] AM [Location: Object.AM_createLineAccount]
âœ… è‡ªå‹•è¨»å†ŠæˆåŠŸ: Uae47d9d496e4596d70ed724a7d6e2948, å¸³æœ¬ID: Uae47d9d496e4596d70ed724a7d6e2948 [b8ad4131]
[WH 2.0.16 LOG] WH éšæ®µä¸€: è‡ªå‹•è¨»å†ŠæˆåŠŸ Uae47d9d496e4596d70ed724a7d6e2948 [b8ad4131] (INFO)
ç”¨æˆ¶é©—è­‰æµç¨‹å®Œæˆ: Uae47d9d496e4596d70ed724a7d6e2948 [b8ad4131]
ğŸ” AM_getUserDefaultLedger: æŸ¥è©¢ç”¨æˆ¶ Uae47d9d496e4596d70ed724a7d6e2948 é è¨­å¸³æœ¬...
ğŸ”„ AM_getUserDefaultLedger: ç‚ºç”¨æˆ¶ Uae47d9d496e4596d70ed724a7d6e2948 è‡ªå‹•åˆå§‹åŒ–é è¨­å¸³æœ¬...
ğŸ”„ AM_initializeUserLedger: éšæ®µå››å®Œæˆç‰ˆ - AMå°ˆæ³¨å¸³æœ¬åŸºç¤çµæ§‹ï¼Œæ•´åˆå…¶ä»–æ¨¡çµ„åŠŸèƒ½
ğŸ“‹ AM_initializeUserLedger: v8.0.0 - èª¿ç”¨WCMã€BMã€CMæ¨¡çµ„è™•ç†ç§‘ç›®ã€å¸³æˆ¶ã€é ç®—ã€å”ä½œåŠŸèƒ½
ğŸ“ AM_initializeUserLedger: æº–å‚™å»ºç«‹å¸³æœ¬ID: user_Uae47d9d496e4596d70ed724a7d6e2948ï¼ˆç¬¦åˆ1311.FS.jsè¦ç¯„ï¼‰
âš ï¸ AM_initializeUserLedger: å¸³æœ¬ user_Uae47d9d496e4596d70ed724a7d6e2948 å·²å­˜åœ¨ï¼Œæª¢æŸ¥å®Œæ•´æ€§...
ç”¨æˆ¶å¸³æœ¬é©—è­‰é€šé: user_Uae47d9d496e4596d70ed724a7d6e2948 [b8ad4131]
[WH 2.0.16 LOG] WH éšæ®µä¸€: AMé©—è­‰å®Œæˆï¼Œè½‰ç™¼è‡³LBKè™•ç†è¨˜å¸³ [b8ad4131] (INFO)
[INFO] [LBK] é–‹å§‹è™•ç†LINE OAè«‹æ±‚ [b8ad4131] | æ™ºæ…§è·¯ç”± | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_processQuickBookkeeping
[DEBUG] [LBK] ä½¿ç”¨LBKç¨ç«‹çµ±è¨ˆé—œéµå­—é…ç½® [b8ad4131] | é—œéµå­—æª¢æ ¸ | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_checkStatisticsKeyword
[INFO] [LBK] åŸ·è¡Œè¨˜å¸³è™•ç†æµç¨‹ [b8ad4131] | å¿«é€Ÿè¨˜å¸³ | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_processQuickBookkeeping
[DEBUG] [LBK] è§£æç”¨æˆ¶è¨Šæ¯: "æ¸¬è©¦æ”¯å‡º11111" [b8ad4131] | è¨Šæ¯è§£æ | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_parseUserMessage
[DEBUG] [LBK] é–‹å§‹è§£ææ ¼å¼: "æ¸¬è©¦æ”¯å‡º11111" [b8ad4131] | æ ¼å¼è§£æ |  | LBK_parseInputFormat
[DEBUG] [LBK] æå–é‡‘é¡: "æ¸¬è©¦æ”¯å‡º11111" [b8ad4131] | é‡‘é¡æå– |  | LBK_extractAmount
[DEBUG] [LBK] æŸ¥è©¢ç§‘ç›®ä»£ç¢¼: "æ¸¬è©¦æ”¯å‡º" [b8ad4131] | ç§‘ç›®æŸ¥è©¢ | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_getSubjectCode
[DEBUG] [LBK] æŸ¥è©¢categoriesé›†åˆçµæœ: 62 ç­†è³‡æ–™ [b8ad4131] | ç§‘ç›®æŸ¥è©¢ | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_getSubjectCode
[DEBUG] [LBK] åŸ·è¡Œè¨˜å¸³æ“ä½œ [b8ad4131] (å˜—è©¦ 1/3) | è¨˜å¸³åŸ·è¡Œ | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_executeBookkeeping
[INFO] [LBK] ä½¿ç”¨1301æ¨™æº–è·¯å¾‘å„²å­˜: ledgers/user_Uae47d9d496e4596d70ed724a7d6e2948/transactions [b8ad4131] | è³‡æ–™å„²å­˜ | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_saveToFirestore
[INFO] [LBK] å¿«é€Ÿè¨˜å¸³å®Œæˆ [b8ad4131] | å¿«é€Ÿè¨˜å¸³ | Uae47d9d496e4596d70ed724a7d6e2948 | LBK_processQuickBookkeeping
DD_distributeDataè™•ç†å®Œæˆï¼Œçµæœé è¦½: {"success":true,"hasResponseMessage":true,"responseMsgLength":101,"errorType":"ç„¡","moduleCode":"LBK","hasPartialData":false} [b8ad4131]
æº–å‚™å›è¦†å·²é©—è­‰çš„è¨Šæ¯ [b8ad4131]
WH_replyMessage: æ”¶åˆ°é¡å‹ object çš„è¨Šæ¯å°è±¡
WH_replyMessage: è¨Šæ¯å°è±¡çµæ§‹: ["success","message","responseMessage","moduleCode","module","data","processingTime","moduleVersion"]
WH_replyMessage: è¨Šæ¯å°è±¡é è¦½: {"success":true,"message":"è¨˜å¸³æˆåŠŸï¼\né‡‘é¡ï¼š11111å…ƒ (æ”¶å…¥)\næ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘\næ™‚é–“ï¼š2025/12/12 ä¸Šåˆ10:58\nç§‘ç›®ï¼šundefined\nå‚™è¨»ï¼šæ¸¬è©¦æ”¯å‡º\näº¤æ˜“IDï¼š20251212-00001\nç‹€æ…‹ï¼šactive","responseMessage":"è¨˜å¸³æˆåŠŸï¼\né‡‘é¡ï¼š11111å…ƒ (æ”¶å…¥)\næ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘\næ™‚é–“ï¼š2025/12/1...
WH_replyMessage: ç™¼ç¾responseMessageå±¬æ€§ (string), é•·åº¦=101
WH_replyMessage: ç™¼ç¾messageå±¬æ€§ (string)
WH_replyMessage: ä½¿ç”¨responseMessageå±¬æ€§ (è¨˜å¸³æˆåŠŸï¼
é‡‘é¡ï¼š11111å…ƒ (æ”¶å…¥)
æ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘
æ™‚...)
WH_replyMessage: é–‹å§‹å›è¦†è¨Šæ¯: è¨˜å¸³æˆåŠŸï¼
é‡‘é¡ï¼š11111å…ƒ (æ”¶å…¥)
æ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘
æ™‚é–“ï¼š2025/12/12 ä¸Šåˆ10:58...
[WH 2.0.16 LOG] WH 2.0.3: é–‹å§‹å›è¦†è¨Šæ¯: è¨˜å¸³æˆåŠŸï¼
é‡‘é¡ï¼š11111å…ƒ (æ”¶å…¥)
æ”¯ä»˜æ–¹å¼ï¼šç¾é‡‘
æ™‚é–“ï¼š2025/12/12 ä¸Šåˆ10:58... (INFO)
[WH 2.0.16 LOG] WH 2.0.3: ç™¼é€APIè«‹æ±‚åˆ°LINEå¹³å° (INFO)
è¨Šæ¯å›è¦†çµæœ: {} [b8ad4131]
éåŒæ­¥è™•ç†å®Œæˆï¼Œå·²æ¸…ç†æ•¸æ“š [b8ad4131]
[WH 2.0.16 LOG] WH 2.0.7: éåŒæ­¥è™•ç†å®Œæˆ [b8ad4131] (INFO)
LINE API å›è¦†çµæœ: 200
å›è¦†è¨Šæ¯æˆåŠŸ
[WH 2.0.16 LOG] WH 2.0.3: å›è¦†è¨Šæ¯æˆåŠŸç™¼é€ (INFO)
