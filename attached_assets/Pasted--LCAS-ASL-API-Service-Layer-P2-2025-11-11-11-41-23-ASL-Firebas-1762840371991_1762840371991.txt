  LCAS ASL (API Service Layer) P2é‡æ§‹ç‰ˆå•Ÿå‹•ä¸­...
ğŸ“… å•Ÿå‹•æ™‚é–“: 2025/11/11 ä¸Šåˆ11:41:23
ğŸ”¥ ASLéšæ®µäºŒå‡ç´šï¼šå„ªå…ˆåˆå§‹åŒ–Firebase...
ğŸ“¦ ASLè¼‰å…¥P1-2ç¯„åœBLå±¤æ¨¡çµ„...
ğŸ”„ Firebaseåˆå§‹åŒ–å˜—è©¦ 1/3...
ğŸ“¡ è¼‰å…¥Firebaseé…ç½®æ¨¡çµ„...
âœ… Firebaseé…ç½®é©—è­‰é€šé
ğŸ” é©—è­‰Firebaseé…ç½®...
âœ… Firebaseé…ç½®é©—è­‰é€šé
âš¡ åˆå§‹åŒ–Firebase Admin SDK...
âœ… Firebaseå‹•æ…‹é…ç½®å»ºç«‹æˆåŠŸ
âœ… Firebase Admin SDKåˆå§‹åŒ–æˆåŠŸ
ğŸ“Š ç¢ºèªFirestoreå¯¦ä¾‹...
âœ… Firestoreå¯¦ä¾‹å–å¾—æˆåŠŸ
ğŸ”— é©—è­‰Firebaseé€£ç·š...
âœ… Firebaseé€£ç·šé©—è­‰æˆåŠŸ
âœ… Firebaseå®Œå…¨åˆå§‹åŒ–å®Œæˆï¼Œæº–å‚™è¼‰å…¥BLæ¨¡çµ„...
ğŸ¯ Firebaseåˆå§‹åŒ–æˆåŠŸ (å˜—è©¦æ¬¡æ•¸: 1)
ğŸ”¥ Firebaseå·²å°±ç·’ï¼Œé–‹å§‹è¼‰å…¥AMæ¨¡çµ„...
âœ… DLæ¨¡çµ„ï¼šFirebaseå‹•æ…‹é…ç½®è¼‰å…¥æˆåŠŸ
âœ… AMæ¨¡çµ„7.3.0 DCN-0020éšæ®µäºŒå„ªåŒ–ç‰ˆè¼‰å…¥æˆåŠŸï¼
ğŸ“‹ åŠŸèƒ½æ¦‚è¦½:
   â”œâ”€â”€ æ ¸å¿ƒå¸³è™Ÿç®¡ç†åŠŸèƒ½ (18å€‹)
   â”œâ”€â”€ SRæ¨¡çµ„å°ˆç”¨ä»˜è²»åŠŸèƒ½ (4å€‹)
   â”œâ”€â”€ DCN-0012 APIç«¯é»è™•ç†å‡½æ•¸ (22å€‹)
   â”œâ”€â”€ DCN-0014 APIè™•ç†å‡½æ•¸ (19å€‹)
   â”œâ”€â”€ DCN-0020 å®Œæ•´å¸³æœ¬åˆå§‹åŒ– (3å€‹æ ¸å¿ƒåŠŸèƒ½) - éšæ®µäºŒå„ªåŒ–
   â””â”€â”€ ç¸½è¨ˆ: 66å€‹å‡½æ•¸å®Œæ•´å¯¦ä½œ
ğŸš€ éšæ®µäºŒå„ªåŒ–: æ™ºèƒ½batchåˆ†å‰²æå‡å¤§é‡æ•¸æ“šå¯«å…¥æˆåŠŸç‡
ğŸ”§ æ€§èƒ½æå‡: AM_initializeUserLedger() - å¤šé‡é‡è©¦æ©Ÿåˆ¶å’ŒéŒ¯èª¤æ¢å¾©
ğŸ”§ ç©©å®šæ€§å¼·åŒ–: AM_getUserDefaultLedger() - å¢å¼·åƒæ•¸é©—è­‰å’ŒéŒ¯èª¤è™•ç†
ğŸ“Š è³‡æ–™æµå„ªåŒ–: BKæ¨¡çµ„ â†’ AMæ¨¡çµ„ â†’ æ™ºèƒ½batchè™•ç† â†’ Firebaseé«˜æ•ˆå¯«å…¥
ğŸ¯ å„ªåŒ–ç›®æ¨™: æå‡å¸³æœ¬åˆå§‹åŒ–çš„æˆåŠŸç‡å’ŒåŸ·è¡Œæ•ˆç‡
ğŸ‰ éšæ®µäºŒæˆæœ: å¤§å¹…æå‡ç³»çµ±ç©©å®šæ€§å’Œç”¨æˆ¶é«”é©—ï¼
âœ… AM (èªè­‰ç®¡ç†) æ¨¡çµ„è¼‰å…¥æˆåŠŸ
ğŸ”„ é–‹å§‹è¼‰å…¥BKæ¨¡çµ„...
âœ… Firebase Admin SDKå·²åˆå§‹åŒ–
âœ… FSæ¨¡çµ„2.5.0ï¼šFirebaseå‹•æ…‹é…ç½®è¼‰å…¥æˆåŠŸ
[FS_LOG_v2.1.0] 2025-11-11T03:41:24.795Z | æ¨¡çµ„åˆå§‹åŒ– | FSæ¨¡çµ„2.5.0åˆå§‹åŒ– | User: system | Function: FS_initializeModule
ğŸ‰ FSæ¨¡çµ„2.5.0éšæ®µä¸‰é ç®—å­é›†åˆæ¶æ§‹å®Œæˆï¼
ğŸ“Œ æ¨¡çµ„ç‰ˆæœ¬: 2.5.0
ğŸ¯ éšæ®µä¸‰æˆæœ: Firebaseé ç®—å­é›†åˆæ¶æ§‹é·ç§»å®Œæˆ
ğŸ’° é ç®—æ¶æ§‹: budgets/ â†’ ledgers/{id}/budgets/ (å­é›†åˆ)
ğŸ“‹ éšæ®µä¸€åŠŸèƒ½: æ ¸å¿ƒåŸºç¤æ“ä½œ(9å€‹å‡½æ•¸)
ğŸ“‹ éšæ®µäºŒåŠŸèƒ½: APIç«¯é»æ”¯æ´(6å€‹å‡½æ•¸)
ğŸ“‹ éšæ®µä¸‰åŠŸèƒ½: æ•´åˆå„ªåŒ–èˆ‡é©—è­‰(6å€‹å‡½æ•¸)
ğŸ”§ éšæ®µä¸‰æ–°å¢: FS_createBudgetsSubcollectionFramework() - é ç®—å­é›†åˆæ¡†æ¶
ğŸ”§ éšæ®µä¸‰æ–°å¢: 5å€‹é ç®—å­é›†åˆå°ˆç”¨æ“ä½œå‡½æ•¸
âœ¨ ç¸½è¨ˆå¯¦ä½œ: 28å€‹æ ¸å¿ƒå‡½æ•¸ + ç›¸å®¹æ€§å‡½æ•¸
ğŸš€ æº–å‚™å°±ç·’: 1312.BM.jsæ¨¡çµ„å¯å®Œæ•´ä½¿ç”¨é ç®—å­é›†åˆæ¶æ§‹
âœ… BKæ¨¡çµ„ï¼šä½¿ç”¨ç´”æ¥­å‹™é‚è¼¯é…ç½®ï¼Œç¦æ­¢å¼•ç”¨æ¸¬è©¦è³‡æ–™
âœ“ BK_processBookkeeping: å¯ç”¨
âœ“ BK_processAPIGetDashboard: å¯ç”¨
âœ“ BK_processAPIGetTransactionDetail: å¯ç”¨
âœ“ BK_processAPIUpdateTransaction: å¯ç”¨
âœ“ BK_processAPIDeleteTransaction: å¯ç”¨
âœ“ BK_processAPIGetStatistics: å¯ç”¨
âœ“ BK_processAPIGetRecent: å¯ç”¨
âœ“ BK_processAPIGetCharts: å¯ç”¨
âœ“ BK_createTransaction: å¯ç”¨
âœ“ BK_getTransactions: å¯ç”¨
ğŸ“Š BKæ¨¡çµ„å‡½æ•¸å®Œæ•´æ€§æª¢æŸ¥: 10/10
âœ… BK (è¨˜å¸³æ ¸å¿ƒ) æ¨¡çµ„è¼‰å…¥æˆåŠŸï¼Œæ‰€æœ‰å‡½æ•¸å¯ç”¨
âœ… DL (è¨ºæ–·æ—¥èªŒ) æ¨¡çµ„è¼‰å…¥æˆåŠŸ
âœ… FS (Firestore) æ¨¡çµ„è¼‰å…¥æˆåŠŸ
ğŸ“¦ P2éšæ®µæ¨¡çµ„ - MLSåŠŸèƒ½å·²å®Œå…¨ç§»é™¤ï¼Œæ•´åˆè‡³CMæ¨¡çµ„...
âŒ MLSåŠŸèƒ½ä¸å¯ç”¨ (CMæ¨¡çµ„è¼‰å…¥å¤±æ•—)
ğŸ“¦ è¼‰å…¥P2éšæ®µæ¨¡çµ„ - BM (é ç®—ç®¡ç†)...
ğŸ“Š BM é ç®—ç®¡ç†æ¨¡çµ„è¼‰å…¥ä¸­...
ğŸ“… SR æ’ç¨‹æé†’æ¨¡çµ„åˆå§‹åŒ–ä¸­...
FSæ¨¡çµ„è¼‰å…¥ç•°å¸¸ï¼Œå°‡æ¡ç”¨é™ç´šæ¨¡å¼
âœ… Firebase Admin SDKå·²åˆå§‹åŒ–
âœ… WHæ¨¡çµ„ï¼šFirebaseå‹•æ…‹é…ç½®åˆå§‹åŒ–æˆåŠŸ
WHæ¨¡çµ„åˆå§‹åŒ–ï¼Œç‰ˆæœ¬: 2.2.0 (2025-01-28) - ç´”æ¥­å‹™é‚è¼¯æ¨¡çµ„
âœ… BM é ç®—ç®¡ç†æ¨¡çµ„è¼‰å…¥å®Œæˆ
âœ… BM (é ç®—ç®¡ç†) æ¨¡çµ„è¼‰å…¥æˆåŠŸ
ğŸ“¦ è¼‰å…¥P2éšæ®µæ¨¡çµ„ - CM (å”ä½œç®¡ç†)...
ğŸ¤ CM å”ä½œç®¡ç†æ¨¡çµ„åˆå§‹åŒ–ä¸­...
[2025-11-11T03:41:24.819Z] [INFO] [CM] CM å”ä½œç®¡ç†æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ [Location: CM_initialize]
âœ… CM å”ä½œç®¡ç†æ¨¡çµ„å·²æˆåŠŸå•Ÿå‹•
âœ… CM å”ä½œèˆ‡å¸³æœ¬ç®¡ç†æ¨¡çµ„è¼‰å…¥å®Œæˆ - éšæ®µäºŒå®Œæˆï¼šMLSå‡½æ•¸é·ç§»å®Œæˆï¼Œæˆç‚ºå”ä½œèˆ‡å¸³æœ¬ç®¡ç†çµ±ä¸€å…¥å£
âœ… CM (å”ä½œç®¡ç†) æ¨¡çµ„è¼‰å…¥æˆåŠŸ
ğŸ“‹ éšæ®µä¸‰æ¨¡çµ„è¼‰å…¥ç‹€æ…‹å ±å‘Š:
   âœ… FIREBASE: å·²è¼‰å…¥
   âœ… AM: å·²è¼‰å…¥
   âœ… BK: å·²è¼‰å…¥
   âœ… DL: å·²è¼‰å…¥
   âœ… FS: å·²è¼‰å…¥
   âœ… BM: å·²è¼‰å…¥
   âœ… CM: å·²è¼‰å…¥
   âŒ MLS: è¼‰å…¥å¤±æ•—
ğŸ‰ P2éšæ®µæ¨¡çµ„å®Œæ•´è¼‰å…¥ï¼šFirebase + AM + BK + CM(å®Œæ•´å¸³æœ¬èˆ‡å”ä½œç®¡ç†) + BM
ğŸš€ ç³»çµ±å·²æº–å‚™å¥½è™•ç†æ‰€æœ‰P1-2ç¯„åœAPIè«‹æ±‚ä»¥åŠP2é ç®—ç®¡ç†ã€å¸³æœ¬ç®¡ç†å’Œå”ä½œç®¡ç†åŠŸèƒ½
âœ¨ DCN-0021éšæ®µå››å®Œæˆï¼šMLSæ¨¡çµ„å·²å®Œå…¨ç§»é™¤ï¼ŒåŠŸèƒ½å®Œæ•´æ•´åˆè‡³CMæ¨¡çµ„
ğŸ“Š è¼‰å…¥æˆåŠŸç‡: 7/8 (88%)
ğŸ‰ éšæ®µä¸‰ä¿®å¾©æˆåŠŸï¼šFirebase + AM + BKæ¨¡çµ„æ­£å¸¸è¼‰å…¥
ğŸš€ ç³»çµ±å·²æº–å‚™å¥½è™•ç†æ‰€æœ‰P1-2ç¯„åœAPIè«‹æ±‚
ğŸ‰ LCAS ASLéšæ®µäºŒå‡ç´šå®Œæˆï¼šå”ä½œç®¡ç†APIç«¯é»è£œå®Œï¼
ğŸ“¦ P1-2 + P2 ç¯„åœBLæ¨¡çµ„è¼‰å…¥ç‹€æ…‹: Firebase(âœ…), AM(âœ…), BK(âœ…), DL(âœ…), FS(âœ…), BM(âœ…), CM(âœ…)
ğŸ”§ ç´”è½‰ç™¼æ©Ÿåˆ¶: 43å€‹APIç«¯é» -> çµ±ä¸€ä½¿ç”¨BLå±¤æ¨™æº–æ ¼å¼
âœ¨ éšæ®µäºŒå‡ç´š: å”ä½œç®¡ç†APIç«¯é»è£œå®Œï¼Œç¬¦åˆ8020æ–‡ä»¶è¦ç¯„
ğŸ¯ å”ä½œç®¡ç†åŠŸèƒ½: å¸³æœ¬å‰µå»º/è®€å–/æ›´æ–°/åˆªé™¤ï¼Œå”ä½œè€…ç®¡ç†ï¼ˆé‚€è«‹/ç§»é™¤/æ¬Šé™æ›´æ–°ï¼‰ï¼Œè¡çªæª¢æ¸¬èˆ‡è§£æ±º
ğŸ” API ç«¯é»: /api/v1/ledgers, /api/v1/budgets, /api/v1/ledgers/:id/collaborators, /api/v1/ledgers/:id/invitations, /api/v1/ledgers/:id/conflicts, /api/v1/ledgers/:id/resolve-conflict
ğŸš€ éšæ®µäºŒå‡ç´šå®Œæˆï¼ŒASL v2.1.6å®Œå…¨å°±ç·’ï¼
ğŸŒ ASLæœå‹™å™¨å·²å•Ÿå‹•æ–¼ Port 5000
ğŸŒ LCAS ASLç´”è½‰ç™¼çª—å£å·²å•Ÿå‹•æ–¼ Port 5000
ğŸ“ æœå‹™åœ°å€: http://0.0.0.0:5000
ğŸ”— å¥åº·æª¢æŸ¥: http://0.0.0.0:5000/health
ğŸ¯ DCN-0015ç¬¬äºŒéšæ®µå®Œæˆ: ASLæ ¼å¼é©—è­‰å¼·åŒ–
ğŸ“‹ P1-2 + P2 APIç«¯é»: AM(19) + BK(15) + BM(5) + CM(4) = 43å€‹ç«¯é»
ğŸ”§ ç¬¬äºŒéšæ®µå®Œæˆç‹€æ…‹: å®Œå…¨å°±ç·’
ğŸ“¦ æ ¸å¿ƒæ¨¡çµ„ç‹€æ…‹: Firebase(âœ…), AM(âœ…), BM(âœ…), CM(âœ…)
âœ¨ å®¹éŒ¯æ©Ÿåˆ¶å®Œå…¨ç§»é™¤: 100%ä¿¡ä»»BLå±¤æ¨™æº–æ ¼å¼
ğŸ‰ ç¬¬äºŒéšæ®µä¿®æ­£å®Œæˆ: å”ä½œç®¡ç†APIç«¯é»è£œå®Œ
ğŸš€ ASL v2.1.6å·²å®Œå…¨å°±ç·’ï¼Œç¬¬äºŒéšæ®µç›®æ¨™é”æˆ
æˆåŠŸå¯«å…¥ 1 æ¢æ—¥èªŒåˆ° Firestore
ğŸ“… å·²è¼‰å…¥ 0 å€‹æ’ç¨‹è¨­å®š
[2025-11-11T03:41:25.514Z] [INFO] [SR] SR æ’ç¨‹æé†’æ¨¡çµ„åˆå§‹åŒ–å®Œæˆ [Location: SR_initialize]
âœ… SR æ’ç¨‹æé†’æ¨¡çµ„å·²æˆåŠŸå•Ÿå‹•
ğŸ“¥ [2025-11-11T03:41:38.885Z] ASLè½‰ç™¼: POST /api/v1/budgets
ğŸ“ ASLè½‰ç™¼: å»ºç«‹é ç®— -> BM_createBudget
[BM_createBudget] ğŸ“Š éšæ®µä¸‰å®Œæ•´ä¿®æ­£ï¼šé–‹å§‹å»ºç«‹é ç®— - å¼·åˆ¶å­é›†åˆæ¶æ§‹
[BM_createBudget] ğŸ” åŸå§‹è¼¸å…¥è³‡æ–™: {
  "name": "åæœˆç”Ÿæ´»é ç®—",
  "amount": 50000,
  "ledgerId": "user_expert.valid@test.lcas.app",
  "description": "å®¶åº­åæœˆä»½ç”Ÿæ´»è²»ç”¨é ç®—",
  "startDate": "2025-11-01T00:00:00Z",
  "endDate": "2025-11-30T23:59:59Z",
  "userMode": "Expert",
  "timestamp": "2025-11-11T03:41:38.811614"
}
[BM_createBudget] ğŸ” éšæ®µä¸‰æœ€çµ‚é©—è­‰ï¼šledgerId = user_expert.valid@test.lcas.app
[BM_createBudget] ğŸ¯ éšæ®µä¸‰å¸³æœ¬IDç¢ºèªï¼šuser_expert.valid@test.lcas.app
[BM_createBudget] ğŸ¯ éšæ®µä¸€æ™ºèƒ½æå–ï¼šå¾ledgerIdæå–userId = expert.valid@test.lcas.app
[BM_createBudget] é–‹å§‹å»ºç«‹é ç®— - å¸³æœ¬ID: user_expert.valid@test.lcas.app, ç”¨æˆ¶: expert.valid@test.lcas.app
[BM_validateBudgetData] é©—è­‰é ç®—æ•¸æ“š - é©—è­‰é¡å‹: create
[BM_validateBudgetData] é ç®—æ•¸æ“šé©—è­‰å®Œæˆ - éŒ¯èª¤: 0å€‹
[BM_createBudget] å„²å­˜é ç®—åˆ°è³‡æ–™åº«...
[BM_createBudget] ğŸ¯ å®Œå…¨å¼·åˆ¶å­é›†åˆè·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets
[BM_createBudget] âœ… æœ€çµ‚Firebaseå­é›†åˆå¯«å…¥è·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762832498888_x06cdhee5
[BM_createBudget] ğŸ”’ è·¯å¾‘é©—è­‰é€šéï¼Œçµ•å°ç¦ç”¨é ‚å±¤budgetsé›†åˆ
[BM_createBudget] ğŸ“‹ ç¢ºèªè·¯å¾‘æ ¼å¼: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762832498888_x06cdhee5
[BM_createBudget] âœ… é ç®—æˆåŠŸå¯«å…¥å­é›†åˆ - å®Œæ•´è·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762832498888_x06cdhee5
[BM_createBudget] ğŸ¯ å­é›†åˆæ¶æ§‹é©—è­‰: è·¯å¾‘ç¢ºå¯¦ç‚º ledgers/{ledgerId}/budgets/ æ ¼å¼
[BM_createBudget] âœ… å­é›†åˆå¯«å…¥é©—è­‰æˆåŠŸ
[2025-11-11T03:41:39.718Z] [INFO] [DL] å»ºç«‹é ç®—æˆåŠŸ - é ç®—ID: budget_1762832498888_x06cdhee5 [Location: BM.BM_createBudget]
[BM_createBudget] éšæ®µä¸€ä¿®æ­£ï¼šé ç®—å»ºç«‹å®Œæˆï¼ŒBMæ¨¡çµ„ä¸è§¸ç™¼ä»»ä½•å¤–éƒ¨äº‹ä»¶ï¼Œç¶­æŒæ¨¡çµ„è·è²¬ç´”æ·¨
[BM_createBudget] é ç®—å»ºç«‹å®Œæˆ - ID: budget_1762832498888_x06cdhee5
ğŸ“¤ [2025-11-11T03:41:38.885Z] ASLå›æ‡‰: POST /api/v1/budgets - 200 (836ms)
ğŸ“¥ [2025-11-11T03:41:39.749Z] ASLè½‰ç™¼: POST /api/v1/ledgers
ğŸ“ ASLè½‰ç™¼: å»ºç«‹å¸³æœ¬ -> CM_createLedger
[2025-11-11T03:41:39.750Z] [INFO] [CM] å»ºç«‹å¸³æœ¬ - å¸³æœ¬åç¨±: å”ä½œæ¸¬è©¦å¸³æœ¬_1762832499744 [User: user_collaboration_test_1762832499745] [Location: CM_createLedger]
[2025-11-11T03:41:40.443Z] [INFO] [CM] å¸³æœ¬æˆåŠŸå¯«å…¥Firestore - ID: ledger_1762832499751_ecy34duhf [User: user_collaboration_test_1762832499745] [Location: CM_createLedger]
[2025-11-11T03:41:40.443Z] [INFO] [CM] éšæ®µä¸‰ä¿®æ­£ï¼šåˆå§‹åŒ–å”ä½œç³»çµ± - å¸³æœ¬: ledger_1762832499751_ecy34duhf, æ“æœ‰è€…: user_collaboration_test_1762832499745 [User: user_collaboration_test_1762832499745] [Location: CM_initializeCollaboration]
[2025-11-11T03:41:40.921Z] [INFO] [CM] éšæ®µä¸€ä¿®æ­£ï¼šå”ä½œå¸³æœ¬å·²å¯«å…¥Firebase - ledger_1762832499751_ecy34duhf [User: user_collaboration_test_1762832499745] [Location: CM_initializeCollaboration]
[2025-11-11T03:41:41.059Z] [INFO] [CM] éšæ®µä¸€ä¿®æ­£ï¼šå”ä½œå¸³æœ¬å»ºç«‹ä¸¦é©—è­‰æˆåŠŸ - ledger_1762832499751_ecy34duhf, æˆå“¡æ•¸: 1 [User: user_collaboration_test_1762832499745] [Location: CM_initializeCollaboration]
[2025-11-11T03:41:41.187Z] [INFO] [CM] å”ä½œæ“ä½œè¨˜éŒ„: collaboration_initialized [User: user_collaboration_test_1762832499745] [Location: CM_logCollaborationAction]
[2025-11-11T03:41:41.187Z] [INFO] [CM] éšæ®µäºŒ&ä¸‰ä¿®æ­£ï¼šå”ä½œç³»çµ±åˆå§‹åŒ–å®Œæˆ - å¸³æœ¬: ledger_1762832499751_ecy34duhf [User: user_collaboration_test_1762832499745] [Location: CM_initializeCollaboration]
[2025-11-11T03:41:41.306Z] [INFO] [CM] éšæ®µäºŒé©—è­‰æˆåŠŸï¼šå”ä½œå¸³æœ¬å·²å­˜åœ¨æ–¼Firebase - æˆå“¡æ•¸: 1 [User: user_collaboration_test_1762832499745] [Location: CM_initializeCollaboration]
[2025-11-11T03:41:41.306Z] [INFO] [CM] å”ä½œæ¶æ§‹åˆå§‹åŒ–æˆåŠŸ - å¸³æœ¬ID: ledger_1762832499751_ecy34duhf [User: user_collaboration_test_1762832499745] [Location: CM_createLedger]
ğŸ“¤ [2025-11-11T03:41:39.749Z] ASLå›æ‡‰: POST /api/v1/ledgers - 200 (1558ms)
ğŸ“¥ [2025-11-11T05:49:37.322Z] ASLè½‰ç™¼: POST /api/v1/budgets
ğŸ“ ASLè½‰ç™¼: å»ºç«‹é ç®— -> BM_createBudget
[BM_createBudget] ğŸ“Š éšæ®µä¸‰å®Œæ•´ä¿®æ­£ï¼šé–‹å§‹å»ºç«‹é ç®— - å¼·åˆ¶å­é›†åˆæ¶æ§‹
[BM_createBudget] ğŸ” åŸå§‹è¼¸å…¥è³‡æ–™: {
  "name": "åæœˆç”Ÿæ´»é ç®—",
  "amount": 50000,
  "ledgerId": "user_expert.valid@test.lcas.app",
  "description": "å®¶åº­åæœˆä»½ç”Ÿæ´»è²»ç”¨é ç®—",
  "startDate": "2025-11-01T00:00:00Z",
  "endDate": "2025-11-30T23:59:59Z",
  "userMode": "Expert",
  "timestamp": "2025-11-11T05:49:37.242378"
}
[BM_createBudget] ğŸ” éšæ®µä¸‰æœ€çµ‚é©—è­‰ï¼šledgerId = user_expert.valid@test.lcas.app
[BM_createBudget] ğŸ¯ éšæ®µä¸‰å¸³æœ¬IDç¢ºèªï¼šuser_expert.valid@test.lcas.app
[BM_createBudget] ğŸ¯ éšæ®µä¸€æ™ºèƒ½æå–ï¼šå¾ledgerIdæå–userId = expert.valid@test.lcas.app
[BM_createBudget] é–‹å§‹å»ºç«‹é ç®— - å¸³æœ¬ID: user_expert.valid@test.lcas.app, ç”¨æˆ¶: expert.valid@test.lcas.app
[BM_validateBudgetData] é©—è­‰é ç®—æ•¸æ“š - é©—è­‰é¡å‹: create
[BM_validateBudgetData] é ç®—æ•¸æ“šé©—è­‰å®Œæˆ - éŒ¯èª¤: 0å€‹
[BM_createBudget] å„²å­˜é ç®—åˆ°è³‡æ–™åº«...
[BM_createBudget] ğŸ¯ å®Œå…¨å¼·åˆ¶å­é›†åˆè·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets
[BM_createBudget] âœ… æœ€çµ‚Firebaseå­é›†åˆå¯«å…¥è·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762840177323_d2taj5xz9
[BM_createBudget] ğŸ”’ è·¯å¾‘é©—è­‰é€šéï¼Œçµ•å°ç¦ç”¨é ‚å±¤budgetsé›†åˆ
[BM_createBudget] ğŸ“‹ ç¢ºèªè·¯å¾‘æ ¼å¼: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762840177323_d2taj5xz9
[BM_createBudget] âœ… é ç®—æˆåŠŸå¯«å…¥å­é›†åˆ - å®Œæ•´è·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762840177323_d2taj5xz9
[BM_createBudget] ğŸ¯ å­é›†åˆæ¶æ§‹é©—è­‰: è·¯å¾‘ç¢ºå¯¦ç‚º ledgers/{ledgerId}/budgets/ æ ¼å¼
[BM_createBudget] âœ… å­é›†åˆå¯«å…¥é©—è­‰æˆåŠŸ
[2025-11-11T05:49:38.205Z] [INFO] [DL] å»ºç«‹é ç®—æˆåŠŸ - é ç®—ID: budget_1762840177323_d2taj5xz9 [Location: BM.BM_createBudget]
[BM_createBudget] éšæ®µä¸€ä¿®æ­£ï¼šé ç®—å»ºç«‹å®Œæˆï¼ŒBMæ¨¡çµ„ä¸è§¸ç™¼ä»»ä½•å¤–éƒ¨äº‹ä»¶ï¼Œç¶­æŒæ¨¡çµ„è·è²¬ç´”æ·¨
[BM_createBudget] é ç®—å»ºç«‹å®Œæˆ - ID: budget_1762840177323_d2taj5xz9
ğŸ“¤ [2025-11-11T05:49:37.322Z] ASLå›æ‡‰: POST /api/v1/budgets - 200 (892ms)
æˆåŠŸå¯«å…¥ 12 æ¢æ—¥èªŒåˆ° Firestore
ğŸ“¥ [2025-11-11T05:50:44.400Z] ASLè½‰ç™¼: POST /api/v1/budgets
ğŸ“ ASLè½‰ç™¼: å»ºç«‹é ç®— -> BM_createBudget
[BM_createBudget] ğŸ“Š éšæ®µä¸‰å®Œæ•´ä¿®æ­£ï¼šé–‹å§‹å»ºç«‹é ç®— - å¼·åˆ¶å­é›†åˆæ¶æ§‹
[BM_createBudget] ğŸ” åŸå§‹è¼¸å…¥è³‡æ–™: {
  "name": "åæœˆç”Ÿæ´»é ç®—",
  "amount": 50000,
  "ledgerId": "user_expert.valid@test.lcas.app",
  "description": "å®¶åº­åæœˆä»½ç”Ÿæ´»è²»ç”¨é ç®—",
  "startDate": "2025-11-01T00:00:00Z",
  "endDate": "2025-11-30T23:59:59Z",
  "userMode": "Expert",
  "timestamp": "2025-11-11T05:50:44.346670"
}
[BM_createBudget] ğŸ” éšæ®µä¸‰æœ€çµ‚é©—è­‰ï¼šledgerId = user_expert.valid@test.lcas.app
[BM_createBudget] ğŸ¯ éšæ®µä¸‰å¸³æœ¬IDç¢ºèªï¼šuser_expert.valid@test.lcas.app
[BM_createBudget] ğŸ¯ éšæ®µä¸€æ™ºèƒ½æå–ï¼šå¾ledgerIdæå–userId = expert.valid@test.lcas.app
[BM_createBudget] é–‹å§‹å»ºç«‹é ç®— - å¸³æœ¬ID: user_expert.valid@test.lcas.app, ç”¨æˆ¶: expert.valid@test.lcas.app
[BM_validateBudgetData] é©—è­‰é ç®—æ•¸æ“š - é©—è­‰é¡å‹: create
[BM_validateBudgetData] é ç®—æ•¸æ“šé©—è­‰å®Œæˆ - éŒ¯èª¤: 0å€‹
[BM_createBudget] å„²å­˜é ç®—åˆ°è³‡æ–™åº«...
[BM_createBudget] ğŸ¯ å®Œå…¨å¼·åˆ¶å­é›†åˆè·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets
[BM_createBudget] âœ… æœ€çµ‚Firebaseå­é›†åˆå¯«å…¥è·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762840244400_3uji4ap7g
[BM_createBudget] ğŸ”’ è·¯å¾‘é©—è­‰é€šéï¼Œçµ•å°ç¦ç”¨é ‚å±¤budgetsé›†åˆ
[BM_createBudget] ğŸ“‹ ç¢ºèªè·¯å¾‘æ ¼å¼: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762840244400_3uji4ap7g
[BM_createBudget] âœ… é ç®—æˆåŠŸå¯«å…¥å­é›†åˆ - å®Œæ•´è·¯å¾‘: ledgers/user_expert.valid@test.lcas.app/budgets/budget_1762840244400_3uji4ap7g
[BM_createBudget] ğŸ¯ å­é›†åˆæ¶æ§‹é©—è­‰: è·¯å¾‘ç¢ºå¯¦ç‚º ledgers/{ledgerId}/budgets/ æ ¼å¼
[BM_createBudget] âœ… å­é›†åˆå¯«å…¥é©—è­‰æˆåŠŸ
[2025-11-11T05:50:44.794Z] [INFO] [DL] å»ºç«‹é ç®—æˆåŠŸ - é ç®—ID: budget_1762840244400_3uji4ap7g [Location: BM.BM_createBudget]
[BM_createBudget] éšæ®µä¸€ä¿®æ­£ï¼šé ç®—å»ºç«‹å®Œæˆï¼ŒBMæ¨¡çµ„ä¸è§¸ç™¼ä»»ä½•å¤–éƒ¨äº‹ä»¶ï¼Œç¶­æŒæ¨¡çµ„è·è²¬ç´”æ·¨
[BM_createBudget] é ç®—å»ºç«‹å®Œæˆ - ID: budget_1762840244400_3uji4ap7g
ğŸ“¤ [2025-11-11T05:50:44.400Z] ASLå›æ‡‰: POST /api/v1/budgets - 200 (395ms)