# Replit ä¸Šåˆ†é–‹ç®¡ç† APL / PL æ¸¬è©¦çš„è¨ˆç•« (æ–¹æ¡ˆ A)

## ğŸ¯ ç›®æ¨™
åœ¨ Replit çš„ Node.js å°ˆæ¡ˆä¸­ï¼Œè®“ **APL æ¸¬è©¦** å’Œ **PL æ¸¬è©¦** å„è‡ªç¨ç«‹ç®¡ç†ï¼š
- å„æœ‰è‡ªå·±çš„ `pubspec.yaml`
- å„æœ‰ç¨ç«‹çš„ Dart æ¸¬è©¦ç’°å¢ƒ
- æ¸¬è©¦å¯ä»¥é€é Node.js (`run_tests.js`) çµ±ä¸€è§¸ç™¼

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹
workspace/
â”œâ”€ index.js # Express server (ä¸å‹•)
â”œâ”€ run_tests.js # Node.js æ¸¬è©¦å•Ÿå‹•ç¨‹å¼
â”œâ”€ apl_tests/ # APL æ¸¬è©¦å°ˆæ¡ˆ
â”‚ â”œâ”€ pubspec.yaml
â”‚ â””â”€ test/
â”‚ â””â”€ apl_module_test.dart
â””â”€ pl_tests/ # PL æ¸¬è©¦å°ˆæ¡ˆ
â”œâ”€ pubspec.yaml
â””â”€ test/
â””â”€ pl_module_test.dart

yaml
è¤‡è£½ç¨‹å¼ç¢¼

---

## ğŸ› ï¸ è¨­å®šæ­¥é©Ÿ

### 1. å»ºç«‹ APL æ¸¬è©¦å°ˆæ¡ˆ
åœ¨ `apl_tests/` ä¸‹æ–°å¢ `pubspec.yaml`ï¼š

```yaml
name: apl_tests
description: APL æ¸¬è©¦å°ˆæ¡ˆ
environment:
  sdk: ">=2.17.0 <4.0.0"

dependencies:
  test: ^1.24.0
å»ºç«‹ apl_tests/test/apl_module_test.dartï¼š

dart
è¤‡è£½ç¨‹å¼ç¢¼
import 'package:test/test.dart';

int aplAdd(int a, int b) => a + b;

void main() {
  group('APL æ¸¬è©¦', () {
    test('2 + 3 = 5', () {
      expect(aplAdd(2, 3), equals(5));
    });
  });
}
å®‰è£å¥—ä»¶ï¼š

bash
è¤‡è£½ç¨‹å¼ç¢¼
cd apl_tests
dart pub get
2. å»ºç«‹ PL æ¸¬è©¦å°ˆæ¡ˆ
åœ¨ pl_tests/ ä¸‹æ–°å¢ pubspec.yamlï¼š

yaml
è¤‡è£½ç¨‹å¼ç¢¼
name: pl_tests
description: PL æ¸¬è©¦å°ˆæ¡ˆ
environment:
  sdk: ">=2.17.0 <4.0.0"

dependencies:
  test: ^1.24.0
å»ºç«‹ pl_tests/test/pl_module_test.dartï¼š

dart
è¤‡è£½ç¨‹å¼ç¢¼
import 'package:test/test.dart';

int plMultiply(int a, int b) => a * b;

void main() {
  group('PL æ¸¬è©¦', () {
    test('2 * 3 = 6', () {
      expect(plMultiply(2, 3), equals(6));
    });
  });
}
å®‰è£å¥—ä»¶ï¼š

bash
è¤‡è£½ç¨‹å¼ç¢¼
cd pl_tests
dart pub get
3. ä¿®æ”¹ run_tests.js
åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„æ–°å¢æˆ–ä¿®æ”¹ run_tests.jsï¼Œè®“å®ƒåŒæ™‚åŸ·è¡Œ APL èˆ‡ PL æ¸¬è©¦ï¼š

js
è¤‡è£½ç¨‹å¼ç¢¼
const { exec } = require("child_process");

function runTest(name, cmd) {
  exec(cmd, (err, stdout, stderr) => {
    console.log(`===== ${name} æ¸¬è©¦ =====`);
    if (err) {
      console.error(`éŒ¯èª¤: ${err.message}`);
      return;
    }
    if (stderr) console.error(`stderr:\n${stderr}`);
    console.log(stdout);
  });
}

runTest("APL", "cd apl_tests && dart test");
runTest("PL", "cd pl_tests && dart test");
ğŸš€ åŸ·è¡Œæ–¹å¼
åœ¨ Replit Shell åŸ·è¡Œï¼š

bash
è¤‡è£½ç¨‹å¼ç¢¼
node run_tests.js
è¼¸å‡ºç¯„ä¾‹ï¼š

diff
è¤‡è£½ç¨‹å¼ç¢¼
===== APL æ¸¬è©¦ =====
00:00 +1: All tests passed!

===== PL æ¸¬è©¦ =====
00:00 +1: All tests passed!
âœ… å„ªé»
APL / PL æ¸¬è©¦ç’°å¢ƒäº’ä¸å¹²æ“¾ã€‚

ä¾è³´ç¨ç«‹ç®¡ç†ï¼Œé¿å…å¥—ä»¶è¡çªã€‚

run_tests.js å¯ä¸€æ¬¡åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦ã€‚

markdown
è¤‡è£½ç¨‹å¼ç¢¼

é€™ä»½è¨ˆç•«å°±èƒ½ä¿è­‰ä½ åœ¨ Replit ä¸Šè®“ **APL/PL æ¸¬è©¦å®Œå…¨åˆ†é›¢**ï¼ŒåŒæ™‚åˆèƒ½é€éä¸€å€‹å…¥å£ `run_tests.js` ä¾†è·‘æ¸¬è©¦ã€‚  

è¦ä¸è¦æˆ‘å¹«ä½ åŠ ä¸€å€‹ **å¤±æ•—æ¸¬è©¦æ¡ˆä¾‹** åˆ°ç¯„ä¾‹è£¡ï¼Œè®“ä½ çœ‹åˆ°æˆåŠŸ/å¤±æ•—çš„æ¸¬è©¦è¼¸å‡ºå·®ç•°ï¼Ÿ