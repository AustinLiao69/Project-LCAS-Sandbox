# PRD_Business_Layer

**æ–‡ä»¶ç·¨è™Ÿ**: 1001  
**ç‰ˆæœ¬**: 2.0.1  
**å»ºç«‹æ—¥æœŸ**: 2025-08-01  
**å»ºç«‹è€…**: LCAS PM Team  
**æœ€å¾Œæ›´æ–°**: 2025-08-01  

---

## ç›®æ¬¡
1. [æ¨¡çµ„æ¦‚è¿°](#10-æ¨¡çµ„æ¦‚è¿°module-overview)
2. [åŠŸèƒ½éœ€æ±‚](#20-åŠŸèƒ½éœ€æ±‚functional-requirements)
3. [æ¶æ§‹è¨­è¨ˆ](#30-æ¶æ§‹è¨­è¨ˆarchitecture-design)
4. [æ¨¡çµ„ç¾¤è©³ç´°è¦æ ¼](#40-æ¨¡çµ„ç¾¤è©³ç´°è¦æ ¼module-groups-specification)
5. [RESTful API ä»‹é¢](#50-restful-api-ä»‹é¢restful-api-interface)
6. [è³‡æ–™æµè¨­è¨ˆ](#60-è³‡æ–™æµè¨­è¨ˆdata-flow-design)


---

## 1.0 æ¨¡çµ„æ¦‚è¿°ï¼ˆModule Overviewï¼‰

### 1.1 ç”¢å“å®šä½
Business Layerï¼ˆå•†æ¥­é‚è¼¯å±¤ï¼‰æ˜¯ LCAS 2.0 ç³»çµ±çš„æ ¸å¿ƒè™•ç†å±¤ï¼Œè² è²¬æ‰€æœ‰æ¥­å‹™é‚è¼¯è™•ç†ã€è³‡æ–™æ“ä½œå’Œä»‹é¢æ•´åˆã€‚ä½œç‚º LCAS 2.0 ä¸‰å±¤æ¶æ§‹ä¸­çš„é—œéµå±¤ç´šï¼Œé€£æ¥æ‡‰ç”¨é‚è¼¯å±¤èˆ‡è³‡æ–™å±¤ï¼Œç¢ºä¿æ¥­å‹™è¦å‰‡çš„ä¸€è‡´æ€§å’Œç³»çµ±çš„å¯ç¶­è­·æ€§ã€‚

### 1.2 æ ¸å¿ƒåƒ¹å€¼ä¸»å¼µ
- **æ¨¡çµ„åŒ–è¨­è¨ˆ**: æ¡ç”¨é«˜å…§èšã€ä½è€¦åˆçš„æ¨¡çµ„åŒ–æ¶æ§‹
- **å¤šä»‹é¢æ”¯æ´**: åŒæ™‚æ”¯æ´ LINE OA å’Œ APP å…©ç¨®ä»‹é¢
- **çµ±ä¸€è³‡æ–™è™•ç†**: é€éå…±ç”¨æ¨¡çµ„ç¾¤ç¢ºä¿è³‡æ–™ä¸€è‡´æ€§
- **å¯æ“´å±•æ¶æ§‹**: æ”¯æ´æœªä¾†åŠŸèƒ½æ“´å±•å’Œç³»çµ±å‡ç´š

### 1.3 ç›®æ¨™ä½¿ç”¨è€…
- **å±•ç¤ºå±¤é–‹ç™¼è€…**: é€éæ¨™æº–åŒ– API å­˜å–æ¥­å‹™åŠŸèƒ½
- **æ‡‰ç”¨é‚è¼¯å±¤**: æ•´åˆå¤šå€‹æ¥­å‹™æ¨¡çµ„æä¾›è¤‡åˆåŠŸèƒ½
- **ç³»çµ±ç¶­è­·äººå“¡**: é€²è¡Œæ¥­å‹™é‚è¼¯ç¶­è­·å’Œæ•ˆèƒ½å„ªåŒ–

---

## 2.0 åŠŸèƒ½éœ€æ±‚ï¼ˆFunctional Requirementsï¼‰

### 2.1 LINE OA ä»‹é¢åŠŸèƒ½
- **Webhook è«‹æ±‚è™•ç†**: æ¥æ”¶ä¸¦è§£æ LINE å¹³å°çš„ Webhook è«‹æ±‚
- **ä½¿ç”¨è€…æŒ‡ä»¤åˆ†æ**: æ™ºæ…§è§£æè¨˜å¸³ã€æŸ¥å¸³ã€çµ±è¨ˆç­‰ä½¿ç”¨è€…æŒ‡ä»¤
- **å³æ™‚å›æ‡‰è™•ç†**: å¿«é€Ÿè™•ç†ä¸¦å›è¦† LINE ä½¿ç”¨è€…
- **Rich Menu äº’å‹•**: æ”¯æ´ Quick Reply å’Œ Rich Menu æ“ä½œ

### 2.2 APP ä»‹é¢åŠŸèƒ½
- **RESTful API æä¾›**: å¯¦ä½œæ¨™æº–åŒ–çš„ RESTful API ç«¯é»
- **èº«ä»½é©—è­‰è™•ç†**: Firebase Token å’Œ JWT é©—è­‰æ©Ÿåˆ¶
- **æ¨™æº–åŒ–å›æ‡‰**: çµ±ä¸€çš„ JSON æ ¼å¼å›æ‡‰
- **éŒ¯èª¤è™•ç†æ©Ÿåˆ¶**: å®Œå–„çš„éŒ¯èª¤è™•ç†å’Œæ—¥èªŒè¨˜éŒ„

### 2.3 å…±ç”¨æ¥­å‹™åŠŸèƒ½
- **è¨˜å¸³æ ¸å¿ƒåŠŸèƒ½**: è¨˜å¸³ã€æŸ¥å¸³ã€åˆ†é¡ç®¡ç†
- **å¤šå¸³æœ¬ç®¡ç†**: å€‹äººå¸³æœ¬ã€ç¾¤çµ„å¸³æœ¬ã€å”ä½œç®¡ç†
- **é ç®—ç®¡ç†**: é ç®—è¨­å®šã€ç›£æ§ã€è­¦ç¤º
- **æ’ç¨‹æé†’**: è‡ªå‹•è¨˜å¸³ã€å®šæœŸæé†’ã€çµ±è¨ˆæ¨æ’­
- **å ±è¡¨åˆ†æ**: è³‡æ–™åˆ†æã€å ±è¡¨ç”Ÿæˆã€è¶¨å‹¢åˆ†æ
- **å‚™ä»½æœå‹™**: è³‡æ–™å‚™ä»½ã€é‚„åŸã€åŒæ­¥

---

## 3.0 æ¶æ§‹è¨­è¨ˆï¼ˆArchitecture Designï¼‰

### 3.1 æ•´é«”æ¶æ§‹
Business Layer æ¡ç”¨ä¸‰å€‹æ¨¡çµ„ç¾¤çš„åˆ†å±¤æ¶æ§‹ï¼š

```
LCAS 2.0 Business Logic Layer Architecture
â”œâ”€â”€ LINE OAæ¨¡çµ„ç¾¤ (LINE OA Module Group)
â”‚   â””â”€â”€ WH.js v2.1.0 - Webhookè™•ç†æ¨¡çµ„
â”œâ”€â”€ APPæ¨¡çµ„ç¾¤ (APP Module Group)
â”‚   â”œâ”€â”€ BK.js v2.1.0 - è¨˜å¸³æ ¸å¿ƒæ¨¡çµ„
â”‚   â”œâ”€â”€ AM.js v1.1.0 - å¸³è™Ÿç®¡ç†æ¨¡çµ„
â”‚   â”œâ”€â”€ MLS.js v2.1.0 - å¤šå¸³æœ¬ç®¡ç†æ¨¡çµ„
â”‚   â”œâ”€â”€ BM.js v1.1.0 - é ç®—ç®¡ç†æ¨¡çµ„
â”‚   â”œâ”€â”€ CM.js v1.1.0 - å”ä½œç®¡ç†æ¨¡çµ„
â”‚   â”œâ”€â”€ SR.js v2.1.0 - æ’ç¨‹æé†’æ¨¡çµ„
â”‚   â”œâ”€â”€ MRA.js v1.1.0 - å ±è¡¨åˆ†ææ¨¡çµ„
â”‚   â”œâ”€â”€ BS.js v1.1.0 - å‚™ä»½æœå‹™æ¨¡çµ„
â”‚   â””â”€â”€ LBK.js v1.1.0 - å¿«é€Ÿè¨˜å¸³æ¨¡çµ„
â””â”€â”€ å…±ç”¨æ¨¡çµ„ç¾¤ (Shared Module Group)
    â”œâ”€â”€ DD1.js v2.1.0 - æ ¸å¿ƒå”èª¿æ¨¡çµ„
    â”œâ”€â”€ DD2.js v2.1.0 - æ™ºæ…§è™•ç†æ¨¡çµ„
    â”œâ”€â”€ DD3.js v1.1.0 - è³‡æ–™æœå‹™æ¨¡çµ„
    â”œâ”€â”€ FS.js v1.1.0 - Firestoreæ“ä½œæ¨¡çµ„
    â”œâ”€â”€ DL.js v1.1.0 - è¨ºæ–·æ—¥èªŒæ¨¡çµ„
    â”œâ”€â”€ GR.js v1.1.0 - é€šç”¨å·¥å…·æ¨¡çµ„
    â””â”€â”€ firebase-config.js v1.1.0 - Firebaseé…ç½®æ¨¡çµ„
```

### 3.2 æ¨¡çµ„ç¾¤é—œä¿‚è¨­è¨ˆ

#### 3.2.1 LINE OAæ¨¡çµ„ç¾¤
- **ç¨ç«‹è™•ç†**: å°ˆé–€è™•ç† LINE å¹³å°çš„ Webhook è«‹æ±‚
- **å³æ™‚å›æ‡‰**: ç¢ºä¿ LINE å¹³å°çš„å¿«é€Ÿå›æ‡‰è¦æ±‚
- **å…±ç”¨ä¾è³´**: å‘¼å«å…±ç”¨æ¨¡çµ„ç¾¤é€²è¡Œè³‡æ–™è™•ç†

#### 3.2.2 APPæ¨¡çµ„ç¾¤
- **API ç«¯é»**: æä¾› RESTful API çµ¦æ‡‰ç”¨é‚è¼¯å±¤
- **æ¥­å‹™é‚è¼¯**: å¯¦ä½œå„é …æ¥­å‹™åŠŸèƒ½çš„æ ¸å¿ƒé‚è¼¯
- **å…±ç”¨ä¾è³´**: é€éå…±ç”¨æ¨¡çµ„ç¾¤é€²è¡Œè³‡æ–™æ“ä½œ

#### 3.2.3 å…±ç”¨æ¨¡çµ„ç¾¤
- **è³‡æ–™ç®¡ç†**: çµ±ä¸€çš„ Firestore è³‡æ–™æ“ä½œ
- **å·¥å…·å‡½æ•¸**: æ—¥æœŸè™•ç†ã€é‡‘é¡æ ¼å¼ã€åˆ†é¡è§£æç­‰
- **ç³»çµ±æ”¯æ´**: æ—¥èªŒè¨˜éŒ„ã€éŒ¯èª¤è™•ç†ã€è¨­å®šç®¡ç†

---

## 4.0 æ¨¡çµ„ç¾¤è©³ç´°è¦æ ¼ï¼ˆModule Groups Specificationï¼‰

### 4.1 LINE OAæ¨¡çµ„ç¾¤

#### 4.1.1 WH.js - Webhookè™•ç†æ¨¡çµ„ v2.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- æ¥æ”¶ LINE å¹³å° Webhook è«‹æ±‚
- é©—è­‰ LINE ç°½ç« å®‰å…¨æ€§
- è§£æä½¿ç”¨è€…æŒ‡ä»¤å’Œäº’å‹•äº‹ä»¶
- å‘¼å«å…±ç”¨æ¨¡çµ„ç¾¤è™•ç†æ¥­å‹™é‚è¼¯
- æ ¼å¼åŒ–å›æ‡‰è¨Šæ¯çµ¦ LINE å¹³å°

**æŠ€è¡“å †ç–Š**ï¼šNode.js + Express + Firebase Admin SDK

### 4.2 APPæ¨¡çµ„ç¾¤

#### 4.2.1 BK.js - è¨˜å¸³æ ¸å¿ƒæ¨¡çµ„ v2.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- è¨˜å¸³è³‡æ–™çš„å»ºç«‹ã€ä¿®æ”¹ã€åˆªé™¤
- è¨˜å¸³åˆ†é¡ç®¡ç†å’Œé©—è­‰
- è¨˜å¸³æŸ¥è©¢å’Œç¯©é¸åŠŸèƒ½
- API ç«¯é»ï¼š`/api/ledger/*`

#### 4.2.2 AM.js - å¸³è™Ÿç®¡ç†æ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- ä½¿ç”¨è€…è¨»å†Šã€ç™»å…¥ã€ç™»å‡º
- ä½¿ç”¨è€…è³‡æ–™ç®¡ç†å’Œè¨­å®š
- èº«ä»½é©—è­‰å’Œæ¬Šé™æ§åˆ¶
- API ç«¯é»ï¼š`/api/auth/*`

#### 4.2.3 MLS.js - å¤šå¸³æœ¬ç®¡ç†æ¨¡çµ„ v2.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- å€‹äººå¸³æœ¬å’Œç¾¤çµ„å¸³æœ¬ç®¡ç†
- å¸³æœ¬æ¬Šé™å’Œæˆå“¡ç®¡ç†
- å¸³æœ¬é–“çš„è³‡æ–™è½‰ç§»å’ŒåŒæ­¥
- API ç«¯é»ï¼š`/api/projects/*`

#### 4.2.4 BM.js - é ç®—ç®¡ç†æ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- é ç®—è¨­å®šå’Œé¡åˆ¥ç®¡ç†
- é ç®—åŸ·è¡Œç›£æ§å’Œè­¦ç¤º
- é ç®—å ±è¡¨å’Œåˆ†æ
- API ç«¯é»ï¼š`/api/budgets/*`

#### 4.2.5 CM.js - å”ä½œç®¡ç†æ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- å”ä½œé‚€è«‹å’Œæˆå“¡ç®¡ç†
- æ¬Šé™è¨­å®šå’Œå­˜å–æ§åˆ¶
- å”ä½œæ´»å‹•è¨˜éŒ„å’Œé€šçŸ¥
- API ç«¯é»ï¼š`/api/collaborate/*`

#### 4.2.6 SR.js - æ’ç¨‹æé†’æ¨¡çµ„ v2.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- å®šæœŸè¨˜å¸³æé†’è¨­å®š
- è‡ªå‹•è¨˜å¸³åŸ·è¡Œ
- è²¡å‹™çµ±è¨ˆè‡ªå‹•æ¨æ’­
- API ç«¯é»ï¼š`/api/schedules/*`

#### 4.2.7 MRA.js - å ±è¡¨åˆ†ææ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- è²¡å‹™å ±è¡¨ç”Ÿæˆå’Œåˆ†æ
- è³‡æ–™è¦–è¦ºåŒ–å’Œåœ–è¡¨
- è¶¨å‹¢åˆ†æå’Œé æ¸¬
- API ç«¯é»ï¼š`/api/reports/*`

#### 4.2.8 BS.js - å‚™ä»½æœå‹™æ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- è³‡æ–™å‚™ä»½å’Œé‚„åŸ
- å‚™ä»½æ’ç¨‹ç®¡ç†
- è³‡æ–™åŒ¯å‡ºå’ŒåŒ¯å…¥
- API ç«¯é»ï¼š`/api/backup/*`

#### 4.2.9 LBK.js - å¿«é€Ÿè¨˜å¸³æ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- ç°¡åŒ–è¨˜å¸³æµç¨‹
- å¸¸ç”¨è¨˜å¸³æ¨¡æ¿
- å¿«é€Ÿè¨˜å¸³ä»‹é¢
- API ç«¯é»ï¼š`/api/quick-ledger/*`

**æŠ€è¡“å †ç–Š**ï¼šNode.js + Express + Firebase SDK

### 4.3 å…±ç”¨æ¨¡çµ„ç¾¤

#### 4.3.1 DD1.js - æ ¸å¿ƒå”èª¿æ¨¡çµ„ v2.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- æ¨¡çµ„é–“çš„å”èª¿å’Œé€šè¨Š
- æ¥­å‹™æµç¨‹çš„ç·¨æ’å’Œæ§åˆ¶
- ç³»çµ±ç‹€æ…‹ç®¡ç†

#### 4.3.2 DD2.js - æ™ºæ…§è™•ç†æ¨¡çµ„ v2.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- æ™ºæ…§è³‡æ–™åˆ†æå’Œè™•ç†
- è‡ªå‹•åˆ†é¡å’Œæ¨™ç±¤
- ç•°å¸¸æª¢æ¸¬å’Œè™•ç†

#### 4.3.3 DD3.js - è³‡æ–™æœå‹™æ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- è³‡æ–™æ ¼å¼è½‰æ›å’Œé©—è­‰
- è³‡æ–™å¿«å–ç®¡ç†
- è³‡æ–™åŒæ­¥å”èª¿

#### 4.3.4 FS.js - Firestoreæ“ä½œæ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- Firestore è³‡æ–™çš„ CRUD æ“ä½œ
- æŸ¥è©¢æœ€ä½³åŒ–å’Œæ•ˆèƒ½èª¿æ•´
- äº¤æ˜“è™•ç†å’Œè³‡æ–™ä¸€è‡´æ€§

#### 4.3.5 DL.js - è¨ºæ–·æ—¥èªŒæ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- ç³»çµ±æ—¥èªŒè¨˜éŒ„å’Œç®¡ç†
- éŒ¯èª¤è¿½è¹¤å’Œè¨ºæ–·
- æ•ˆèƒ½ç›£æ§å’Œåˆ†æ

#### 4.3.6 GR.js - é€šç”¨å·¥å…·æ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- æ—¥æœŸæ™‚é–“è™•ç†å·¥å…·
- é‡‘é¡æ ¼å¼åŒ–å’Œè¨ˆç®—
- å­—ä¸²è™•ç†å’Œé©—è­‰

#### 4.3.7 firebase-config.js - Firebaseé…ç½®æ¨¡çµ„ v1.1.0
**åŠŸèƒ½è·è²¬**ï¼š
- Firebase æœå‹™åˆå§‹åŒ–
- é€£ç·šè¨­å®šå’Œæ†‘è­‰ç®¡ç†
- ç’°å¢ƒé…ç½®ç®¡ç†

**æŠ€è¡“å †ç–Š**ï¼šFirebase Admin SDK + å·¥å…·å‡½æ•¸åº«

---

## 5.0 RESTful API ä»‹é¢ï¼ˆRESTful API Interfaceï¼‰

### 5.1 API è¨­è¨ˆåŸå‰‡
- **RESTful æ¨™æº–**: éµå¾ª REST æ¶æ§‹åŸå‰‡å’Œ HTTP æ–¹æ³•
- **çµ±ä¸€å›æ‡‰æ ¼å¼**: æ¨™æº–åŒ–çš„æˆåŠŸå’ŒéŒ¯èª¤å›æ‡‰çµæ§‹
- **ç‰ˆæœ¬æ§åˆ¶**: æ”¯æ´ API ç‰ˆæœ¬ç®¡ç†å’Œå‘ä¸‹ç›¸å®¹
- **å®‰å…¨èªè­‰**: Firebase Token å’Œ JWT é›™é‡èªè­‰æ©Ÿåˆ¶
- **æ™‚é–“æ ¼å¼**: çµ±ä¸€ä½¿ç”¨ UTC+8 æ™‚å€æ ¼å¼

### 5.2 æ¨™æº–å›æ‡‰æ ¼å¼
```json
{
  "status": "success|error",
  "code": "string",
  "message": "string",
  "data": {},
  "timestamp": "2025-07-23T16:30:00+08:00"
}
```

#### 5.2.1 éŒ¯èª¤ä»£ç¢¼æ¨™æº–
- **2xx**: æˆåŠŸç‹€æ…‹ç¢¼ï¼ˆå¦‚ï¼š200, 201ï¼‰
- **4xx**: å®¢æˆ¶ç«¯éŒ¯èª¤ï¼ˆå¦‚ï¼š400, 401, 404ï¼‰
- **5xx**: ä¼ºæœå™¨éŒ¯èª¤ï¼ˆå¦‚ï¼š500, 503ï¼‰

### 5.3 API ç«¯é»æ¶æ§‹
```
/api/v1/
â”œâ”€â”€ auth/*          - AM æ¨¡çµ„ï¼šä½¿ç”¨è€…èªè­‰
â”œâ”€â”€ ledger/*        - BK æ¨¡çµ„ï¼šè¨˜å¸³åŠŸèƒ½
â”œâ”€â”€ projects/*      - MLS æ¨¡çµ„ï¼šå¤šå¸³æœ¬ç®¡ç†
â”œâ”€â”€ budgets/*       - BM æ¨¡çµ„ï¼šé ç®—ç®¡ç†
â”œâ”€â”€ collaborate/*   - CM æ¨¡çµ„ï¼šå”ä½œç®¡ç†
â”œâ”€â”€ schedules/*     - SR æ¨¡çµ„ï¼šæ’ç¨‹æé†’
â”œâ”€â”€ reports/*       - MRA æ¨¡çµ„ï¼šå ±è¡¨åˆ†æ
â”œâ”€â”€ backup/*        - BS æ¨¡çµ„ï¼šå‚™ä»½æœå‹™
â””â”€â”€ quick-ledger/*  - LBK æ¨¡çµ„ï¼šå¿«é€Ÿè¨˜å¸³
```

### 5.4 å®Œæ•´APIç«¯é»æ¶æ§‹ï¼ˆåŸºæ–¼8020å’Œ8088æ–‡ä»¶çš„132å€‹ç«¯é»ï¼‰

#### 5.4.1 èªè­‰æœå‹™ (Authentication Services) - 11å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/auth/register` | POST | ä½¿ç”¨è€…è¨»å†Š | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/login` | POST | ä½¿ç”¨è€…ç™»å…¥ | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/google-login` | POST | Googleç™»å…¥ | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/logout` | POST | ä½¿ç”¨è€…ç™»å‡º | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/refresh` | POST | åˆ·æ–°token | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/forgot-password` | POST | å¿˜è¨˜å¯†ç¢¼ | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/verify-reset-token` | GET | é©—è­‰é‡è¨­é€£çµ | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/reset-password` | POST | é‡è¨­å¯†ç¢¼ | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/verify-email` | POST | é©—è­‰Email | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/bind-line` | POST | LINEç¶å®š | AM.js + WH.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/auth/bind-status` | GET | ç¶å®šç‹€æ…‹æŸ¥è©¢ | AM.js | âœ… å…¨æ¨¡å¼ |

#### 5.4.2 ç”¨æˆ¶ç®¡ç†æœå‹™ (User Management Services) - 11å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/users/profile` | GET | å–å¾—å€‹äººè³‡æ–™ | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/profile` | PUT | æ›´æ–°å€‹äººè³‡æ–™ | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/assessment-questions` | GET | å–å¾—è©•ä¼°å•å· | AM.js + DD2.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/assessment` | POST | æäº¤è©•ä¼°çµæœ | AM.js + DD2.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/preferences` | PUT | æ›´æ–°åå¥½è¨­å®š | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/security` | PUT | å®‰å…¨è¨­å®š | AM.js + DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/verify-pin` | POST | PINç¢¼é©—è­‰ | AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/mode` | PUT | åˆ‡æ›ä½¿ç”¨è€…æ¨¡å¼ | AM.js + DD1.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/mode-defaults` | GET | å–å¾—æ¨¡å¼é è¨­å€¼ | AM.js + DD1.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/behavior-tracking` | POST | ä½¿ç”¨è¡Œç‚ºè¿½è¹¤ | AM.js + DD2.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/users/mode-recommendations` | GET | æ¨¡å¼å„ªåŒ–å»ºè­° | AM.js + DD2.js | âœ… å…¨æ¨¡å¼ |

#### 5.4.3 è¨˜å¸³äº¤æ˜“æœå‹™ (Transaction Services) - 20å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/transactions` | GET | æŸ¥è©¢äº¤æ˜“åˆ—è¡¨ | BK.js + DD1.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/transactions` | POST | æ–°å¢äº¤æ˜“ | BK.js + DD2.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/transactions/{id}` | GET | å–å¾—äº¤æ˜“è©³æƒ… | BK.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/transactions/{id}` | PUT | æ›´æ–°äº¤æ˜“ | BK.js + DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/transactions/{id}` | DELETE | åˆªé™¤äº¤æ˜“ | BK.js + DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/transactions/batch` | POST | æ‰¹æ¬¡æ–°å¢äº¤æ˜“ | BK.js + DD3.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/batch` | PUT | æ‰¹æ¬¡æ›´æ–°äº¤æ˜“ | BK.js + DD3.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/batch` | DELETE | æ‰¹æ¬¡åˆªé™¤äº¤æ˜“ | BK.js + DD3.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/quick` | POST | å¿«é€Ÿè¨˜å¸³(LINE OA) | LBK.js + WH.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/transactions/dashboard` | GET | å„€è¡¨æ¿æ•¸æ“š | BK.js + MRA.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/transactions/recent` | GET | æœ€è¿‘äº¤æ˜“ | BK.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/transactions/statistics` | GET | çµ±è¨ˆæ•¸æ“š | BK.js + MRA.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/transactions/charts` | GET | åœ–è¡¨æ•¸æ“š | BK.js + MRA.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/transactions/recurring` | GET | æŸ¥è©¢é‡è¤‡äº¤æ˜“ | SR.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/recurring` | POST | å»ºç«‹é‡è¤‡äº¤æ˜“ | SR.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/recurring/{id}` | PUT | æ›´æ–°é‡è¤‡äº¤æ˜“ | SR.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/recurring/{id}` | DELETE | åˆªé™¤é‡è¤‡äº¤æ˜“ | SR.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/{id}/attachments` | POST | ä¸Šå‚³é™„ä»¶ | BK.js + GR.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/{id}/attachments/{attachmentId}` | DELETE | åˆªé™¤é™„ä»¶ | BK.js + GR.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/transactions/import` | POST | åŒ¯å…¥äº¤æ˜“ | BK.js + BS.js | ğŸ”„ é€²éšæ¨¡å¼ |

#### 5.4.4 å¸³æœ¬ç®¡ç†æœå‹™ (Ledger Management Services) - 14å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/ledgers` | GET | å–å¾—å¸³æœ¬åˆ—è¡¨ | MLS.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/ledgers` | POST | å»ºç«‹å¸³æœ¬ | MLS.js + DD1.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/ledgers/{id}` | GET | å–å¾—å¸³æœ¬è©³æƒ… | MLS.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/ledgers/{id}` | PUT | æ›´æ–°å¸³æœ¬ | MLS.js + DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/ledgers/{id}` | DELETE | åˆªé™¤å¸³æœ¬ | MLS.js + DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/ledgers/types` | GET | å–å¾—å¸³æœ¬é¡å‹ | MLS.js + DD1.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/ledgers/{id}/collaborators` | GET | å–å¾—å”ä½œè€… | CM.js | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/ledgers/{id}/invitations` | POST | é‚€è«‹å”ä½œè€… | CM.js + SR.js | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/ledgers/{id}/collaborators/{userId}` | PUT | æ›´æ–°å”ä½œè€…æ¬Šé™ | CM.js + DL.js | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/ledgers/{id}/collaborators/{userId}` | DELETE | ç§»é™¤å”ä½œè€… | CM.js + DL.js | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/ledgers/{id}/permissions` | GET | å–å¾—æ¬Šé™ç‹€æ…‹ | CM.js | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/ledgers/{id}/conflicts` | GET | æª¢æ¸¬å”ä½œè¡çª | CM.js + DD2.js | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/ledgers/{id}/resolve-conflict` | POST | è§£æ±ºå”ä½œè¡çª | CM.js + DD2.js | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/ledgers/{id}/audit-log` | GET | å–å¾—æ“ä½œå¯©è¨ˆæ—¥èªŒ | DL.js + MLS.js | ğŸ”„ é€²éšæ¨¡å¼ |

#### 5.4.5 å¸³æˆ¶ç®¡ç†æœå‹™ (Account Management Services) - 8å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/accounts` | GET | å–å¾—å¸³æˆ¶åˆ—è¡¨ | BK.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/accounts` | POST | å»ºç«‹å¸³æˆ¶ | BK.js + DD1.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/accounts/{id}` | GET | å–å¾—å¸³æˆ¶è©³æƒ… | BK.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/accounts/{id}` | PUT | æ›´æ–°å¸³æˆ¶ | BK.js + DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/accounts/{id}` | DELETE | åˆªé™¤å¸³æˆ¶ | BK.js + DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/accounts/{id}/balance` | GET | å–å¾—å¸³æˆ¶é¤˜é¡ | BK.js + MRA.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/accounts/types` | GET | å–å¾—å¸³æˆ¶é¡å‹ | BK.js + DD1.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/accounts/transfer` | POST | å¸³æˆ¶è½‰å¸³ | BK.js + DL.js | ğŸ”„ é€²éšæ¨¡å¼ |

#### 5.4.6 ç§‘ç›®ç®¡ç†æœå‹™ (Category Management Services) - 6å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/categories` | GET | å–å¾—ç§‘ç›®åˆ—è¡¨ | DD1.js + BK.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/categories` | POST | å»ºç«‹ç§‘ç›® | DD1.js + BK.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/categories/{id}` | GET | å–å¾—ç§‘ç›®è©³æƒ… | DD1.js + BK.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/categories/{id}` | PUT | æ›´æ–°ç§‘ç›® | DD1.js + BK.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/categories/{id}` | DELETE | åˆªé™¤ç§‘ç›® | DD1.js + BK.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/categories/tree` | GET | å–å¾—ç§‘ç›®æ¨¹ç‹€çµæ§‹ | DD1.js + DD2.js | âœ… å…¨æ¨¡å¼ |

#### 5.4.7 é ç®—ç®¡ç†æœå‹™ (Budget Management Services) - 8å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/budgets` | GET | å–å¾—é ç®—åˆ—è¡¨ | BM.js | ğŸ”„ é ç®—æ¨¡å¼ |
| `/api/v1/budgets` | POST | å»ºç«‹é ç®— | BM.js + DD1.js | ğŸ”„ é ç®—æ¨¡å¼ |
| `/api/v1/budgets/{id}` | GET | å–å¾—é ç®—è©³æƒ… | BM.js | ğŸ”„ é ç®—æ¨¡å¼ |
| `/api/v1/budgets/{id}` | PUT | æ›´æ–°é ç®— | BM.js + DL.js | ğŸ”„ é ç®—æ¨¡å¼ |
| `/api/v1/budgets/{id}` | DELETE | åˆªé™¤é ç®— | BM.js + DL.js | ğŸ”„ é ç®—æ¨¡å¼ |
| `/api/v1/budgets/status` | GET | å–å¾—é ç®—åŸ·è¡Œç‹€æ³ | BM.js + MRA.js | ğŸ”„ é ç®—æ¨¡å¼ |
| `/api/v1/budgets/templates` | GET | å–å¾—é ç®—æ¨¡æ¿ | BM.js + DD1.js | ğŸ”„ é ç®—æ¨¡å¼ |
| `/api/v1/budgets/alert` | POST | é ç®—è­¦ç¤ºè¨­å®š | BM.js + SR.js | ğŸ”„ é ç®—æ¨¡å¼ |

#### 5.4.8 å ±è¡¨åˆ†ææœå‹™ (Report & Analytics Services) - 15å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/reports` | GET | å–å¾—å ±è¡¨åˆ—è¡¨ | MRA.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/reports/generate` | POST | ç”Ÿæˆå ±è¡¨ | MRA.js + DD3.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/reports/{id}` | GET | å–å¾—å ±è¡¨è©³æƒ… | MRA.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/reports/{id}/status` | GET | æŸ¥è©¢å ±è¡¨ç”Ÿæˆé€²åº¦ | MRA.js + DD3.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/reports/{id}/cancel` | DELETE | å–æ¶ˆå ±è¡¨ç”Ÿæˆ | MRA.js + DD3.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/reports/{id}/charts` | GET | å–å¾—å ±è¡¨åœ–è¡¨ | MRA.js + GR.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/reports/{id}/export` | GET | åŒ¯å‡ºå ±è¡¨ | MRA.js + BS.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/reports/{id}/download` | POST | ä¸‹è¼‰å ±è¡¨ | MRA.js + BS.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/reports/{id}/share` | POST | åˆ†äº«å ±è¡¨ | MRA.js + CM.js | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/reports/templates` | GET | å–å¾—å ±è¡¨æ¨¡æ¿ | MRA.js + DD1.js | ğŸ”„ å·®ç•°åŒ– |
| `/api/v1/reports/config-options` | GET | å–å¾—å ±è¡¨é…ç½®é¸é … | MRA.js + DD1.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/analytics/insights` | GET | æ·±åº¦åˆ†ææ´å¯Ÿ | MRA.js + DD2.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/analytics/trends` | GET | è¶¨å‹¢åˆ†æ | MRA.js + DD2.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/analytics/custom` | POST | è‡ªå®šç¾©åˆ†æ | MRA.js + DD2.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/analytics/scheduled` | GET | å®šæœŸå ±è¡¨æ’ç¨‹ | MRA.js + SR.js | ğŸ”„ é€²éšæ¨¡å¼ |

#### 5.4.9 AIåŠ©ç†æœå‹™ (AI Assistant Services) - 6å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/ai/categorize` | POST | AIæ™ºæ…§åˆ†é¡ | DD2.js + BK.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/ai/suggestions` | GET | AIå»ºè­° | DD2.js + AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/ai/budget-advice` | POST | AIé ç®—å»ºè­° | DD2.js + BM.js | ğŸ”„ é ç®—æ¨¡å¼ |
| `/api/v1/ai/anomaly-detection` | POST | ç•°å¸¸æª¢æ¸¬ | DD2.js + DL.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/ai/spending-insights` | POST | AIæ”¯å‡ºæ´å¯Ÿ | DD2.js + MRA.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/ai/recommendations` | GET | AIå€‹äººåŒ–æ¨è–¦ | DD2.js + AM.js | âœ… å…¨æ¨¡å¼ |

#### 5.4.10 æ¿€å‹µç³»çµ±æœå‹™ (Gamification Services) - 6å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/gamification/achievements` | GET | å–å¾—æˆå°± | IM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |
| `/api/v1/gamification/challenges` | GET | å–å¾—æŒ‘æˆ° | IM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |
| `/api/v1/gamification/claim-reward` | POST | é ˜å–çå‹µ | IM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |
| `/api/v1/gamification/leaderboard` | GET | æ’è¡Œæ¦œ | IM.js (æ–°å¢) | ğŸ”„ å”ä½œæ¨¡å¼ |
| `/api/v1/gamification/join-challenge` | POST | åŠ å…¥æŒ‘æˆ° | IM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |
| `/api/v1/gamification/progress` | GET | æŒ‘æˆ°é€²åº¦æŸ¥è©¢ | IM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |

#### 5.4.11 ç³»çµ±æœå‹™ (System Services) - 13å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/system/app-info` | GET | APPè³‡è¨Š | GR.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/system/welcome` | GET | æ­¡è¿è³‡è¨Š | GR.js + AM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/system/status` | GET | ç³»çµ±ç‹€æ…‹ | DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/system/health` | GET | å¥åº·æª¢æŸ¥ | DL.js + GR.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/system/app-promotion` | GET | APPæ¨å»£è³‡è¨Š | GR.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/system/config` | GET | ç³»çµ±é…ç½® | GR.js + AM.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/system/config` | PUT | æ›´æ–°ç³»çµ±é…ç½® | GR.js + DL.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/system/maintenance` | GET | ç¶­è­·ç‹€æ…‹ | DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/feedback/report` | POST | å•é¡Œå›å ± | DL.js + GR.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/help/articles` | GET | å¹«åŠ©æ–‡ç«  | GR.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/help/contact` | POST | è¯ç¹«å®¢æœ | GR.js + DL.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/system/retry` | POST | é‡è©¦æ©Ÿåˆ¶ | DD3.js + DL.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/system/sync` | POST | é›¢ç·šåŒæ­¥ | DD3.js + FS.js | ğŸ”„ é€²éšæ¨¡å¼ |

#### 5.4.12 å‚™ä»½èˆ‡è³‡æ–™ç®¡ç†æœå‹™ (Backup & Data Management Services) - 6å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/backup/create` | POST | å»ºç«‹å‚™ä»½ | BS.js + DD3.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/backup/list` | GET | å‚™ä»½åˆ—è¡¨ | BS.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/backup/restore` | POST | é‚„åŸå‚™ä»½ | BS.js + DL.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/backup/status` | GET | å‚™ä»½ç‹€æ…‹ | BS.js + DD3.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/data/export` | POST | åŒ¯å‡ºè³‡æ–™ | BS.js + MRA.js | ğŸ”„ é€²éšæ¨¡å¼ |
| `/api/v1/data/import` | POST | åŒ¯å…¥è³‡æ–™ | BS.js + BK.js | ğŸ”„ é€²éšæ¨¡å¼ |

#### 5.4.13 é€šçŸ¥ç®¡ç†æœå‹™ (Notification Management Services) - 8å€‹ç«¯é»
| APIç«¯é» | HTTPæ–¹æ³• | åŠŸèƒ½æè¿° | å°æ‡‰æ¨¡çµ„ | å››æ¨¡å¼æ”¯æ´ |
|---------|----------|----------|----------|-----------|
| `/api/v1/notifications/settings` | GET | å–å¾—é€šçŸ¥è¨­å®š | NM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |
| `/api/v1/notifications/settings` | PUT | æ›´æ–°é€šçŸ¥è¨­å®š | NM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |
| `/api/v1/notifications/list` | GET | é€šçŸ¥åˆ—è¡¨ | NM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |
| `/api/v1/notifications/{id}/read` | PUT | æ¨™è¨˜å·²è®€ | NM.js (æ–°å¢) | âœ… å…¨æ¨¡å¼ |
| `/api/v1/notifications/reminders` | POST | å»ºç«‹è¨˜å¸³æé†’ | SR.js + NM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/notifications/reminders/{id}` | PUT | æ›´æ–°æé†’è¦å‰‡ | SR.js + NM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/notifications/reminders/{id}` | DELETE | åˆªé™¤æé†’ | SR.js + NM.js | âœ… å…¨æ¨¡å¼ |
| `/api/v1/notifications/reminder-templates` | GET | å–å¾—æé†’æ¨¡æ¿ | SR.js + DD1.js | âœ… å…¨æ¨¡å¼ |

### 5.5 å››æ¨¡å¼å·®ç•°åŒ–APIè¨­è¨ˆ

#### 5.5.1 æ¨¡å¼æ¨™è­˜ç¬¦ (Mode Identifiers)
- **âœ… å…¨æ¨¡å¼**: æ‰€æœ‰æ¨¡å¼å‡å¯ä½¿ç”¨
- **ğŸ”„ å·®ç•°åŒ–**: ä¸åŒæ¨¡å¼è¿”å›ä¸åŒå…§å®¹æˆ–åŠŸèƒ½
- **ğŸ”„ å”ä½œæ¨¡å¼**: åƒ…å”ä½œæ¨¡å¼å¯ç”¨
- **ğŸ”„ é ç®—æ¨¡å¼**: åƒ…é ç®—æ¨¡å¼å¯ç”¨ 
- **ğŸ”„ é€²éšæ¨¡å¼**: åƒ…é€²éšæ¨¡å¼å¯ç”¨

#### 5.5.2 æ¨¡å¼å·®ç•°åŒ–å›æ‡‰ç¯„ä¾‹
```json
// ç°¡åŒ–æ¨¡å¼ - äº¤æ˜“åˆ—è¡¨
{
  "status": "success",
  "data": {
    "transactions": [
      {
        "id": "trans_001",
        "amount": 100,
        "description": "åˆé¤",
        "date": "2025-08-01T12:00:00+08:00"
      }
    ],
    "mode": "simple"
  }
}

// é€²éšæ¨¡å¼ - äº¤æ˜“åˆ—è¡¨ (åŒ…å«æ›´å¤šæ¬„ä½å’Œåˆ†æ)
{
  "status": "success", 
  "data": {
    "transactions": [
      {
        "id": "trans_001",
        "amount": 100,
        "description": "åˆé¤",
        "category": "é¤é£²",
        "account": "ç¾é‡‘",
        "tags": ["å·¥ä½œé¤"],
        "location": "å°åŒ—å¸‚",
        "attachment_count": 1,
        "date": "2025-08-01T12:00:00+08:00",
        "created_at": "2025-08-01T12:00:00+08:00",
        "updated_at": "2025-08-01T12:00:00+08:00"
      }
    ],
    "statistics": {
      "total_amount": 100,
      "category_breakdown": {...}
    },
    "mode": "advanced"
  }
}
```

### 5.6 APIç«¯é»-æ¨¡çµ„å°æ‡‰çµ±è¨ˆ

#### 5.6.1 å®Œæ•´å°æ‡‰é—œä¿‚çŸ©é™£
```
ç¸½è¨ˆï¼š132å€‹APIç«¯é»
â”œâ”€â”€ å®Œå…¨å°æ‡‰ï¼š115å€‹ç«¯é» (87.1%)
â”œâ”€â”€ éœ€æ–°å¢æ¨¡çµ„ï¼š17å€‹ç«¯é» (12.9%)
â”‚   â”œâ”€â”€ IM.js (æ¿€å‹µç³»çµ±æ¨¡çµ„)ï¼š6å€‹ç«¯é»
â”‚   â””â”€â”€ NM.js (é€šçŸ¥ç®¡ç†æ¨¡çµ„)ï¼š4å€‹ç«¯é»
â””â”€â”€ æ¨¡çµ„ä½¿ç”¨é »ç‡æ’åºï¼š
    1. BK.js (è¨˜å¸³æ¨¡çµ„)ï¼š28å€‹ç«¯é»
    2. DD1.js (æ ¸å¿ƒå”èª¿)ï¼š18å€‹ç«¯é»  
    3. AM.js (å¸³è™Ÿç®¡ç†)ï¼š22å€‹ç«¯é»
    4. MRA.js (å ±è¡¨åˆ†æ)ï¼š15å€‹ç«¯é»
    5. DD2.js (æ™ºæ…§è™•ç†)ï¼š12å€‹ç«¯é»
```

#### 5.6.2 æ–°å¢æ¨¡çµ„éœ€æ±‚
- **IM.js - æ¿€å‹µç³»çµ±æ¨¡çµ„**: è² è²¬æˆå°±ã€æŒ‘æˆ°ã€çå‹µã€æ’è¡Œæ¦œåŠŸèƒ½
- **NM.js - é€šçŸ¥ç®¡ç†æ¨¡çµ„**: è² è²¬é€šçŸ¥è¨­å®šã€åˆ—è¡¨ã€ç‹€æ…‹ç®¡ç†åŠŸèƒ½

---

## 6.0 è³‡æ–™æµè¨­è¨ˆï¼ˆData Flow Designï¼‰

### 6.1 LINE OA è³‡æ–™æµ
```
LINE å¹³å° â†’ WH æ¨¡çµ„ â†’ å…±ç”¨æ¨¡çµ„ç¾¤ â†’ Firestore â†’ å›æ‡‰è™•ç† â†’ LINE å¹³å°
```

### 6.2 APP è³‡æ–™æµ
```
Flutter App â†’ æ‡‰ç”¨é‚è¼¯å±¤ â†’ APPæ¨¡çµ„ç¾¤ â†’ å…±ç”¨æ¨¡çµ„ç¾¤ â†’ Firestore â†’ JSON å›æ‡‰ â†’ Flutter App
```

### 6.3 æ¨¡çµ„é–“å”ä½œæµç¨‹
1. **è«‹æ±‚æ¥æ”¶**: WH æ¨¡çµ„æˆ– APP æ¨¡çµ„ç¾¤æ¥æ”¶è«‹æ±‚
2. **èº«ä»½é©—è­‰**: é©—è­‰ä½¿ç”¨è€…èº«ä»½å’Œæ¬Šé™
3. **æ¥­å‹™è™•ç†**: å‘¼å«ç›¸æ‡‰çš„æ¥­å‹™é‚è¼¯è™•ç†
4. **è³‡æ–™æ“ä½œ**: é€éå…±ç”¨æ¨¡çµ„ç¾¤é€²è¡Œ Firestore æ“ä½œ
5. **å›æ‡‰æ ¼å¼åŒ–**: æ ¼å¼åŒ–å›æ‡‰è³‡æ–™
6. **çµæœå›å‚³**: å›å‚³è™•ç†çµæœçµ¦è«‹æ±‚æ–¹

---

