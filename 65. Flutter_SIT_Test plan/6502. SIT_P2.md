
# 6502. LCAS 2.0 Phase 2 SIT測試計畫

**文件版本：** v1.0.0  
**建立日期：** 2025-10-22  
**最後更新：** 2025-10-22  
**負責人：** LCAS SQA Team  
**適用範圍：** 0090計畫之Phase 2 MVP功能測試

---

## 目次

1. [計畫概覽](#1-計畫概覽)
2. [測試範圍與目標](#2-測試範圍與目標)
3. [測試階段規劃](#3-測試階段規劃)
4. [測試環境與準備](#4-測試環境與準備)
5. [具體測試案例](#5-具體測試案例)
6. [測試執行計畫](#6-測試執行計畫)
7. [驗收標準](#7-驗收標準)

---

## 1. 計畫概覽

### 1.1 背景說明

基於0090 Sprint計畫Phase 2開發狀況：
- **PL層**: 7303帳本協作功能群、7304預算管理功能群已完成
- **APL層**: APL.dart統一Gateway已整合P2功能
- **BL層**: 1312.BM.js預算管理模組、1351.MLS.js多帳本管理模組已開發完成
- **DL層**: Firestore資料結構已擴展支援P2功能

### 1.2 SIT策略_P2-MVP

**25個精簡測試案例**
- **TC-001~008**：預算管理功能測試（8個）
- **TC-009~020**：帳本協作功能測試（12個）
- **TC-021~025**：API整合驗證測試（5個）

---

## 2. 測試範圍與目標

### 2.1 測試範圍

#### 2.1.1 預算管理功能測試
**測試對象**: 7304. 預算管理功能群.dart
**測試方式**: 直接調用PL層函數，驗證預算管理業務邏輯
**API整合**: 通過APL.dart調用BL層1312.BM.js模組

#### 2.1.2 帳本協作功能測試
**測試對象**: 7303. 帳本協作功能群.dart
**測試方式**: 直接調用PL層函數，驗證協作功能業務邏輯
**API整合**: 通過APL.dart調用BL層1351.MLS.js模組

#### 2.1.3 四模式差異化整合
- Expert模式：進階功能與詳細資訊整合
- Inertial模式：穩定一致的操作體驗整合
- Cultivation模式：激勵與成就系統整合
- Guiding模式：簡化流程與引導整合

### 2.2 測試目標

#### 2.2.1 MVP功能完整性目標
- 預算管理核心功能100%正確
- 帳本協作基本功能100%正確
- APL.dart統一Gateway整合100%成功
- 四模式差異化處理100%實現

---

## 3. 測試階段規劃

### 3.1 階段一：預算管理功能測試 - TC-001~008

#### 3.1.1 預算CRUD功能驗證
- 建立預算業務邏輯驗證
- 查詢預算列表業務邏輯驗證
- 更新預算資訊業務邏輯驗證
- 刪除預算業務邏輯驗證

#### 3.1.2 預算執行與警示功能驗證
- 預算執行狀況計算驗證
- 預算警示檢查驗證
- 預算資料驗證
- 四模式差異化驗證

### 3.2 階段二：帳本協作功能測試 - TC-009~020

#### 3.2.1 帳本管理功能驗證（4個）
- 帳本建立業務邏輯驗證
- 帳本列表查詢業務邏輯驗證
- 帳本更新業務邏輯驗證
- 帳本刪除業務邏輯驗證

#### 3.2.2 協作管理功能驗證（8個）
- 協作者列表查詢驗證
- 協作者邀請功能驗證
- 協作者權限更新驗證
- 協作者移除功能驗證
- 權限矩陣計算驗證
- 協作衝突檢測驗證
- API整合驗證
- 四模式差異化驗證

### 3.3 階段三：API整合驗證測試 - TC-021~025

#### 3.3.1 APL.dart統一Gateway驗證
- 預算管理API轉發驗證
- 帳本協作API轉發驗證
- 錯誤處理機制驗證
- 四模式支援驗證
- 統一回應格式驗證

---

## 4. 測試環境與準備

### 4.1 測試環境配置

#### 4.1.1 Dart測試環境
- **測試框架**: Dart test package
- **測試控制中心**: 待開發的SIT_P2.dart (統一控制測試流程)
- **測試資料來源**: 靜態測試資料
- **執行流程**: SIT_P2.dart → PL層函數測試 → APL.dart → BL層模組

#### 4.1.2 API整合測試環境
- **APL.dart統一Gateway**: 完整整合P2功能
- **BL層模組**: 1312.BM.js、1351.MLS.js正常運作
- **Firestore環境**: P2資料結構配置完成

---

## 5. 具體測試案例

### 5.1 預算管理功能測試案例（TC-001~008）

#### TC-001：建立基本預算
**測試函數表頭**:
```dart
/**
 * TC-001： 建立基本預算
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testCreateBasicBudget();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 預算建立業務邏輯正確性
- **測試步驟**:
  1. PL層7304.預算管理功能群建立預算函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1312.BM.js模組
  4. BL層處理預算建立邏輯
  5. DL層Firestore儲存預算資料
  6. 回傳建立結果到PL層
- **預期結果**: 預算建立成功，資料完整儲存

#### TC-002：查詢預算列表
**測試函數表頭**:
```dart
/**
 * TC-002： 查詢預算列表
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testQueryBudgetList();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 預算查詢業務邏輯正確性
- **測試步驟**:
  1. PL層7304.預算管理功能群查詢預算列表函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1312.BM.js模組
  4. BL層處理預算查詢邏輯
  5. DL層Firestore執行資料查詢
  6. 回傳查詢結果到PL層
- **預期結果**: 正確回傳預算列表資料

#### TC-003：更新預算資訊
**測試函數表頭**:
```dart
/**
 * TC-003： 更新預算資訊
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testUpdateBudgetInfo();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 預算更新業務邏輯正確性
- **測試步驟**:
  1. PL層7304.預算管理功能群更新預算函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1312.BM.js模組
  4. BL層處理預算更新邏輯
  5. DL層Firestore執行資料更新
  6. 回傳更新結果到PL層
- **預期結果**: 預算資訊正確更新

#### TC-004：刪除預算
**測試函數表頭**:
```dart
/**
 * TC-004： 刪除預算
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testDeleteBudget();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 預算刪除業務邏輯正確性
- **測試步驟**:
  1. PL層7304.預算管理功能群刪除預算函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1312.BM.js模組
  4. BL層處理預算刪除邏輯
  5. DL層Firestore執行資料刪除
  6. 回傳刪除結果到PL層
- **預期結果**: 預算正確刪除，無殘留資料

#### TC-005：預算執行狀況計算
**測試函數表頭**:
```dart
/**
 * TC-005： 預算執行狀況計算
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testBudgetExecutionCalculation();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 預算計算邏輯正確性
- **測試步驟**:
  1. PL層7304.預算管理功能群執行狀況計算函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1312.BM.js模組
  4. BL層處理預算執行計算邏輯
  5. DL層Firestore查詢相關資料
  6. 回傳計算結果到PL層
- **預期結果**: 進度、餘額計算正確

#### TC-006：預算警示檢查
**測試函數表頭**:
```dart
/**
 * TC-006： 預算警示檢查
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testBudgetAlertCheck();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 警示邏輯正確性
- **測試步驟**:
  1. PL層7304.預算管理功能群警示檢查函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1312.BM.js模組
  4. BL層處理預算警示檢查邏輯
  5. DL層Firestore查詢預算執行資料
  6. 回傳警示檢查結果到PL層
- **預期結果**: 警示正確觸發與通知

#### TC-007：預算資料驗證
**測試函數表頭**:
```dart
/**
 * TC-007： 預算資料驗證
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testBudgetDataValidation();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 資料驗證邏輯正確性
- **測試步驟**:
  1. PL層7304.預算管理功能群資料驗證函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1312.BM.js模組
  4. BL層處理預算資料驗證邏輯
  5. DL層執行資料格式檢查
  6. 回傳驗證結果到PL層
- **預期結果**: 無效資料被正確攔截

#### TC-008：預算模式差異化
**測試函數表頭**:
```dart
/**
 * TC-008： 預算模式差異化
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testBudgetModeDifferentiation();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 四模式差異化處理
- **測試步驟**:
  1. PL層7304.預算管理功能群模式差異化函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1312.BM.js模組
  4. BL層處理四模式差異化邏輯
  5. DL層查詢模式特定設定
  6. 回傳差異化結果到PL層
- **預期結果**: Expert/Inertial/Cultivation/Guiding模式正確回應

### 5.2 帳本協作功能測試案例（TC-009~020）

#### TC-009：建立協作帳本
**測試函數表頭**:
```dart
/**
 * TC-009： 建立協作帳本
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testCreateCollaborativeLedger();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 協作帳本建立業務邏輯
- **測試步驟**:
  1. PL層7303.帳本協作功能群建立協作帳本函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理協作帳本建立邏輯
  5. DL層Firestore儲存協作帳本資料
  6. 回傳建立結果到PL層
- **預期結果**: 協作帳本建立成功

#### TC-010：查詢帳本列表
**測試函數表頭**:
```dart
/**
 * TC-010： 查詢帳本列表
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testQueryLedgerList();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 帳本查詢業務邏輯
- **測試步驟**:
  1. PL層7303.帳本協作功能群查詢帳本列表函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理帳本查詢邏輯
  5. DL層Firestore執行資料查詢
  6. 回傳查詢結果到PL層
- **預期結果**: 正確回傳帳本列表

#### TC-011：更新帳本資訊
**測試函數表頭**:
```dart
/**
 * TC-011： 更新帳本資訊
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testUpdateLedgerInfo();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 帳本更新業務邏輯
- **測試步驟**:
  1. PL層7303.帳本協作功能群更新帳本資訊函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理帳本更新邏輯
  5. DL層Firestore執行資料更新
  6. 回傳更新結果到PL層
- **預期結果**: 帳本資訊正確更新

#### TC-012：刪除帳本
**測試函數表頭**:
```dart
/**
 * TC-012： 刪除帳本
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testDeleteLedger();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 帳本刪除業務邏輯
- **測試步驟**:
  1. PL層7303.帳本協作功能群刪除帳本函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理帳本刪除邏輯
  5. DL層Firestore執行資料刪除
  6. 回傳刪除結果到PL層
- **預期結果**: 帳本正確刪除

#### TC-013：查詢協作者列表
**測試函數表頭**:
```dart
/**
 * TC-013： 查詢協作者列表
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testQueryCollaboratorList();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 協作者查詢業務邏輯
- **測試步驟**:
  1. PL層7303.帳本協作功能群查詢協作者列表函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理協作者查詢邏輯
  5. DL層Firestore查詢協作者資料
  6. 回傳協作者列表到PL層
- **預期結果**: 正確回傳協作者列表

#### TC-014：邀請協作者
**測試函數表頭**:
```dart
/**
 * TC-014： 邀請協作者
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testInviteCollaborator();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 協作者邀請業務邏輯
- **測試步驟**:
  1. PL層7303.帳本協作功能群邀請協作者函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理協作者邀請邏輯
  5. DL層Firestore儲存邀請資料
  6. 回傳邀請結果到PL層
- **預期結果**: 邀請成功發送

#### TC-015：更新協作者權限
**測試函數表頭**:
```dart
/**
 * TC-015： 更新協作者權限
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testUpdateCollaboratorPermissions();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 權限更新業務邏輯
- **測試步驟**:
  1. PL層7303.帳本協作功能群更新協作者權限函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理權限更新邏輯
  5. DL層Firestore更新權限資料
  6. 回傳權限更新結果到PL層
- **預期結果**: 協作者權限正確更新

#### TC-016：移除協作者
**測試函數表頭**:
```dart
/**
 * TC-016： 移除協作者
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testRemoveCollaborator();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 協作者移除業務邏輯
- **測試步驟**:
  1. PL層7303.帳本協作功能群移除協作者函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理協作者移除邏輯
  5. DL層Firestore移除協作者資料
  6. 回傳移除結果到PL層
- **預期結果**: 協作者正確移除

#### TC-017：權限矩陣計算
**測試函數表頭**:
```dart
/**
 * TC-017： 權限矩陣計算
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testPermissionMatrixCalculation();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 權限計算邏輯正確性
- **測試步驟**:
  1. PL層7303.帳本協作功能群權限矩陣計算函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理權限矩陣計算邏輯
  5. DL層Firestore查詢權限相關資料
  6. 回傳權限矩陣計算結果到PL層
- **預期結果**: 權限矩陣正確計算

#### TC-018：協作衝突檢測
**測試函數表頭**:
```dart
/**
 * TC-018： 協作衝突檢測
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testCollaborationConflictDetection();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 衝突檢測邏輯正確性
- **測試步驟**:
  1. PL層7303.帳本協作功能群協作衝突檢測函數
  2. APL.dart轉發至ASL.js
  3. ASL.js轉發至BL層1351.MLS.js模組
  4. BL層處理協作衝突檢測邏輯
  5. DL層Firestore分析協作資料
  6. 回傳衝突檢測結果到PL層
- **預期結果**: 衝突正確檢測與處理

#### TC-019：API整合驗證
**測試函數表頭**:
```dart
/**
 * TC-019： API整合驗證
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testAPIIntegrationVerification();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: APL.dart整合正確性
- **測試步驟**:
  1. PL層7303.帳本協作功能群API整合函數
  2. APL.dart執行統一Gateway轉發
  3. ASL.js轉發至BL層處理
  4. BL層處理API整合驗證邏輯
  5. DL層執行整合資料驗證
  6. 回傳API整合驗證結果到PL層
- **預期結果**: API整合100%成功

#### TC-020：錯誤處理驗證
**測試函數表頭**:
```dart
/**
 * TC-020： 錯誤處理驗證
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testErrorHandlingVerification();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 錯誤處理機制完整性
- **測試步驟**:
  1. PL層7303.帳本協作功能群錯誤處理函數
  2. APL.dart執行錯誤捕捉與轉發
  3. ASL.js轉發錯誤處理請求
  4. BL層處理錯誤處理邏輯
  5. DL層記錄錯誤日誌
  6. 回傳錯誤處理結果到PL層
- **預期結果**: 錯誤正確處理與回報

### 5.3 API整合驗證測試案例（TC-021~025）

#### TC-021：APL.dart統一Gateway驗證
**測試函數表頭**:
```dart
/**
 * TC-021： APL.dart統一Gateway驗證
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testAPLUnifiedGatewayVerification();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: APL.dart統一Gateway功能
- **測試步驟**:
  1. PL層函數呼叫APL.dart統一Gateway
  2. APL.dart執行統一API轉發機制
  3. ASL.js接收並處理轉發請求
  4. BL層處理Gateway轉發請求
  5. DL層執行對應資料操作
  6. 回傳Gateway驗證結果到PL層
- **預期結果**: Gateway功能100%正確

#### TC-022：預算管理API轉發驗證
**測試函數表頭**:
```dart
/**
 * TC-022： 預算管理API轉發驗證
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testBudgetManagementAPIForwarding();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 預算管理API轉發功能
- **測試步驟**:
  1. PL層函數呼叫預算管理API轉發請求
  2. APL.dart執行預算管理API轉發邏輯
  3. ASL.js轉發至BL層1312.BM.js
  4. BL層1312.BM.js處理預算管理請求
  5. DL層執行預算資料操作
  6. 回傳API轉發結果到PL層
- **預期結果**: 預算API轉發100%成功

#### TC-023：帳本協作API轉發驗證
**測試函數表頭**:
```dart
/**
 * TC-023： 帳本協作API轉發驗證
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testLedgerCollaborationAPIForwarding();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 帳本協作API轉發功能
- **測試步驟**:
  1. PL層函數呼叫帳本協作API轉發請求
  2. APL.dart執行帳本協作API轉發邏輯
  3. ASL.js轉發至BL層1351.MLS.js
  4. BL層1351.MLS.js處理協作請求
  5. DL層執行協作資料操作
  6. 回傳API轉發結果到PL層
- **預期結果**: 協作API轉發100%成功

#### TC-024：四模式差異化
**測試函數表頭**:
```dart
/**
 * TC-024： 四模式差異化
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testFourModesDifferentiation();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: 四模式差異化處理
- **測試步驟**:
  1. PL層函數呼叫四模式差異化請求
  2. APL.dart執行模式差異化轉發邏輯
  3. ASL.js轉發至BL層處理
  4. BL層處理四模式特定邏輯
  5. DL層查詢模式相關設定
  6. 回傳差異化處理結果到PL層
- **預期結果**: Expert/Inertial/Cultivation/Guiding模式100%正確

#### TC-025：統一回應格式驗證
**測試函數表頭**:
```dart
/**
 * TC-025： 統一回應格式驗證
 * @version 2025-10-22 v1.0.0
 * @date 2025-10-22 
 * @update: 初始版本
 */
Future<void> testUnifiedResponseFormatVerification();
```
- **測試焦點**: PL→APL→ASL→BL→DL完整鏈路驗證
- **驗證重點**: DCN-0015格式合規性
- **測試步驟**:
  1. PL層函數呼叫統一回應格式驗證請求
  2. APL.dart執行DCN-0015格式處理
  3. ASL.js轉發至BL層處理
  4. BL層處理統一格式邏輯
  5. DL層執行格式相關資料操作
  6. 回傳格式驗證結果到PL層
- **預期結果**: 回應格式100%合規

---

## 6. 測試執行計畫

### 6.1 SIT測試執行流程

#### 6.1.1 測試執行架構
**執行順序**：
1. **階段一：預算管理功能測試** (TC-001~008)
   - **執行方式**: 遵守PL→APL→ASL→BL鏈路調用PL層7304.預算管理功能群函數
   - **驗證重點**: 預算業務邏輯正確性

2. **階段二：帳本協作功能測試** (TC-009~020)
   - **執行方式**: 遵守PL→APL→ASL→BL鏈路調用PL層7303.帳本協作功能群函數
   - **驗證重點**: 協作業務邏輯正確性

3. **階段三：API整合驗證測試** (TC-021~025)
   - **執行方式**: 驗證APL.dart統一Gateway功能
   - **驗證重點**: API整合完整性

#### 6.1.2 測試執行策略

**MVP精簡執行策略**
- **統一測試入口**: 透過待開發的SIT_P2.dart執行
- **直接函數調用**: 減少測試複雜度，專注核心功能驗證
- **API整合驗證**: 確保APL.dart統一Gateway正確運作

**錯誤處理策略**
- Critical錯誤：立即停止測試並報告
- High錯誤：完成當前測試後停止
- Medium/Low錯誤：記錄後繼續執行

---

## 7. 驗收標準

### 7.1 必須達成標準

#### 7.1.1 MVP功能完整性標準
- ✅ **預算管理核心功能通過率 = 100%**
- ✅ **帳本協作基本功能通過率 = 100%**
- ✅ **APL.dart統一Gateway整合成功率 = 100%**
- ✅ **四模式差異化處理正確率 = 100%**

#### 7.1.2 API整合標準
- ✅ **API轉發功能 = 100%正確**
- ✅ **統一回應格式 = 100%合規DCN-0015**
- ✅ **錯誤處理機制 = 100%覆蓋**
- ✅ **業務邏輯驗證 = 100%通過**

### 7.2 品質門檻

#### 7.2.1 Go/No-Go標準
**Go條件 (全部滿足才可進入下一階段):**
1. 所有必須達成標準100%通過
2. 無Critical級別功能缺陷
3. High級別缺陷 < 2個且已有修正計畫
4. 預算管理與帳本協作核心功能100%正確
5. APL.dart統一Gateway整合100%成功

**No-Go條件 (任一條件即需延期):**
1. 任一必須達成標準未通過
2. 存在Critical級別功能缺陷
3. 預算管理功能通過率 < 95%
4. 帳本協作功能通過率 < 95%
5. API整合成功率 < 95%

---

## 附錄

### A. 測試檢查清單

#### A.1 基礎環境檢查
- [ ] PL層代碼7303、7304完成
- [ ] APL.dart統一Gateway正常運作
- [ ] BL層1312.BM.js、1351.MLS.js模組功能正常
- [ ] DL層Firestore P2資料結構配置

#### A.2 SIT測試架構檢查
- [ ] `SIT_P2.dart` 測試控制中心完成（待開發）
- [ ] 靜態測試資料準備完成
- [ ] API整合測試環境配置完成

### B. 相關文件清單
- [0015. Product_SPEC_LCAS_2.0.md](../00.%20Master_Project%20document/0015.%20Product_SPEC_LCAS_2.0.md)
- [0090. Sprint計畫.md](../00.%20Master_Project%20document/0090.%20Sprint計畫.md)
- [7303. 帳本協作功能群.dart](../73.%20Flutter_Module%20code_PL/7303.%20帳本協作功能群.dart)
- [7304. 預算管理功能群.dart](../73.%20Flutter_Module%20code_PL/7304.%20預算管理功能群.dart)
- [APL.dart](../APL.dart)

### C. 測試案例索引

#### 預算管理功能測試（TC-001~008）
| 測試案例ID | 測試案例名稱 | 測試焦點 | 優先級 |
|------------|--------------|----------|--------|
| TC-001 | 建立基本預算 | 預算建立業務邏輯 | P1 |
| TC-002 | 查詢預算列表 | 預算查詢業務邏輯 | P1 |
| TC-003 | 更新預算資訊 | 預算更新業務邏輯 | P1 |
| TC-004 | 刪除預算 | 預算刪除業務邏輯 | P1 |
| TC-005 | 預算執行狀況計算 | 預算計算邏輯 | P1 |
| TC-006 | 預算警示檢查 | 警示邏輯 | P2 |
| TC-007 | 預算資料驗證 | 資料驗證邏輯 | P2 |
| TC-008 | 預算模式差異化 | 四模式差異化 | P1 |

#### 帳本協作功能測試（TC-009~020）
| 測試案例ID | 測試案例名稱 | 測試焦點 | 優先級 |
|------------|--------------|----------|--------|
| TC-009 | 建立協作帳本 | 帳本建立業務邏輯 | P1 |
| TC-010 | 查詢帳本列表 | 帳本查詢業務邏輯 | P1 |
| TC-011 | 更新帳本資訊 | 帳本更新業務邏輯 | P1 |
| TC-012 | 刪除帳本 | 帳本刪除業務邏輯 | P1 |
| TC-013 | 查詢協作者列表 | 協作者查詢業務邏輯 | P1 |
| TC-014 | 邀請協作者 | 協作者邀請業務邏輯 | P1 |
| TC-015 | 更新協作者權限 | 權限更新業務邏輯 | P1 |
| TC-016 | 移除協作者 | 協作者移除業務邏輯 | P1 |
| TC-017 | 權限矩陣計算 | 權限計算邏輯 | P2 |
| TC-018 | 協作衝突檢測 | 衝突檢測邏輯 | P2 |
| TC-019 | API整合驗證 | API整合正確性 | P1 |
| TC-020 | 錯誤處理驗證 | 錯誤處理機制 | P2 |

#### API整合驗證測試（TC-021~025）
| 測試案例ID | 測試案例名稱 | 測試焦點 | 優先級 |
|------------|--------------|----------|--------|
| TC-021 | APL.dart統一Gateway驗證 | 統一Gateway功能 | P1 |
| TC-022 | 預算管理API轉發驗證 | 預算API轉發 | P1 |
| TC-023 | 帳本協作API轉發驗證 | 協作API轉發 | P1 |
| TC-024 | 四模式差異化 | 模式差異化處理 | P1 |
| TC-025 | 統一回應格式驗證 | DCN-0015格式合規 | P1 |

---
