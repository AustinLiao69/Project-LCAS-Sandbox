# 8701. èªè­‰æµç¨‹ç¾¤çµ„_SRS

**æ–‡ä»¶ç·¨è™Ÿ**: 8701-SRS-GROUP  
**ç‰ˆæœ¬**: v2.0.0  
**å»ºç«‹æ—¥æœŸ**: 2025-08-07  
**å»ºç«‹è€…**: LCAS SA Team  
**æœ€å¾Œæ›´æ–°**: 2025-08-07 22:00:00 UTC+8

---

## ç›®æ¬¡

1. [ç¾¤çµ„æ¦‚è¿°](#1-ç¾¤çµ„æ¦‚è¿°)
2. [é é¢åŠŸèƒ½ç¸½è¦½](#2-é é¢åŠŸèƒ½ç¸½è¦½)
3. [APIç«¯é»å°ç…§è¡¨](#3-apiç«¯é»å°ç…§è¡¨)
4. [åŠŸèƒ½ç›®çš„](#4-åŠŸèƒ½ç›®çš„)
5. [ä½¿ç”¨è€…æ•…äº‹](#5-ä½¿ç”¨è€…æ•…äº‹)
6. [å‰ç½®æ¢ä»¶](#6-å‰ç½®æ¢ä»¶)
7. [åŠŸèƒ½æµç¨‹](#7-åŠŸèƒ½æµç¨‹)
8. [è¼¸å…¥é …ç›®](#8-è¼¸å…¥é …ç›®)
9. [è¼¸å‡ºé …ç›®](#9-è¼¸å‡ºé …ç›®)
10. [é©—è­‰è¦å‰‡](#10-é©—è­‰è¦å‰‡)
11. [éŒ¯èª¤è™•ç†](#11-éŒ¯èª¤è™•ç†)
12. [UIå…ƒä»¶èˆ‡æ’ç‰ˆéœ€æ±‚](#12-uiå…ƒä»¶èˆ‡æ’ç‰ˆéœ€æ±‚)
13. [APIè¦æ ¼](#13-apiè¦æ ¼)
14. [ç‹€æ…‹èˆ‡ç•«é¢åˆ‡æ›](#14-ç‹€æ…‹èˆ‡ç•«é¢åˆ‡æ›)
15. [å®‰å…¨æ€§èˆ‡æ¬Šé™æª¢æŸ¥](#15-å®‰å…¨æ€§èˆ‡æ¬Šé™æª¢æŸ¥)
16. [å…¶ä»–è£œå……éœ€æ±‚](#16-å…¶ä»–è£œå……éœ€æ±‚)
17. [é é¢è©³ç´°è¦æ ¼](#17-é é¢è©³ç´°è¦æ ¼)
18. [æ•´åˆé©—æ”¶æ¨™æº–](#18-æ•´åˆé©—æ”¶æ¨™æº–)
19. [ç‰ˆæœ¬è¨˜éŒ„](#19-ç‰ˆæœ¬è¨˜éŒ„)

---

## 1. ç¾¤çµ„æ¦‚è¿°

### 1.1 ç¾¤çµ„å®šä½
èªè­‰æµç¨‹ç¾¤çµ„æ˜¯LCAS 2.0 Flutteræ‡‰ç”¨ç¨‹å¼çš„**å…¥å£èˆ‡å®‰å…¨é˜²è­·å±¤**ï¼Œè² è²¬è™•ç†æ‰€æœ‰ä½¿ç”¨è€…èº«ä»½é©—è­‰ç›¸é—œçš„åŠŸèƒ½æµç¨‹ï¼Œç¢ºä¿ç³»çµ±å®‰å…¨æ€§èˆ‡ä½¿ç”¨è€…é«”é©—çš„å¹³è¡¡ã€‚

### 1.2 ç¾¤çµ„ç¯„åœ
æœ¬ç¾¤çµ„æ•´åˆä»¥ä¸‹5å€‹æ ¸å¿ƒèªè­‰é é¢ï¼š
- **P001 æ­¡è¿é é¢**ï¼šæ‡‰ç”¨ç¨‹å¼å…¥å£èˆ‡æ¨¡å¼é¸æ“‡
- **P002 ç™»å…¥é é¢**ï¼šå¤šé‡èº«ä»½é©—è­‰å…¥å£
- **P003 è¨»å†Šé é¢**ï¼šæ–°ä½¿ç”¨è€…å¸³è™Ÿå»ºç«‹
- **P004 å¯†ç¢¼é‡è¨­é é¢**ï¼šå®‰å…¨å¯†ç¢¼é‡è¨­æµç¨‹
- **P005 ç™»å‡ºç¢ºèªé é¢**ï¼šå®‰å…¨ç™»å‡ºç¢ºèªæ©Ÿåˆ¶

### 1.3 è¨­è¨ˆåŸå‰‡
- **å®‰å…¨ç¬¬ä¸€**ï¼šæ‰€æœ‰èªè­‰æµç¨‹éƒ½éµå¾ªæ¥­ç•Œæœ€ä½³å®‰å…¨å¯¦å‹™
- **é«”é©—å„ªåŒ–**ï¼šæ ¹æ“šå››ç¨®ä½¿ç”¨è€…æ¨¡å¼æä¾›å·®ç•°åŒ–é«”é©—
- **ç„¡ç¸«æ•´åˆ**ï¼šèˆ‡å¾Œç«¯èªè­‰æœå‹™å®Œç¾å°æ¥
- **ç„¡éšœç¤™å‹å–„**ï¼šå®Œæ•´çš„WCAG 2.1 AAæ¨™æº–æ”¯æ´

---

## 2. é é¢åŠŸèƒ½ç¸½è¦½

| é é¢ç·¨è™Ÿ | é é¢åç¨± | ä¸»è¦åŠŸèƒ½ | å››æ¨¡å¼å·®ç•°é‡é» | å®‰å…¨ç­‰ç´š |
|----------|----------|----------|----------------|----------|
| **P001** | æ­¡è¿é é¢ | æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•å¼•å°ã€æ¨¡å¼é¸æ“‡ | æ¨¡å¼é¸æ“‡ä»‹é¢è¤‡é›œåº¦ | ä½ |
| **P002** | ç™»å…¥é é¢ | LINE OAuth/ç¬¬ä¸‰æ–¹/Emailç™»å…¥ | ç™»å…¥é¸é …å¤šæ¨£æ€§ | é«˜ |
| **P003** | è¨»å†Šé é¢ | æ–°ä½¿ç”¨è€…è¨»å†Šèˆ‡é©—è­‰ | è¡¨å–®æ¬„ä½å®Œæ•´åº¦ | é«˜ |
| **P004** | å¯†ç¢¼é‡è¨­é é¢ | å®‰å…¨çš„å¯†ç¢¼é‡è¨­æµç¨‹ | é©—è­‰æ­¥é©Ÿè©³ç´°åº¦ | æ¥µé«˜ |
| **P005** | ç™»å‡ºç¢ºèªé é¢ | å®‰å…¨ç™»å‡ºç¢ºèªèˆ‡æ¸…ç† | æ¸…ç†é¸é …è¤‡é›œåº¦ | ä¸­ |

### 2.1 ç¾¤çµ„æµç¨‹é—œä¿‚åœ–
```
P001 æ­¡è¿é é¢ (å•Ÿå‹•é»)
    â†“ æ–°ä½¿ç”¨è€…
P003 è¨»å†Šé é¢ â†’ Emailé©—è­‰ â†’ P002 ç™»å…¥é é¢
    â†“ å›è¨ªä½¿ç”¨è€…     â†—        â†“ æˆåŠŸç™»å…¥
P002 ç™»å…¥é é¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ P006 é¦–é å„€è¡¨æ¿
    â†“ å¿˜è¨˜å¯†ç¢¼              â†—
P004 å¯†ç¢¼é‡è¨­é é¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½¿ç”¨ä¸­... â†’ P005 ç™»å‡ºç¢ºèªé é¢ â†’ P001 æ­¡è¿é é¢
```

---

## 3. APIç«¯é»å°ç…§è¡¨

### 3.1 å®Œæ•´APIå°æ‡‰é—œä¿‚

| é é¢ç·¨è™Ÿ | é é¢åç¨± | å°æ‡‰APIç·¨è™Ÿ | APIè·¯å¾‘ | HTTPæ–¹æ³• | ä¸»è¦åŠŸèƒ½æè¿° |
|----------|----------|-------------|---------|----------|-------------|
| **P001** | æ­¡è¿é é¢ | **F004** | DELETE /auth/account | DELETE | å¸³è™Ÿåˆªé™¤åŠŸèƒ½ï¼ˆæ·±å±¤åŠŸèƒ½ï¼‰ |
| **P002** | ç™»å…¥é é¢ | **F002** | POST /auth/login | POST | ä½¿ç”¨è€…ç™»å…¥é©—è­‰ï¼ˆLINE/Email/OAuthï¼‰ |
| **P003** | è¨»å†Šé é¢ | **F001** | POST /auth/register | POST | æ–°ä½¿ç”¨è€…è¨»å†Šèˆ‡Emailé©—è­‰ |
| **P004** | å¯†ç¢¼é‡è¨­é é¢ | **F005** | POST /auth/reset-password | POST | å®‰å…¨å¯†ç¢¼é‡è¨­æµç¨‹ |
| **P005** | ç™»å‡ºç¢ºèªé é¢ | **F003** | POST /auth/logout | POST | å®‰å…¨ç™»å‡ºèˆ‡æœƒè©±æ¸…ç† |

### 3.2 APIä½¿ç”¨çµ±è¨ˆ
- **è¦†è“‹APIæ•¸é‡**ï¼š5å€‹æ ¸å¿ƒèªè­‰APIï¼ˆF001-F005ï¼‰
- **APIä½¿ç”¨ç‡**ï¼š100%ï¼ˆèªè­‰æ¨¡çµ„å®Œæ•´è¦†è“‹ï¼‰
- **å®‰å…¨ç­‰ç´š**ï¼šé«˜ï¼ˆæ‰€æœ‰APIéƒ½åŒ…å«å®‰å…¨é©—è­‰ï¼‰
- **æ•´åˆç‹€æ…‹**ï¼šå®Œå…¨æ•´åˆ

---

## 4. åŠŸèƒ½ç›®çš„

### 4.1 ç¾¤çµ„æ•´é«”ç›®çš„
èªè­‰æµç¨‹ç¾¤çµ„ä½œç‚ºLCAS 2.0çš„**å®‰å…¨å…¥å£**ï¼Œç¢ºä¿ï¼š
- **èº«ä»½é©—è­‰å®Œæ•´æ€§**ï¼šæä¾›å¤šé‡ç™»å…¥æ–¹å¼çš„å®Œæ•´é©—è­‰æµç¨‹
- **ä½¿ç”¨è€…é«”é©—æœ€ä½³åŒ–**ï¼šæ ¹æ“šå››ç¨®æ¨¡å¼æä¾›å·®ç•°åŒ–çš„èªè­‰é«”é©—
- **å®‰å…¨æ€§ä¿éšœ**ï¼šå¯¦æ–½æ¥­ç•Œæ¨™æº–çš„å®‰å…¨é˜²è­·æªæ–½
- **ç„¡ç¸«æµç¨‹è¨­è¨ˆ**ï¼šå„é é¢é–“æµæš¢çš„å°èˆªèˆ‡ç‹€æ…‹ç®¡ç†

### 4.2 å››æ¨¡å¼å·®ç•°åŒ–ç›®çš„

#### ç²¾æº–æ§åˆ¶è€…æ¨¡å¼
- æä¾›å®Œæ•´çš„èªè­‰é¸é …èˆ‡è©³ç´°çš„å®‰å…¨è¨­å®š
- é¡¯ç¤ºé€²éšçš„å¸³è™Ÿç®¡ç†åŠŸèƒ½
- æ”¯æ´è¤‡é›œçš„å¤šé‡é©—è­‰æµç¨‹

#### ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼  
- å„ªé›…ç¾è§€çš„èªè­‰ç•Œé¢è¨­è¨ˆ
- æµæš¢çš„è¦–è¦ºå‹•ç•«èˆ‡è½‰å ´æ•ˆæœ
- ç°¡åŒ–ä½†ä¸å¤±åŠŸèƒ½æ€§çš„èªè­‰æµç¨‹

#### è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼
- æ¿€å‹µæ€§çš„èªè­‰é«”é©—è¨­è¨ˆ
- ç¿’æ…£é¤Šæˆå°å‘çš„å¼•å°æç¤º
- ç›®æ¨™é”æˆçš„ç©æ¥µå›é¥‹æ©Ÿåˆ¶

#### æ½›åœ¨è¦ºé†’è€…æ¨¡å¼
- æ¥µç°¡åŒ–çš„èªè­‰æµç¨‹è¨­è¨ˆ
- å¤§æŒ‰éˆ•èˆ‡æ¸…æ¥šçš„æ“ä½œæŒ‡å¼•
- é™ä½èªçŸ¥è² æ“”çš„ç°¡ç´„ä»‹é¢

---

## 5. ä½¿ç”¨è€…æ•…äº‹

### 5.1 æ ¸å¿ƒä½¿ç”¨è€…æ•…äº‹

**ä½œç‚ºæ–°ä½¿ç”¨è€…**ï¼Œæˆ‘å¸Œæœ›èƒ½å¿«é€Ÿä¸”å®‰å…¨åœ°å®Œæˆè¨»å†Šï¼Œä»¥ä¾¿é–‹å§‹ä½¿ç”¨LCAS 2.0çš„è¨˜å¸³åŠŸèƒ½ã€‚

**ä½œç‚ºå›è¨ªä½¿ç”¨è€…**ï¼Œæˆ‘å¸Œæœ›èƒ½ä¾¿æ·åœ°ç™»å…¥æˆ‘çš„å¸³è™Ÿï¼Œä»¥ä¾¿ç¹¼çºŒæˆ‘çš„è¨˜å¸³æ´»å‹•ã€‚

**ä½œç‚ºå®‰å…¨æ„è­˜é«˜çš„ä½¿ç”¨è€…**ï¼Œæˆ‘å¸Œæœ›èªè­‰éç¨‹æœ‰è¶³å¤ çš„å®‰å…¨ä¿éšœï¼Œä»¥ä¾¿ä¿è­·æˆ‘çš„è³‡æ–™å®‰å…¨ã€‚

**ä½œç‚ºä¸åŒæ¨¡å¼çš„ä½¿ç”¨è€…**ï¼Œæˆ‘å¸Œæœ›çœ‹åˆ°ç¬¦åˆæˆ‘ä½¿ç”¨ç¿’æ…£çš„èªè­‰ä»‹é¢ï¼Œä»¥ä¾¿ç²å¾—å€‹äººåŒ–é«”é©—ã€‚

### 5.2 å››æ¨¡å¼ä½¿ç”¨è€…æ•…äº‹

#### ç²¾æº–æ§åˆ¶è€… (Controller)
> "ä½œç‚ºç²¾æº–æ§åˆ¶è€…ï¼Œæˆ‘å¸Œæœ›èƒ½å®Œå…¨æŒæ§æˆ‘çš„å¸³è™Ÿå®‰å…¨è¨­å®šï¼ŒåŒ…æ‹¬è©³ç´°çš„ç™»å…¥è¨˜éŒ„ã€å¤šé‡é©—è­‰é¸é …ï¼Œä»¥åŠå®Œæ•´çš„éš±ç§æ§åˆ¶ã€‚"

#### ç´€éŒ„ç¿’æ…£è€… (Logger)  
> "ä½œç‚ºç´€éŒ„ç¿’æ…£è€…ï¼Œæˆ‘å¸Œæœ›èªè­‰éç¨‹æ˜¯ç¾è§€ä¸”æµæš¢çš„ï¼Œè®“æˆ‘åœ¨ç™»å…¥æ™‚å°±èƒ½æ„Ÿå—åˆ°æ‡‰ç”¨ç¨‹å¼çš„å„ªé›…è¨­è¨ˆå“è³ªã€‚"

#### è½‰å‹æŒ‘æˆ°è€… (Struggler)
> "ä½œç‚ºè½‰å‹æŒ‘æˆ°è€…ï¼Œæˆ‘å¸Œæœ›èªè­‰éç¨‹èƒ½çµ¦æˆ‘ç©æ¥µçš„é¼“å‹µï¼Œè®“æˆ‘æ„Ÿå—åˆ°é€™å€‹æ‡‰ç”¨ç¨‹å¼æœƒå¹«åŠ©æˆ‘é”æˆè²¡å‹™ç®¡ç†çš„ç›®æ¨™ã€‚"

#### æ½›åœ¨è¦ºé†’è€… (Sleeper)
> "ä½œç‚ºæ½›åœ¨è¦ºé†’è€…ï¼Œæˆ‘å¸Œæœ›èªè­‰éç¨‹æ˜¯ç°¡å–®æ˜ç­çš„ï¼Œä¸è¦æœ‰å¤ªå¤šè¤‡é›œçš„é¸é …è®“æˆ‘æ„Ÿåˆ°å›°æƒ‘ã€‚"

---

## 6. å‰ç½®æ¢ä»¶

### 6.1 ç³»çµ±ç’°å¢ƒæ¢ä»¶
- ä½¿ç”¨è€…å·²æˆåŠŸå®‰è£LCAS 2.0 Flutteræ‡‰ç”¨ç¨‹å¼
- è£ç½®å…·å‚™ç©©å®šçš„ç¶²è·¯é€£ç·šèƒ½åŠ›
- æ‡‰ç”¨ç¨‹å¼å…·å‚™åŸºæœ¬ç³»çµ±æ¬Šé™ï¼ˆç¶²è·¯å­˜å–ã€å„²å­˜ç­‰ï¼‰
- ç›¸é—œOAuthæ‡‰ç”¨ç¨‹å¼å·²å®‰è£ï¼ˆLINEã€Googleã€Appleç­‰ï¼‰

### 6.2 èªè­‰æœå‹™æ¢ä»¶
- å¾Œç«¯èªè­‰æœå‹™ï¼ˆF001-F005ï¼‰æ­£å¸¸é‹ä½œ
- Firestoreè³‡æ–™åº«é€£ç·šç©©å®š
- Emailæœå‹™ä¾›æ‡‰å•†æ­£å¸¸é‹ä½œ
- OAuthæä¾›è€…ï¼ˆLINEã€Googleã€Appleï¼‰æœå‹™å¯ç”¨

### 6.3 è³‡æ–™å®Œæ•´æ€§æ¢ä»¶
- ä½¿ç”¨è€…æ¨¡å¼å®šç¾©å®Œæ•´ä¸”ä¸€è‡´
- æœå‹™æ¢æ¬¾èˆ‡éš±ç§æ”¿ç­–æœ€æ–°ç‰ˆæœ¬å¯ç”¨
- ç³»çµ±è¨­å®šè³‡æ–™å®Œæ•´æ€§æª¢æŸ¥é€šé

---

## 7. åŠŸèƒ½æµç¨‹

### 7.1 ç¾¤çµ„æ•´é«”æµç¨‹

#### 7.1.1 é¦–æ¬¡ä½¿ç”¨è€…å®Œæ•´æµç¨‹
```
1. P001 æ­¡è¿é é¢
   â”œâ”€â”€ é¡¯ç¤ºå“ç‰Œä»‹ç´¹
   â”œâ”€â”€ å››æ¨¡å¼é¸æ“‡
   â””â”€â”€ é¸æ“‡è¨»å†Šæ–¹å¼

2. P003 è¨»å†Šé é¢  
   â”œâ”€â”€ LINE OAuthè¨»å†Šï¼ˆæ¨è–¦ï¼‰
   â”œâ”€â”€ Emailè¨»å†Š + é©—è­‰
   â””â”€â”€ è£œå……è³‡è¨Šæ”¶é›†

3. é©—è­‰å®Œæˆ
   â””â”€â”€ å°å‘ P002 ç™»å…¥é é¢

4. P002 ç™»å…¥é é¢
   â”œâ”€â”€ è¼¸å…¥èªè­‰è³‡è¨Š
   â””â”€â”€ æˆåŠŸç™»å…¥

5. å°å‘ P006 é¦–é å„€è¡¨æ¿
```

#### 7.1.2 å›è¨ªä½¿ç”¨è€…æµç¨‹
```
1. P001 æ­¡è¿é é¢
   â”œâ”€â”€ æª¢æ¸¬ç™»å…¥ç‹€æ…‹
   â””â”€â”€ å·²ç™»å…¥ â†’ ç›´æ¥å°å‘ P006

2. æœªç™»å…¥ â†’ P002 ç™»å…¥é é¢
   â”œâ”€â”€ å¿«é€Ÿç™»å…¥é¸é …
   â”œâ”€â”€ è¨˜ä½çš„å¸³è™Ÿè³‡è¨Š
   â””â”€â”€ æˆåŠŸç™»å…¥

3. å°å‘ P006 é¦–é å„€è¡¨æ¿
```

#### 7.1.3 å¯†ç¢¼é‡è¨­æµç¨‹
```
1. P002 ç™»å…¥é é¢
   â””â”€â”€ é»æ“Šã€Œå¿˜è¨˜å¯†ç¢¼ã€

2. P004 å¯†ç¢¼é‡è¨­é é¢
   â”œâ”€â”€ è¼¸å…¥Emailåœ°å€
   â”œâ”€â”€ æ¥æ”¶é©—è­‰ç¢¼
   â”œâ”€â”€ è¼¸å…¥æ–°å¯†ç¢¼
   â””â”€â”€ é‡è¨­æˆåŠŸ

3. å°å‘ P002 ç™»å…¥é é¢
   â””â”€â”€ ä½¿ç”¨æ–°å¯†ç¢¼ç™»å…¥
```

#### 7.1.4 å®‰å…¨ç™»å‡ºæµç¨‹
```
1. ä½¿ç”¨ä¸­è§¸ç™¼ç™»å‡º
   â””â”€â”€ P005 ç™»å‡ºç¢ºèªé é¢

2. é¸æ“‡ç™»å‡ºé¡å‹
   â”œâ”€â”€ å¿«é€Ÿç™»å‡ºï¼ˆä¿ç•™éƒ¨åˆ†è³‡è¨Šï¼‰
   â””â”€â”€ å®Œå…¨ç™»å‡ºï¼ˆæ¸…ç†æ‰€æœ‰è³‡æ–™ï¼‰

3. åŸ·è¡Œç™»å‡º
   â”œâ”€â”€ æ¸…ç†æœƒè©±
   â”œâ”€â”€ æ¸…ç†æœ¬åœ°è³‡æ–™
   â””â”€â”€ å°å‘ P001 æ­¡è¿é é¢
```

### 7.2 å››æ¨¡å¼å·®ç•°åŒ–æµç¨‹

#### ç²¾æº–æ§åˆ¶è€…æ¨¡å¼
- **å®Œæ•´åŠŸèƒ½å±•ç¤º**ï¼šæ‰€æœ‰èªè­‰é¸é …éƒ½å¯è¦‹
- **è©³ç´°å®‰å…¨è¨­å®š**ï¼šæä¾›é€²éšå®‰å…¨é¸é …
- **å¤šé‡é©—è­‰æ”¯æ´**ï¼šæ”¯æ´è¤‡é›œçš„é©—è­‰æµç¨‹

#### ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼
- **å„ªé›…é«”é©—è¨­è¨ˆ**ï¼šæ³¨é‡è¦–è¦ºç¾æ„Ÿèˆ‡æµæš¢åº¦
- **ç°¡åŒ–é¸é …å‘ˆç¾**ï¼šéš±è—éæ–¼æŠ€è¡“æ€§çš„é¸é …
- **ç¾è§€å‹•ç•«æ•ˆæœ**ï¼šæµæš¢çš„è½‰å ´èˆ‡äº’å‹•å‹•ç•«

#### è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼
- **æ¿€å‹µå…ƒç´ æ•´åˆ**ï¼šåœ¨èªè­‰éç¨‹ä¸­åŠ å…¥æ¿€å‹µå…ƒç´ 
- **ç›®æ¨™å°å‘è¨­è¨ˆ**ï¼šå¼·èª¿é”æˆè²¡å‹™ç›®æ¨™çš„é‡è¦æ€§
- **ç©æ¥µå›é¥‹æ©Ÿåˆ¶**ï¼šæä¾›æ­£é¢çš„æ“ä½œå›é¥‹

#### æ½›åœ¨è¦ºé†’è€…æ¨¡å¼
- **æ¥µç°¡åŒ–ä»‹é¢**ï¼šåƒ…ä¿ç•™æœ€æ ¸å¿ƒçš„åŠŸèƒ½
- **å¤§æŒ‰éˆ•è¨­è¨ˆ**ï¼šæ¸…æ¥šæ˜“æ‡‚çš„æ“ä½œæŒ‰éˆ•
- **ç°¡åŒ–é¸æ“‡**ï¼šæ¸›å°‘é¸é …ä»¥é™ä½èªçŸ¥è² æ“”

---

## 8. è¼¸å…¥é …ç›®

### 8.1 ç¾¤çµ„å…±é€šè¼¸å…¥é …ç›®

| è¼¸å…¥é¡åˆ¥ | è¼¸å…¥é …ç›® | è³‡æ–™é¡å‹ | å¿…å¡« | é©ç”¨é é¢ | èªªæ˜ |
|----------|----------|----------|------|----------|------|
| **åŸºæœ¬è³‡è¨Š** | ä½¿ç”¨è€…æ¨¡å¼ | String | æ˜¯ | P001, P003 | controller/logger/struggler/sleeper |
| **èªè­‰è³‡è¨Š** | Emailåœ°å€ | String | æ¢ä»¶å¿…å¡« | P002, P003, P004 | æ¨™æº–Emailæ ¼å¼é©—è­‰ |
| **èªè­‰è³‡è¨Š** | å¯†ç¢¼ | String | æ¢ä»¶å¿…å¡« | P002, P003, P004 | 8-128å­—å…ƒï¼ŒåŒ…å«è‹±æ•¸ |
| **èªè­‰è³‡è¨Š** | ç¢ºèªå¯†ç¢¼ | String | æ¢ä»¶å¿…å¡« | P003, P004 | å¿…é ˆèˆ‡å¯†ç¢¼ä¸€è‡´ |
| **å€‹äººè³‡è¨Š** | ä½¿ç”¨è€…å§“å | String | æ¢ä»¶å¿…å¡« | P003 | 2-20å­—å…ƒï¼Œä¸­è‹±æ•¸å­— |
| **é©—è­‰æ©Ÿåˆ¶** | é©—è­‰ç¢¼ | String | æ¢ä»¶å¿…å¡« | P004 | 6ä½æ•¸å­—ï¼Œ10åˆ†é˜æœ‰æ•ˆ |
| **OAuth** | æˆæ¬Šç¢¼ | String | æ¢ä»¶å¿…å¡« | P002, P003 | ç¬¬ä¸‰æ–¹OAuthæˆæ¬Šç¢¼ |
| **åŒæ„æ¢æ¬¾** | æœå‹™æ¢æ¬¾åŒæ„ | Boolean | æ¢ä»¶å¿…å¡« | P003 | è¨»å†Šæ™‚å¿…é ˆåŒæ„ |
| **åŒæ„æ¢æ¬¾** | éš±ç§æ”¿ç­–åŒæ„ | Boolean | æ¢ä»¶å¿…å¡« | P003 | è¨»å†Šæ™‚å¿…é ˆåŒæ„ |
| **ç™»å‡ºé¸é …** | ç™»å‡ºé¡å‹ | String | æ¢ä»¶å¿…å¡« | P005 | quick/complete/cancel |
| **è£ç½®è³‡è¨Š** | è£ç½®è³‡è¨Š | Object | æ˜¯ | å…¨éƒ¨ | å¹³å°ã€ç‰ˆæœ¬ã€IDç­‰ |

### 8.2 å››æ¨¡å¼å°ˆå±¬è¼¸å…¥å·®ç•°

#### ç²¾æº–æ§åˆ¶è€…æ¨¡å¼
- **é€²éšå®‰å…¨é¸é …**ï¼šå¤šé‡é©—è­‰è¨­å®šã€è£ç½®ä¿¡ä»»ç®¡ç†
- **è©³ç´°å€‹äººè³‡è¨Š**ï¼šå®Œæ•´çš„å€‹äººæª”æ¡ˆè¨­å®š
- **å®¢è£½åŒ–è¨­å®š**ï¼šå€‹äººåŒ–çš„å®‰å…¨èˆ‡éš±ç§è¨­å®š

#### ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼
- **ç¾è§€åå¥½è¨­å®š**ï¼šä½ˆæ™¯ä¸»é¡Œã€å‹•ç•«åå¥½
- **ç°¡åŒ–è³‡è¨Šæ”¶é›†**ï¼šåƒ…æ”¶é›†å¿…è¦çš„ç¾è§€ç›¸é—œè¨­å®š

#### è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼
- **ç›®æ¨™è¨­å®š**ï¼šè²¡å‹™ç›®æ¨™ã€ç¿’æ…£é¤Šæˆç›®æ¨™
- **æ¿€å‹µåå¥½**ï¼šé€šçŸ¥æé†’ã€æˆå°±ç³»çµ±è¨­å®š

#### æ½›åœ¨è¦ºé†’è€…æ¨¡å¼
- **æœ€ç°¡åŒ–è¼¸å…¥**ï¼šåƒ…æ”¶é›†æœ€æ ¸å¿ƒçš„å¿…è¦è³‡è¨Š
- **é è¨­è¨­å®š**ï¼šå¤§å¤šæ•¸è¨­å®šä½¿ç”¨åˆç†çš„é è¨­å€¼

---

## 9. è¼¸å‡ºé …ç›®

### 9.1 ç¾¤çµ„å…±é€šè¼¸å‡ºé …ç›®

| è¼¸å‡ºé¡åˆ¥ | è¼¸å‡ºé …ç›® | è³‡æ–™é¡å‹ | é©ç”¨é é¢ | èªªæ˜ |
|----------|----------|----------|----------|------|
| **èªè­‰çµæœ** | å­˜å–ä»¤ç‰Œ | String | P002, P003 | JWTæ ¼å¼çš„ä½¿ç”¨è€…å­˜å–ä»¤ç‰Œ |
| **èªè­‰çµæœ** | åˆ·æ–°ä»¤ç‰Œ | String | P002, P003 | ç”¨æ–¼ä»¤ç‰Œæ›´æ–°çš„åˆ·æ–°ä»¤ç‰Œ |
| **ä½¿ç”¨è€…è³‡è¨Š** | ä½¿ç”¨è€…æª”æ¡ˆ | Object | P002, P003 | åŸºæœ¬ä½¿ç”¨è€…è³‡æ–™èˆ‡åå¥½è¨­å®š |
| **å°èˆªæ§åˆ¶** | å°èˆªç›®æ¨™ | String | å…¨éƒ¨ | ä¸‹ä¸€å€‹é é¢çš„è·¯å¾‘ |
| **ç‹€æ…‹å›é¥‹** | æ“ä½œçµæœ | Boolean | å…¨éƒ¨ | æ“ä½œæˆåŠŸ/å¤±æ•—ç‹€æ…‹ |
| **éŒ¯èª¤è™•ç†** | éŒ¯èª¤è¨Šæ¯ | String | å…¨éƒ¨ | è©³ç´°çš„éŒ¯èª¤èªªæ˜èˆ‡å»ºè­° |
| **é©—è­‰ç‹€æ…‹** | é©—è­‰çµæœ | Object | P003, P004 | Emailé©—è­‰ã€å¯†ç¢¼é‡è¨­çµæœ |
| **æ¸…ç†ç‹€æ…‹** | æ¸…ç†çµæœ | Object | P005 | æœ¬åœ°è³‡æ–™æ¸…ç†å®Œæˆç‹€æ…‹ |

### 9.2 å››æ¨¡å¼å°ˆå±¬è¼¸å‡º

#### ç²¾æº–æ§åˆ¶è€…æ¨¡å¼
- **è©³ç´°ç‹€æ…‹å ±å‘Š**ï¼šå®Œæ•´çš„æ“ä½œæ—¥èªŒèˆ‡å®‰å…¨å ±å‘Š
- **é€²éšè¨­å®šçµæœ**ï¼šå¤šé‡é©—è­‰ã€å®‰å…¨è¨­å®šçš„é…ç½®çµæœ

#### ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼
- **è¦–è¦ºåŒ–å›é¥‹**ï¼šç¾è§€çš„æˆåŠŸ/éŒ¯èª¤å‹•ç•«èˆ‡æç¤º
- **å€‹äººåŒ–å»ºè­°**ï¼šåŸºæ–¼ç¾å­¸åå¥½çš„å€‹äººåŒ–å»ºè­°

#### è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼
- **æ¿€å‹µå›é¥‹**ï¼šç©æ¥µçš„æˆå°±èˆ‡é€²åº¦å›é¥‹
- **ç›®æ¨™è¿½è¹¤**ï¼šèˆ‡è²¡å‹™ç›®æ¨™ç›¸é—œçš„é€²åº¦è³‡è¨Š

#### æ½›åœ¨è¦ºé†’è€…æ¨¡å¼
- **ç°¡åŒ–å›é¥‹**ï¼šæ¸…æ¥šç°¡å–®çš„æˆåŠŸ/å¤±æ•—æç¤º
- **å‹å–„æŒ‡å¼•**ï¼šä¸‹ä¸€æ­¥æ“ä½œçš„æº«å’ŒæŒ‡å¼•

---

## 10. é©—è­‰è¦å‰‡

### 10.1 ç¾¤çµ„çµ±ä¸€é©—è­‰æ¨™æº–

#### 10.1.1 Emailæ ¼å¼é©—è­‰
```javascript
// RFC 5322æ¨™æº–Emailé©—è­‰
const emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;
// é•·åº¦é™åˆ¶ï¼š5-254å­—å…ƒ
// ä¸å…è¨±ç©ºç™½å­—å…ƒ
// å³æ™‚é‡è¤‡æª¢æŸ¥ï¼ˆè¨»å†Šæ™‚ï¼‰
```

#### 10.1.2 å¯†ç¢¼å¼·åº¦é©—è­‰
```javascript
// å¯†ç¢¼å®‰å…¨æ¨™æº–
const passwordRules = {
  minLength: 8,
  maxLength: 128,
  requireLetter: true,     // è‡³å°‘ä¸€å€‹è‹±æ–‡å­—æ¯
  requireNumber: true,     // è‡³å°‘ä¸€å€‹æ•¸å­—
  prohibitPersonalInfo: true, // ä¸åŒ…å«å€‹äººè³‡è¨Š
  checkCommonPasswords: true  // æ’é™¤å¸¸è¦‹å¼±å¯†ç¢¼
};
```

#### 10.1.3 ä½¿ç”¨è€…å§“åé©—è­‰
```javascript
// å§“åæ ¼å¼æ¨™æº–
const nameRules = {
  minLength: 2,
  maxLength: 20,
  allowedChars: /^[\u4e00-\u9fa5a-zA-Z0-9\s]+$/, // ä¸­è‹±æ•¸ç©ºæ ¼
  noConsecutiveSpaces: true,
  trimWhitespace: true
};
```

### 10.2 å››æ¨¡å¼é©—è­‰å·®ç•°

#### ç²¾æº–æ§åˆ¶è€…æ¨¡å¼
- **åš´æ ¼é©—è­‰**ï¼šæœ€é«˜æ¨™æº–çš„å®‰å…¨é©—è­‰è¦å‰‡
- **å¤šé‡æª¢æŸ¥**ï¼šé¡å¤–çš„å®‰å…¨æ€§æª¢æŸ¥
- **è©³ç´°å›é¥‹**ï¼šå®Œæ•´çš„é©—è­‰éŒ¯èª¤èªªæ˜

#### ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼  
- **æ¨™æº–é©—è­‰**ï¼šå¹³è¡¡å®‰å…¨æ€§èˆ‡æ˜“ç”¨æ€§
- **å„ªé›…æç¤º**ï¼šç¾è§€çš„é©—è­‰éŒ¯èª¤æç¤º
- **å³æ™‚å›é¥‹**ï¼šæµæš¢çš„å³æ™‚é©—è­‰é«”é©—

#### è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼
- **å¼•å°å¼é©—è­‰**ï¼šç©æ¥µçš„é©—è­‰æŒ‡å¼•
- **é¼“å‹µæ€§å›é¥‹**ï¼šæ­£é¢çš„é©—è­‰æˆåŠŸå›é¥‹
- **ç›®æ¨™å°å‘**ï¼šèˆ‡ç›®æ¨™é”æˆç›¸é—œçš„é©—è­‰æç¤º

#### æ½›åœ¨è¦ºé†’è€…æ¨¡å¼
- **ç°¡åŒ–é©—è­‰**ï¼šåŸºæœ¬ä½†è¶³å¤ çš„å®‰å…¨é©—è­‰
- **å‹å–„æç¤º**ï¼šç°¡å–®æ˜“æ‡‚çš„éŒ¯èª¤æç¤º
- **è‡ªå‹•ä¿®æ­£**ï¼šç›¡å¯èƒ½çš„è‡ªå‹•è¼¸å…¥ä¿®æ­£

---

## 11. éŒ¯èª¤è™•ç†

### 11.1 ç¾¤çµ„çµ±ä¸€éŒ¯èª¤è™•ç†ç­–ç•¥

#### 11.1.1 éŒ¯èª¤åˆ†é¡èˆ‡è™•ç†

| éŒ¯èª¤é¡å‹ | åš´é‡ç¨‹åº¦ | è™•ç†ç­–ç•¥ | ä½¿ç”¨è€…é«”é©— | æŠ€è¡“è™•ç† |
|----------|----------|----------|------------|----------|
| **ç¶²è·¯é€£ç·šéŒ¯èª¤** | é«˜ | è‡ªå‹•é‡è©¦ + é›¢ç·šæ¨¡å¼ | é¡¯ç¤ºé‡è©¦é¸é … | 3æ¬¡é‡è©¦ï¼ŒæŒ‡æ•¸é€€é¿ |
| **è¼¸å…¥æ ¼å¼éŒ¯èª¤** | ä½ | å³æ™‚æç¤º + è‡ªå‹•ä¿®æ­£ | å³æ™‚æ¨™ç´…æç¤º | å‰ç«¯å³æ™‚é©—è­‰ |
| **èªè­‰å¤±æ•—** | ä¸­ | è©³ç´°èªªæ˜ + æ›¿ä»£æ–¹æ¡ˆ | æ¸…æ¥šçš„éŒ¯èª¤èªªæ˜ | è¨˜éŒ„å¤±æ•—åŸå›  |
| **ç³»çµ±éŒ¯èª¤** | é«˜ | é™ç´šæœå‹™ + éŒ¯èª¤è¨˜éŒ„ | å‹å–„çš„ç³»çµ±è¨Šæ¯ | å®Œæ•´éŒ¯èª¤æ—¥èªŒ |
| **å®‰å…¨é•è¦** | æ¥µé«˜ | ç«‹å³é˜»æ­¢ + å®‰å…¨æ—¥èªŒ | ç°¡åŒ–å®‰å…¨æç¤º | è§¸ç™¼å®‰å…¨è­¦å ± |

#### 11.1.2 å¸¸è¦‹éŒ¯èª¤è™•ç†å°ç…§è¡¨

| éŒ¯èª¤æƒ…å¢ƒ | æ¨™æº–éŒ¯èª¤è¨Šæ¯ | ç²¾æº–æ§åˆ¶è€…è¨Šæ¯ | ç´€éŒ„ç¿’æ…£è€…è¨Šæ¯ | è½‰å‹æŒ‘æˆ°è€…è¨Šæ¯ | æ½›åœ¨è¦ºé†’è€…è¨Šæ¯ |
|----------|-------------|-------------|-------------|-------------|-------------|
| **Emailæ ¼å¼éŒ¯èª¤** | "è«‹è¼¸å…¥æ­£ç¢ºçš„Emailæ ¼å¼" | "Emailæ ¼å¼ä¸ç¬¦åˆRFCæ¨™æº–ï¼Œè«‹æª¢æŸ¥@ç¬¦è™Ÿèˆ‡ç¶²åŸŸ" | "âœ¨ è«‹æª¢æŸ¥Emailæ ¼å¼æ˜¯å¦æ­£ç¢º" | "ğŸ’ª åŠ æ²¹ï¼è«‹ç¢ºèªEmailæ ¼å¼æ­£ç¢º" | "ğŸŒ± è«‹è¼¸å…¥æ­£ç¢ºçš„Email" |
| **å¯†ç¢¼å¼·åº¦ä¸è¶³** | "å¯†ç¢¼è‡³å°‘éœ€8ä½ï¼ŒåŒ…å«è‹±æ–‡å’Œæ•¸å­—" | "å¯†ç¢¼å¼·åº¦ä¸è¶³ï¼šéœ€8-128å­—å…ƒï¼ŒåŒ…å«å­—æ¯å’Œæ•¸å­—ï¼Œé¿å…å€‹äººè³‡è¨Š" | "âœ¨ è®“å¯†ç¢¼æ›´å®‰å…¨ä¸€äº›å§" | "ğŸ”¥ è¨­å®šä¸€å€‹å¼·å¯†ç¢¼ï¼Œä¿è­·ä½ çš„è²¡å‹™ç›®æ¨™ï¼" | "ğŸŒ± å¯†ç¢¼éœ€è¦8ä½ä»¥ä¸Š" |
| **ç¶²è·¯é€£ç·šå¤±æ•—** | "ç¶²è·¯é€£ç·šä¸ç©©å®šï¼Œè«‹æª¢æŸ¥ç¶²è·¯è¨­å®š" | "ç¶²è·¯é€£ç·šç•°å¸¸ï¼ˆéŒ¯èª¤ä»£ç¢¼ï¼šNET_001ï¼‰ï¼Œå·²è‡ªå‹•é‡è©¦3æ¬¡" | "âœ¨ ç¶²è·¯ä¼¼ä¹æœ‰é»ä¸ç©©ï¼Œè«‹ç¨å€™å†è©¦" | "âš¡ ç¶²è·¯é€£ç·šä¸­æ–·ï¼Œå …æŒå†è©¦ä¸€æ¬¡ï¼" | "ğŸŒ± è«‹æª¢æŸ¥ç¶²è·¯é€£ç·š" |
| **å¸³è™Ÿå·²å­˜åœ¨** | "æ­¤Emailå·²è¢«è¨»å†Šï¼Œè«‹ä½¿ç”¨å…¶ä»–Emailæˆ–ç›´æ¥ç™»å…¥" | "è©²Emailå·²å­˜åœ¨æ–¼ç³»çµ±ä¸­ï¼Œå¯é¸æ“‡ç™»å…¥æˆ–ä½¿ç”¨å…¶ä»–Emailè¨»å†Š" | "âœ¨ é€™å€‹Emailå·²ç¶“è¨»å†Šéäº†å‘¢" | "ğŸ’¡ çœ‹èµ·ä¾†ä½ å·²ç¶“æœ‰å¸³è™Ÿäº†ï¼Œç›´æ¥ç™»å…¥ç¹¼çºŒæŒ‘æˆ°ï¼" | "ğŸŒ± é€™å€‹Emailå·²ç¶“è¨»å†Šäº†" |

### 11.2 å››æ¨¡å¼éŒ¯èª¤è™•ç†å·®ç•°

#### ç²¾æº–æ§åˆ¶è€…æ¨¡å¼
- **æŠ€è¡“æ€§è©³ç´°èªªæ˜**ï¼šæä¾›éŒ¯èª¤ä»£ç¢¼èˆ‡æŠ€è¡“ç´°ç¯€
- **å¤šé‡è§£æ±ºæ–¹æ¡ˆ**ï¼šæä¾›å¤šç¨®è§£æ±ºè·¯å¾‘
- **é€²éšé™¤éŒ¯è³‡è¨Š**ï¼šé¡¯ç¤ºç³»çµ±ç‹€æ…‹èˆ‡è¨ºæ–·è³‡è¨Š

#### ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼
- **ç¾è§€éŒ¯èª¤æç¤º**ï¼šå„ªé›…çš„è¦–è¦ºéŒ¯èª¤æç¤ºè¨­è¨ˆ
- **æº«å’Œå‹å–„èªèª¿**ï¼šä½¿ç”¨è¦ªåˆ‡å‹å–„çš„éŒ¯èª¤è¨Šæ¯
- **è¦–è¦ºåŒ–æŒ‡å¼•**ï¼šç¾è§€çš„æ“ä½œæŒ‡å¼•å‹•ç•«

#### è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼
- **æ¿€å‹µæ€§éŒ¯èª¤è™•ç†**ï¼šå°‡éŒ¯èª¤è½‰åŒ–ç‚ºæŒ‘æˆ°æ©Ÿæœƒ
- **ç©æ¥µè§£æ±ºå°å‘**ï¼šå¼·èª¿å…‹æœå›°é›£çš„ç©æ¥µæ€§
- **ç›®æ¨™é—œè¯æé†’**ï¼šé€£çµéŒ¯èª¤è™•ç†èˆ‡ç›®æ¨™é”æˆ

#### æ½›åœ¨è¦ºé†’è€…æ¨¡å¼
- **æ¥µç°¡éŒ¯èª¤è¨Šæ¯**ï¼šä½¿ç”¨æœ€ç°¡å–®æ˜“æ‡‚çš„èªè¨€
- **å¤§å­—é«”æç¤º**ï¼šæ¸…æ¥šå¯è¦‹çš„éŒ¯èª¤æç¤º
- **ä¸€éµè§£æ±º**ï¼šç›¡å¯èƒ½æä¾›ä¸€éµè§£æ±ºæ–¹æ¡ˆ

---

## 12. UIå…ƒä»¶èˆ‡æ’ç‰ˆéœ€æ±‚

### 12.1 ç¾¤çµ„è¨­è¨ˆç³»çµ±

#### 12.1.1 çµ±ä¸€è‰²å½©è¦ç¯„
```css
/* èªè­‰ç¾¤çµ„å°ˆç”¨è‰²å½©ç³»çµ± */
:root {
  /* ä¸»è¦èªè­‰è‰²å½© */
  --auth-primary: #1976D2;
  --auth-primary-variant: #1565C0;
  --auth-secondary: #03DAC6;
  --auth-accent: #FF6B35;

  /* èªè­‰ç‹€æ…‹è‰²å½© */
  --auth-success: #4CAF50;
  --auth-warning: #FF9800;
  --auth-error: #F44336;
  --auth-info: #2196F3;

  /* èªè­‰èƒŒæ™¯è‰²å½© */
  --auth-background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --auth-card-bg: rgba(255, 255, 255, 0.95);
  --auth-overlay: rgba(0, 0, 0, 0.1);
}
```

#### 12.1.2 çµ±ä¸€å­—å‹ç³»çµ±
```css
/* èªè­‰ç¾¤çµ„å­—å‹è¦ç¯„ */
.auth-title {
  font-size: 24px;
  font-weight: 600;
  line-height: 1.2;
  margin-bottom: 8px;
}

.auth-subtitle {
  font-size: 16px;
  font-weight: 400;
  line-height: 1.4;
  margin-bottom: 32px;
}

.auth-body-text {
  font-size: 14px;
  font-weight: 400;
  line-height: 1.5;
}

.auth-button-text {
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0.5px;
}
```

#### 12.1.3 çµ±ä¸€ä½ˆå±€ç³»çµ±
```css
/* èªè­‰ç¾¤çµ„ä½ˆå±€è¦ç¯„ */
.auth-container {
  min-height: 100vh;
  background: var(--auth-background);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 16px;
}

.auth-card {
  background: var(--auth-card-bg);
  border-radius: 16px;
  padding: 32px;
  width: 100%;
  max-width: 400px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.auth-form-group {
  margin-bottom: 20px;
}

.auth-input {
  width: 100%;
  height: 56px;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  padding: 0 16px;
  font-size: 16px;
  transition: all 0.2s ease;
}

.auth-button {
  width: 100%;
  height: 48px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}
```

### 12.2 å››æ¨¡å¼UIå·®ç•°è¨­è¨ˆ

#### 12.2.1 ç²¾æº–æ§åˆ¶è€…æ¨¡å¼
```css
.controller-auth {
  --mode-primary: #1976D2;
  --mode-accent: #37474F;
}

.controller-auth .auth-card {
  border-left: 4px solid var(--mode-primary);
}

.controller-auth .auth-title::before {
  content: "ğŸ¯ ";
}

.controller-auth .advanced-options {
  display: block; /* é¡¯ç¤ºé€²éšé¸é … */
}
```

#### 12.2.2 ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼
```css
.logger-auth {
  --mode-primary: #6A1B9A;
  --mode-accent: #E1BEE7;
}

.logger-auth .auth-card {
  border-left: 4px solid var(--mode-primary);
  background: linear-gradient(135deg, 
    rgba(255,255,255,0.95), 
    rgba(243,229,245,0.95));
}

.logger-auth .auth-title::before {
  content: "âœ¨ ";
}

.logger-auth .auth-button {
  background: linear-gradient(135deg, 
    var(--mode-primary), 
    var(--mode-accent));
}
```

#### 12.2.3 è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼
```css
.struggler-auth {
  --mode-primary: #FF6B35;
  --mode-accent: #FFE0B2;
}

.struggler-auth .auth-card {
  border-left: 4px solid var(--mode-primary);
}

.struggler-auth .auth-title::before {
  content: "ğŸ’ª ";
}

.struggler-auth .motivation-message {
  background: #FFF3E0;
  border: 1px solid #FFCC02;
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 16px;
  font-size: 14px;
  color: #E65100;
  text-align: center;
}
```

#### 12.2.4 æ½›åœ¨è¦ºé†’è€…æ¨¡å¼
```css
.sleeper-auth {
  --mode-primary: #4CAF50;
  --mode-accent: #C8E6C9;
}

.sleeper-auth .auth-card {
  border-left: 4px solid var(--mode-primary);
}

.sleeper-auth .auth-title::before {
  content: "ğŸŒ± ";
}

.sleeper-auth .auth-button {
  height: 64px; /* è¶…å¤§æŒ‰éˆ• */
  font-size: 18px;
}

.sleeper-auth .complex-options {
  display: none; /* éš±è—è¤‡é›œé¸é … */
}
```

### 12.3 éŸ¿æ‡‰å¼è¨­è¨ˆè¦ç¯„

#### 2.3.1 æ¨™æº–é–“è·è¦æ ¼ï¼ˆéµå¾ª9005æ–‡ä»¶2.3ç¯€æ¨™æº–ï¼‰
```css
/* é–“è·å–®ä½ç³»çµ± - èˆ‡9005æ–‡ä»¶å®Œå…¨ä¸€è‡´ */
--spacing-xs: 4px;      /* æ¥µå°é–“è· */
--spacing-sm: 8px;      /* å°é–“è· */
--spacing-md: 16px;     /* ä¸­ç­‰é–“è· */
--spacing-lg: 24px;     /* å¤§é–“è· */
--spacing-xl: 32px;     /* è¶…å¤§é–“è· */
--spacing-xxl: 48px;    /* æ¥µå¤§é–“è· */
```

#### 6.2 ä½ˆå±€é©æ‡‰åŸå‰‡ï¼ˆéµå¾ª9005æ–‡ä»¶6.0ç« ç¯€éŸ¿æ‡‰å¼è¨­è¨ˆè¦ç¯„ï¼‰

#### 6.2.1 å¤šè£ç½®æ”¯æ´éœ€æ±‚
- **æ‰‹æ©Ÿï¼ˆ<480pxï¼‰**ï¼šå–®æ¬„ä½ˆå±€ï¼Œå¤§æŒ‰éˆ•è¨­è¨ˆï¼Œå„ªå…ˆé¡¯ç¤ºæ ¸å¿ƒèªè­‰åŠŸèƒ½
- **å¹³æ¿ï¼ˆ480-768pxï¼‰**ï¼šå½ˆæ€§ä½ˆå±€ï¼Œé©åº¦è³‡è¨Šå¯†åº¦ï¼Œæ”¯æ´æ©«å‘æ“ä½œ
- **æ¡Œé¢ï¼ˆ>768pxï¼‰**ï¼šå¤šæ¬„ä½ˆå±€ï¼Œå……åˆ†åˆ©ç”¨ç©ºé–“ï¼Œå®Œæ•´åŠŸèƒ½å±•ç¤º

#### 6.2.2 æ“ä½œä¾¿åˆ©æ€§
- **è§¸æ§å‹å–„**ï¼šæœ€å°44ptçš„è§¸æ§ç›®æ¨™ï¼ˆéµå¾ª9005æ–‡ä»¶æ¨™æº–ï¼‰
- **æ‰‹å‹¢æ”¯æ´**ï¼šæ»‘å‹•ã€æ‹–æ‹‰ç­‰è‡ªç„¶æ‰‹å‹¢
- **å–®æ‰‹æ“ä½œ**ï¼šé‡è¦åŠŸèƒ½ä½æ–¼æ‹‡æŒ‡èˆ’é©å€

#### 6.2.3 èªè­‰æµç¨‹éŸ¿æ‡‰å¼ç‰¹æ®Šè¦æ±‚
```css
/* èªè­‰ç¾¤çµ„éŸ¿æ‡‰å¼æ–·é» - èˆ‡9005æ–‡ä»¶6.0ç« ç¯€ä¸€è‡´ */
@media (max-width: 480px) {
  .auth-card {
    padding: 24px 16px;
    margin: 16px;
    width: calc(100% - 32px);
  }

  .auth-button {
    height: 52px;
    font-size: 16px;
    min-height: 44px; /* è§¸æ§å‹å–„ */
  }
}

@media (min-width: 481px) and (max-width: 768px) {
  .auth-card {
    padding: 32px 24px;
    max-width: 450px;
    margin: 24px auto;
  }
}

@media (min-width: 769px) {
  .auth-container {
    padding: 48px 32px;
  }

  .auth-card {
    max-width: 400px;
  }
}
```

---

## 13. APIè¦æ ¼

### 13.1 èªè­‰ç¾¤çµ„APIæ•´åˆè¦æ ¼

#### 13.1.1 APIåŸºç¤é…ç½®
```javascript
// èªè­‰APIé…ç½®
const AUTH_API_CONFIG = {
  baseURL: process.env.REACT_APP_API_URL || 'https://api.lcas.app',
  timeout: 30000,
  retryAttempts: 3,
  headers: {
    'Content-Type': 'application/json',
    'X-App-Version': process.env.REACT_APP_VERSION,
    'X-Platform': 'flutter-web'
  }
};
```

#### 13.1.2 F001 - ä½¿ç”¨è€…è¨»å†ŠAPI

**ç«¯é»è©³ç´°è¦æ ¼**
```javascript
// POST /auth/register
const registerUser = {
  endpoint: '/auth/register',
  method: 'POST',
  timeout: 15000,

  // è«‹æ±‚æ ¼å¼
  requestSchema: {
    email: 'string(5-254)', // RFC 5322æ ¼å¼
    password: 'string(8-128)', // ç¬¦åˆå¯†ç¢¼å¼·åº¦è¦æ±‚
    displayName: 'string(2-20)', // ä½¿ç”¨è€…é¡¯ç¤ºåç¨±
    selectedMode: 'enum[controller|logger|struggler|sleeper]',
    registrationType: 'enum[email|line|google|apple]',

    // LINE OAuthå°ˆç”¨æ¬„ä½
    lineAuthCode: 'string?', // LINEæˆæ¬Šç¢¼
    lineClientId: 'string?', // LINE Client ID

    // åŒæ„æ¢æ¬¾
    termsAccepted: 'boolean', // å¿…é ˆç‚ºtrue
    privacyAccepted: 'boolean', // å¿…é ˆç‚ºtrue
    marketingConsent: 'boolean?', // å¯é¸

    // è£ç½®è³‡è¨Š
    deviceInfo: {
      platform: 'enum[android|ios|web]',
      deviceId: 'string',
      appVersion: 'string',
      osVersion: 'string?'
    }
  },

  // å›æ‡‰æ ¼å¼
  responseSchema: {
    success: 'boolean',
    data: {
      userId: 'string',
      accessToken: 'string?', // OAuthè¨»å†Šæ™‚ç«‹å³æä¾›
      verificationRequired: 'boolean', // Emailè¨»å†Šéœ€è¦é©—è­‰
      verificationEmailSent: 'boolean',
      nextAction: 'enum[email_verification|login|complete]'
    },
    message: 'string'
  }
};
```

#### 13.1.3 F002 - ä½¿ç”¨è€…ç™»å…¥API

**ç«¯é»è©³ç´°è¦æ ¼**
```javascript
// POST /auth/login
const loginUser = {
  endpoint: '/auth/login',
  method: 'POST',
  timeout: 10000,

  // è«‹æ±‚æ ¼å¼
  requestSchema: {
    loginType: 'enum[email|line|google|apple]',

    // Emailç™»å…¥
    email: 'string?',
    password: 'string?',
    rememberMe: 'boolean?',

    // OAuthç™»å…¥
    oauthProvider: 'enum[line|google|apple]?',
    authorizationCode: 'string?',
    accessToken: 'string?',
    idToken: 'string?',

    // è£ç½®è³‡è¨Š
    deviceInfo: {
      platform: 'enum[android|ios|web]',
      deviceId: 'string',
      appVersion: 'string'
    }
  },

  // å›æ‡‰æ ¼å¼
  responseSchema: {
    success: 'boolean',
    data: {
      accessToken: 'string',
      refreshToken: 'string',
      tokenExpiration: 'ISO_8601_datetime',
      user: {
        userId: 'string',
        email: 'string',
        displayName: 'string',
        profilePicture: 'string?',
        selectedMode: 'string',
        preferences: 'object'
      }
    },
    message: 'string'
  }
};
```

#### 13.1.4 F003 - ä½¿ç”¨è€…ç™»å‡ºAPI

**ç«¯é»è©³ç´°è¦æ ¼**
```javascript
// POST /auth/logout
const logoutUser = {
  endpoint: '/auth/logout',
  method: 'POST',
  timeout: 5000,
  headers: {
    'Authorization': 'Bearer {accessToken}'
  },

  // è«‹æ±‚æ ¼å¼
  requestSchema: {
    logoutType: 'enum[quick|complete]',
    revokeAllTokens: 'boolean',
    deviceInfo: {
      platform: 'enum[android|ios|web]',
      deviceId: 'string'
    }
  },

  // å›æ‡‰æ ¼å¼
  responseSchema: {
    success: 'boolean',
    data: {
      loggedOut: 'boolean',
      tokensRevoked: 'boolean',
      message: 'string'
    }
  }
};
```

#### 13.1.5 F004 - å¸³è™Ÿåˆªé™¤API

**ç«¯é»è©³ç´°è¦æ ¼**
```javascript
// DELETE /auth/account
const deleteAccount = {
  endpoint: '/auth/account',
  method: 'DELETE',
  timeout: 30000,
  headers: {
    'Authorization': 'Bearer {accessToken}'
  },

  // è«‹æ±‚æ ¼å¼
  requestSchema: {
    confirmationCode: 'string', // Emailé©—è­‰ç¢¼
    reason: 'string?', // åˆªé™¤åŸå› ï¼ˆå¯é¸ï¼‰
    exportData: 'boolean', // æ˜¯å¦åŒ¯å‡ºè³‡æ–™
    deviceInfo: {
      platform: 'enum[android|ios|web]',
      deviceId: 'string'
    }
  },

  // å›æ‡‰æ ¼å¼
  responseSchema: {
    success: 'boolean',
    data: {
      accountDeleted: 'boolean',
      dataExportUrl: 'string?', // è³‡æ–™åŒ¯å‡ºé€£çµ
      deletionScheduled: 'ISO_8601_datetime', // å¯¦éš›åˆªé™¤æ™‚é–“
      message: 'string'
    }
  }
};
```

#### 13.1.6 F005 - å¯†ç¢¼é‡è¨­API

**ç«¯é»è©³ç´°è¦æ ¼**
```javascript
// POST /auth/reset-password
const resetPassword = {
  endpoint: '/auth/reset-password',
  method: 'POST',
  timeout: 15000,

  // è«‹æ±‚æ ¼å¼
  requestSchema: {
    step: 'enum[send-code|verify-code|reset-password]',

    // æ­¥é©Ÿ1ï¼šç™¼é€é©—è­‰ç¢¼
    email: 'string?',

    // æ­¥é©Ÿ2ï¼šé©—è­‰ç¢¼ç¢ºèª
    verificationCode: 'string?', // 6ä½æ•¸å­—
    resetToken: 'string?',

    // æ­¥é©Ÿ3ï¼šé‡è¨­å¯†ç¢¼
    newPassword: 'string?', // 8-128å­—å…ƒ
    confirmPassword: 'string?',

    deviceInfo: {
      platform: 'enum[android|ios|web]',
      deviceId: 'string'
    }
  },

  // å›æ‡‰æ ¼å¼
  responseSchema: {
    success: 'boolean',
    data: {
      step: 'string',
      resetToken: 'string?',
      expiresIn: 'number', // ç§’æ•¸
      canResendIn: 'number?', // é‡ç™¼å€’æ•¸ç§’æ•¸
      attemptsRemaining: 'number?',
      message: 'string'
    }
  }
};
```

### 13.2 APIéŒ¯èª¤è™•ç†æ¨™æº–

#### 13.2.1 HTTPç‹€æ…‹ç¢¼å°æ‡‰
```javascript
const AUTH_ERROR_CODES = {
  400: 'BAD_REQUEST', // è«‹æ±‚æ ¼å¼éŒ¯èª¤
  401: 'UNAUTHORIZED', // èªè­‰å¤±æ•—
  403: 'FORBIDDEN', // æ¬Šé™ä¸è¶³
  404: 'NOT_FOUND', // ä½¿ç”¨è€…ä¸å­˜åœ¨
  409: 'CONFLICT', // å¸³è™Ÿå·²å­˜åœ¨
  422: 'VALIDATION_ERROR', // è¼¸å…¥é©—è­‰å¤±æ•—
  429: 'RATE_LIMITED', // è«‹æ±‚éæ–¼é »ç¹
  500: 'INTERNAL_ERROR', // ä¼ºæœå™¨å…§éƒ¨éŒ¯èª¤
  503: 'SERVICE_UNAVAILABLE' // æœå‹™æš«æ™‚ä¸å¯ç”¨
};
```

#### 13.2.2 éŒ¯èª¤å›æ‡‰æ ¼å¼
```javascript
const errorResponse = {
  success: false,
  error: {
    code: 'ERROR_CODE',
    message: 'Human readable error message',
    details: {
      field: 'Specific field error',
      suggestion: 'What user should do next'
    }
  },
  timestamp: 'ISO_8601_datetime'
};
```

---

## 14. ç‹€æ…‹èˆ‡ç•«é¢åˆ‡æ›

### 14.1 èªè­‰ç¾¤çµ„ç‹€æ…‹ç®¡ç†

#### 14.1.1 ç¾¤çµ„ç´šç‹€æ…‹å®šç¾©
```dart
// èªè­‰ç¾¤çµ„çµ±ä¸€ç‹€æ…‹ç®¡ç†
enum AuthGroupState {
  // åˆå§‹ç‹€æ…‹
  initial,
  loading,

  // èªè­‰æµç¨‹ç‹€æ…‹
  modeSelection,
  authenticating,
  registering,
  verifyingEmail,
  resettingPassword,
  loggingOut,

  // çµæœç‹€æ…‹
  authenticated,
  registrationComplete,
  passwordResetComplete,
  loggedOut,

  // éŒ¯èª¤ç‹€æ…‹
  authenticationFailed,
  registrationFailed,
  networkError,
  serverError
}

// èªè­‰ç¾¤çµ„è³‡æ–™æ¨¡å‹
class AuthGroupModel {
  String? currentUserId;
  String? accessToken;
  String? refreshToken;
  DateTime? tokenExpiration;
  UserMode? selectedMode;
  UserProfile? userProfile;
  AuthGroupState currentState;
  String? errorMessage;

  // æµç¨‹æ§åˆ¶
  bool isFirstLaunch;
  bool rememberMe;
  bool needsEmailVerification;

  AuthGroupModel({
    this.currentUserId,
    this.accessToken,
    this.refreshToken,
    this.tokenExpiration,
    this.selectedMode,
    this.userProfile,
    this.currentState = AuthGroupState.initial,
    this.errorMessage,
    this.isFirstLaunch = false,
    this.rememberMe = false,
    this.needsEmailVerification = false,
  });

  // å‡è¨­çš„æ–¹æ³•ï¼Œç”¨æ–¼æª¢æŸ¥ä»¤ç‰Œæ˜¯å¦éæœŸ
  bool isTokenExpired() {
    if (tokenExpiration == null) return true;
    return DateTime.now().isAfter(tokenExpiration!);
  }
}
```

#### 14.1.2 é é¢é–“ç‹€æ…‹æµè½‰
```dart
// èªè­‰ç¾¤çµ„é é¢å°èˆªç‹€æ…‹æ©Ÿ
class AuthNavigationStateMachine {

  /**
   * 01. æ­¡è¿é é¢å°èˆªé‚è¼¯
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è™•ç†æ­¡è¿é é¢çš„å°èˆªé‚è¼¯
   */
  static String getWelcomePageNextRoute(AuthGroupModel model) {
    if (model.accessToken != null && !model.isTokenExpired()) {
      return '/dashboard'; // P006 é¦–é å„€è¡¨æ¿
    }

    if (model.isFirstLaunch) {
      return '/register'; // P003 è¨»å†Šé é¢
    }

    return '/login'; // P002 ç™»å…¥é é¢
  }

  /**
   * 02. è¨»å†Šå®Œæˆå°èˆªé‚è¼¯
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è™•ç†è¨»å†Šå®Œæˆå¾Œçš„å°èˆªé‚è¼¯
   */
  static String getRegistrationCompleteRoute(AuthGroupModel model) {
    if (model.needsEmailVerification) {
      return '/email-verification-waiting'; // ç­‰å¾…Emailé©—è­‰
    }

    return '/login'; // P002 ç™»å…¥é é¢
  }

  /**
   * 03. ç™»å…¥æˆåŠŸå°èˆªé‚è¼¯
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è™•ç†ç™»å…¥æˆåŠŸå¾Œçš„å°èˆªé‚è¼¯
   */
  static String getLoginSuccessRoute(AuthGroupModel model) {
    // æª¢æŸ¥æ˜¯å¦éœ€è¦å®Œæˆå€‹äººè³‡æ–™è¨­å®š
    if (model.userProfile?.isIncomplete == true) {
      return '/profile-setup'; // å€‹äººè³‡æ–™è¨­å®š
    }

    return '/dashboard'; // P006 é¦–é å„€è¡¨æ¿
  }

  /**
   * 04. å¯†ç¢¼é‡è¨­å®Œæˆå°èˆªé‚è¼¯
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è™•ç†å¯†ç¢¼é‡è¨­å®Œæˆå¾Œçš„å°èˆªé‚è¼¯
   */
  static String getPasswordResetCompleteRoute(AuthGroupModel model) {
    return '/login?message=password_reset_success'; // P002 ç™»å…¥é é¢ï¼ˆé¡¯ç¤ºæˆåŠŸè¨Šæ¯ï¼‰
  }

  /**
   * 05. ç™»å‡ºå®Œæˆå°èˆªé‚è¼¯
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è™•ç†ç™»å‡ºå®Œæˆå¾Œçš„å°èˆªé‚è¼¯
   */
  static String getLogoutCompleteRoute(String logoutType) {
    if (logoutType == 'quick') {
      return '/login?quick_return=true'; // P002 ç™»å…¥é é¢ï¼ˆå¿«é€Ÿè¿”å›ï¼‰
    }

    return '/welcome'; // P001 æ­¡è¿é é¢ï¼ˆå®Œå…¨ç™»å‡ºï¼‰
  }
}
```

### 14.2 å››æ¨¡å¼ç‹€æ…‹å·®ç•°

#### 14.2.1 ç²¾æº–æ§åˆ¶è€…æ¨¡å¼ç‹€æ…‹æ“´å±•
```dart
class ControllerAuthState extends AuthGroupModel {
  // é€²éšå®‰å…¨è¨­å®š
  bool twoFactorEnabled;
  List<String> trustedDevices;
  DateTime? lastSecurityCheck;
  Map<String, dynamic> securitySettings;

  // è©³ç´°æ—¥èªŒ
  List<AuthenticationLog> authHistory;
  SecurityAlert? currentAlert;

  ControllerAuthState({
    this.twoFactorEnabled = false,
    this.trustedDevices = const [],
    this.lastSecurityCheck,
    this.securitySettings = const {},
    this.authHistory = const [],
    this.currentAlert,
    super.currentUserId,
    super.accessToken,
    super.refreshToken,
    super.tokenExpiration,
    super.selectedMode,
    super.userProfile,
    super.currentState,
    super.errorMessage,
  });
}
```

#### 14.2.2 ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼ç‹€æ…‹æ“´å±•
```dart
class LoggerAuthState extends AuthGroupModel {
  // è¦–è¦ºåå¥½è¨­å®š
  String? preferredTheme;
  bool animationsEnabled;
  double uiScale;

  // ç¾è§€é«”é©—è¨­å®š
  String? backgroundType;
  List<String> favoriteColors;
  bool elegantMode;

  LoggerAuthState({
    this.preferredTheme,
    this.animationsEnabled = true,
    this.uiScale = 1.0,
    this.backgroundType,
    this.favoriteColors = const [],
    this.elegantMode = true,
    super.currentUserId,
    super.accessToken,
    super.refreshToken,
    super.tokenExpiration,
    super.selectedMode,
    super.userProfile,
    super.currentState,
    super.errorMessage,
  });
}
```

#### 14.2.3 è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼ç‹€æ…‹æ“´å±•
```dart
class StruggleAuthState extends AuthGroupModel {
  // ç›®æ¨™èˆ‡æŒ‘æˆ°è¨­å®š
  List<FinancialGoal> financialGoals;
  int streakDays;
  int challengesCompleted;

  // æ¿€å‹µç³»çµ±ç‹€æ…‹
  List<Achievement> unlockedAchievements;
  String? currentChallenge;
  double motivationLevel;

  StruggleAuthState({
    this.financialGoals = const [],
    this.streakDays = 0,
    this.challengesCompleted = 0,
    this.unlockedAchievements = const [],
    this.currentChallenge,
    this.motivationLevel = 1.0,
    super.currentUserId,
    super.accessToken,
    super.refreshToken,
    super.tokenExpiration,
    super.selectedMode,
    super.userProfile,
    super.currentState,
    super.errorMessage,
  });
}
```

#### 14.2.4 æ½›åœ¨è¦ºé†’è€…æ¨¡å¼ç‹€æ…‹æ“´å±•
```dart
class SleeperAuthState extends AuthGroupModel {
  // ç°¡åŒ–è¨­å®š
  bool simpleMode;
  bool autoFillEnabled;
  bool oneClickLogin;

  // å”åŠ©åŠŸèƒ½
  bool guidanceEnabled;
  int helpShownCount;
  List<String> completedTutorials;

  SleeperAuthState({
    this.simpleMode = true,
    this.autoFillEnabled = true,
    this.oneClickLogin = true,
    this.guidanceEnabled = true,
    this.helpShownCount = 0,
    this.completedTutorials = const [],
    super.currentUserId,
    super.accessToken,
    super.refreshToken,
    super.tokenExpiration,
    super.selectedMode,
    super.userProfile,
    super.currentState,
    super.errorMessage,
  });
}
```

---

## 15. å®‰å…¨æ€§èˆ‡æ¬Šé™æª¢æŸ¥

### 15.1 èªè­‰ç¾¤çµ„å®‰å…¨æ¶æ§‹

#### 15.1.1 å¤šå±¤å®‰å…¨é˜²è­·é«”ç³»
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å‰ç«¯å®‰å…¨å±¤ (Flutter)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ è¼¸å…¥é©—è­‰èˆ‡æ¸…ç†                        â”‚
â”‚ â€¢ æœ¬åœ°è³‡æ–™åŠ å¯†                          â”‚
â”‚ â€¢ å®‰å…¨å­˜å„²ç®¡ç†                          â”‚
â”‚ â€¢ ç”Ÿç‰©è¾¨è­˜æ•´åˆ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ HTTPS/TLS 1.3
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ç¶²è·¯å‚³è¼¸å®‰å…¨å±¤                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ SSLæ†‘è­‰é©—è­‰                           â”‚
â”‚ â€¢ Certificate Pinning                   â”‚
â”‚ â€¢ è«‹æ±‚ç°½åé©—è­‰                          â”‚
â”‚ â€¢ åä¸­é–“äººæ”»æ“Š                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ API Gateway
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å¾Œç«¯å®‰å…¨å±¤ (Node.js)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ JWTä»¤ç‰Œé©—è­‰                           â”‚
â”‚ â€¢ OAuth 2.0/OIDC                       â”‚
â”‚ â€¢ é »ç‡é™åˆ¶                              â”‚
â”‚ â€¢ æ¬Šé™æ§åˆ¶                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ Firestore Security Rules
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           è³‡æ–™å®‰å…¨å±¤ (Firestore)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ è³‡æ–™å­˜å–æ§åˆ¶                          â”‚
â”‚ â€¢ æ¬„ä½ç´šæ¬Šé™                            â”‚
â”‚ â€¢ åŠ å¯†å­˜å„²                              â”‚
â”‚ â€¢ å¯©è¨ˆæ—¥èªŒ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 15.1.2 èªè­‰ä»¤ç‰Œå®‰å…¨ç­–ç•¥
```dart
// JWTä»¤ç‰Œå®‰å…¨ç®¡ç†
class TokenSecurityManager {
  static const int ACCESS_TOKEN_EXPIRY = 15 * 60; // 15åˆ†é˜
  static const int REFRESH_TOKEN_EXPIRY = 7 * 24 * 60 * 60; // 7å¤©
  static const int MAX_REFRESH_ATTEMPTS = 3;

  /**
   * 06. å®‰å…¨ä»¤ç‰Œå­˜å„²
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description ä½¿ç”¨Flutter Secure Storageå®‰å…¨å­˜å„²ä»¤ç‰Œ
   */
  static Future<void> storeTokensSecurely({
    required String accessToken,
    required String refreshToken,
    required String userId,
  }) async {
    const storage = FlutterSecureStorage(
      aOptions: AndroidOptions(
        encryptedSharedPreferences: true,
      ),
      iOptions: IOSOptions(
        accessibility: IOSAccessibility.first_unlock_this_device,
      ),
    );

    // åŠ å¯†å­˜å„²ä»¤ç‰Œ
    await storage.write(key: 'access_token', value: accessToken);
    await storage.write(key: 'refresh_token', value: refreshToken);
    await storage.write(key: 'user_id', value: userId);
    await storage.write(key: 'token_timestamp', value: DateTime.now().toIso8601String());
  }

  /**
   * 07. ä»¤ç‰Œè‡ªå‹•åˆ·æ–°
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description åœ¨ä»¤ç‰Œåˆ°æœŸå‰è‡ªå‹•åˆ·æ–°
   */
  static Future<bool> refreshTokenIfNeeded() async {
    try {
      const storage = FlutterSecureStorage();

      final accessToken = await storage.read(key: 'access_token');
      final refreshToken = await storage.read(key: 'refresh_token');
      final timestampStr = await storage.read(key: 'token_timestamp');

      if (accessToken == null || refreshToken == null || timestampStr == null) {
        return false;
      }

      final tokenTime = DateTime.parse(timestampStr);
      final now = DateTime.now();
      final timeDiff = now.difference(tokenTime).inSeconds;

      // å¦‚æœä»¤ç‰Œåœ¨5åˆ†é˜å…§åˆ°æœŸï¼Œé€²è¡Œåˆ·æ–°
      if (timeDiff > (ACCESS_TOKEN_EXPIRY - 5 * 60)) {
        return await _performTokenRefresh(refreshToken);
      }

      return true;
    } catch (e) {
      logError('Token refresh check failed: $e');
      return false;
    }
  }
  
  // æ¨¡æ“¬çš„ä»¤ç‰Œåˆ·æ–°æ–¹æ³•
  static Future<bool> _performTokenRefresh(String refreshToken) async {
    // å¯¦éš›èª¿ç”¨å¾Œç«¯APIé€²è¡Œåˆ·æ–°
    await Future.delayed(Duration(milliseconds: 500)); 
    return true; 
  }
}
```

#### 15.1.3 å¯†ç¢¼å®‰å…¨ç­–ç•¥
```dart
// å¯†ç¢¼å®‰å…¨ç®¡ç†
class PasswordSecurityManager {

  /**
   * 08. å¯†ç¢¼å¼·åº¦æª¢æŸ¥
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description å¤šé‡å¯†ç¢¼å¼·åº¦é©—è­‰
   */
  static PasswordStrengthResult checkPasswordStrength(String password) {
    int score = 0;
    List<String> feedback = [];

    // é•·åº¦æª¢æŸ¥
    if (password.length >= 8) score += 1;
    else feedback.add('å¯†ç¢¼è‡³å°‘éœ€è¦8å€‹å­—å…ƒ');

    if (password.length >= 12) score += 1;

    // å­—å…ƒé¡å‹æª¢æŸ¥
    if (RegExp(r'[a-z]').hasMatch(password)) score += 1;
    else feedback.add('éœ€è¦åŒ…å«å°å¯«å­—æ¯');

    if (RegExp(r'[A-Z]').hasMatch(password)) score += 1;
    else feedback.add('éœ€è¦åŒ…å«å¤§å¯«å­—æ¯');

    if (RegExp(r'[0-9]').hasMatch(password)) score += 1;
    else feedback.add('éœ€è¦åŒ…å«æ•¸å­—');

    if (RegExp(r'[!@#$%^&*(),.?":{}|<>]').hasMatch(password)) score += 1;
    else feedback.add('å»ºè­°åŒ…å«ç‰¹æ®Šç¬¦è™Ÿ');

    // å¸¸è¦‹å¯†ç¢¼æª¢æŸ¥
    if (_isCommonPassword(password)) {
      score = 0;
      feedback.add('é€™æ˜¯å¸¸è¦‹çš„å¼±å¯†ç¢¼ï¼Œè«‹é¸æ“‡æ›´å®‰å…¨çš„å¯†ç¢¼');
    }

    // è¨ˆç®—å¼·åº¦ç­‰ç´š
    PasswordStrength strength;
    if (score <= 2) strength = PasswordStrength.weak;
    else if (score <= 4) strength = PasswordStrength.medium;
    else strength = PasswordStrength.strong;

    return PasswordStrengthResult(
      strength: strength,
      score: score,
      feedback: feedback,
    );
  }
  
  // æ¨¡æ“¬çš„å¸¸è¦‹å¯†ç¢¼æª¢æŸ¥æ–¹æ³•
  static bool _isCommonPassword(String password) {
    // å¯¦éš›å¯¦ç¾æœƒæª¢æŸ¥ä¸€å€‹å¸¸è¦‹å¼±å¯†ç¢¼åˆ—è¡¨
    return password.toLowerCase() == '12345678' || password == 'password';
  }

  /**
   * 09. å¯†ç¢¼é›œæ¹Šè™•ç†
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description å®¢æˆ¶ç«¯å¯†ç¢¼é è™•ç†ï¼ˆä¸å­˜å„²åŸå§‹å¯†ç¢¼ï¼‰
   */
  static String preprocessPassword(String password, String salt) {
    // ä½¿ç”¨PBKDF2é€²è¡Œå®¢æˆ¶ç«¯é è™•ç†
    final bytes = utf8.encode(password + salt);
    final digest = sha256.convert(bytes);
    return digest.toString();
  }
}

// æ¨¡æ“¬çš„PasswordStrengthResulté¡
class PasswordStrengthResult {
  final PasswordStrength strength;
  final int score;
  final List<String> feedback;
  PasswordStrengthResult({required this.strength, required this.score, required this.feedback});
}

// æ¨¡æ“¬çš„PasswordStrengthæšèˆ‰
enum PasswordStrength { weak, medium, strong }

// æ¨¡æ“¬çš„logErrorå‡½æ•¸
void logError(String message) { print('ERROR: $message'); }
// æ¨¡æ“¬çš„logInfoå‡½æ•¸
void logInfo(String message) { print('INFO: $message'); }
// æ¨¡æ“¬çš„logSecurityEventå‡½æ•¸
void logSecurityEvent(String message) { print('SECURITY: $message'); }
// æ¨¡æ“¬çš„setStateå‡½æ•¸
void setState(Function callback) { callback(); }
// æ¨¡æ“¬çš„_isSequentialNumberå‡½æ•¸
bool _isSequentialNumber(String code) => false;
// æ¨¡æ“¬çš„_isRepeatingNumberå‡½æ•¸
bool _isRepeatingNumber(String code) => false;
// æ¨¡æ“¬çš„_launchOAuthBrowserå‡½æ•¸
Future<dynamic> _launchOAuthBrowser(String url) async => {'success': true, 'code': 'auth_code', 'state': 'state'};
// æ¨¡æ“¬çš„_exchangeCodeForTokenå‡½æ•¸
Future<dynamic> _exchangeCodeForToken(String code, String verifier) async => {'success': true, 'accessToken': 'access_token', 'refreshToken': 'refresh_token'};
// æ¨¡æ“¬çš„OAuthExceptioné¡
class OAuthException implements Exception { final String message; OAuthException(this.message); }
// æ¨¡æ“¬çš„SecurityExceptioné¡
class SecurityException implements Exception { final String message; SecurityException(this.message); }
// æ¨¡æ“¬çš„_clearAuthTokenså‡½æ•¸
Future<void> _clearAuthTokens() async {}
// æ¨¡æ“¬çš„_clearUserPreferenceså‡½æ•¸
Future<void> _clearUserPreferences() async {}
// æ¨¡æ“¬çš„_clearCachedDataå‡½æ•¸
Future<void> _clearCachedData() async {}
// æ¨¡æ“¬çš„_clearTempFileså‡½æ•¸
Future<void> _clearTempFiles() async {}
// æ¨¡æ“¬çš„LogoutTypeæšèˆ‰
enum LogoutType { quick, complete }
// æ¨¡æ“¬çš„CleanupOptionæšèˆ‰
enum CleanupOption { authTokens, userPreferences, cachedData, tempFiles }
// æ¨¡æ“¬çš„CleanupResulté¡
class CleanupResult { final bool success; final String? error; final Map<String, bool> results; CleanupResult({required this.success, this.error, required this.results}); }
// æ¨¡æ“¬çš„RedisServiceé¡
class RedisService { static Future<String?> get(String key) async => null; }
// æ¨¡æ“¬çš„RateLimitResulté¡
class RateLimitResult { final bool allowed; final String? reason; final Duration? retryAfter; RateLimitResult({required this.allowed, this.reason, this.retryAfter}); }
// æ¨¡æ“¬çš„AuthAPIé¡
class AuthAPI { static Future<dynamic> authenticateWithOAuth({required String provider, required String? accessToken, required String? idToken}) async { return {'success': true, 'accessToken': 'abc', 'refreshToken': 'xyz', 'user_info': {'unified_uid': 'uid', 'display_name': 'Test User', 'user_type': 'S', 'last_login': '2023-01-01'}, 'expires_in': 3600}; }}
// æ¨¡æ“¬çš„LineLoginé¡
class LineLogin { static final LineLogin instance = LineLogin(); Future<dynamic> login({required List<String> scopes}) async => {'isSuccess': true, 'accessToken': 'line_access_token', 'idToken': 'line_id_token'}; }
// æ¨¡æ“¬çš„AuthExceptioné¡
class AuthException implements Exception { final String message; AuthException(this.message); }
// æ¨¡æ“¬çš„UserProfileé¡
class UserProfile { final bool isIncomplete; UserProfile({this.isIncomplete = false}); }
// æ¨¡æ“¬çš„AuthenticationLogé¡
class AuthenticationLog {}
// æ¨¡æ“¬çš„SecurityAlerté¡
class SecurityAlert {}
// æ¨¡æ“¬çš„TwoFactorAuthé¡
class TwoFactorAuth { static Future<void> setup(String userId) async {} }
// æ¨¡æ“¬çš„DeviceTrustManageré¡
class DeviceTrustManager { static Future<void> initialize(String userId) async {} }
// æ¨¡æ“¬çš„SecurityLoggeré¡
class SecurityLogger { static Future<void> enableDetailedLogging(String userId) async {} }
// æ¨¡æ“¬çš„SecurityAlertsé¡
class SecurityAlerts { static Future<void> configure(String userId, Map<String, bool> alerts) async {} }
// æ¨¡æ“¬çš„SecurityDefaultsé¡
class SecurityDefaults { static Future<void> applyBasicSettings(String userId) async {} }
// æ¨¡æ“¬çš„BiometricAuthé¡
class BiometricAuth { static Future<bool> isAvailable() async => true; static Future<void> enable(String userId) async {} }
// æ¨¡æ“¬çš„PasswordPolicyé¡
class PasswordPolicy { static Future<void> applySimplifiedPolicy(String userId) async {} }
// æ¨¡æ“¬çš„AutoBackupé¡
class AutoBackup { static Future<void> enable(String userId) async {} }
// æ¨¡æ“¬çš„AppConfigé¡
class AppConfig { static const String version = '2.0.0'; }
// æ¨¡æ“¬çš„AnalyticsSDKé¡
class AnalyticsSDK { static void track(String eventName, Map<String, dynamic> data) { print('Analytics: $eventName - $data'); } }
// æ¨¡æ“¬çš„AnalyticsServiceé¡
class AnalyticsService { static void trackPerformance(String operationName, double duration) { print('Performance: $operationName - ${duration}ms'); } }
// æ¨¡æ“¬çš„AuthAccessibilitySupporté¡
class AuthAccessibilitySupport {
  static Widget createAccessibleAuthInput({
    required String label,
    required String hint,
    required TextEditingController controller,
    bool isPassword = false,
    String? errorMessage,
  }) {
    return Semantics(
      label: label,
      hint: hint,
      textField: true,
      obscured: isPassword,
      child: TextFormField(
        controller: controller,
        obscureText: isPassword,
        decoration: InputDecoration(
          labelText: label,
          hintText: hint,
          errorText: errorMessage,
          semanticCounterText: '', // é¿å…è‡ªå‹•èªéŸ³æœ—è®€è¨ˆæ•¸
        ),
        enableInteractiveSelection: true,
        autocorrect: !isPassword,
        enableSuggestions: !isPassword,
      ),
    );
  }

  static Widget createAccessibleAuthButton({
    required String label,
    required VoidCallback onPressed,
    bool isLoading = false,
    bool isEnabled = true,
  }) {
    return Semantics(
      label: label,
      hint: isLoading ? 'è™•ç†ä¸­ï¼Œè«‹ç¨å€™' : 'é»æ“Š$label',
      button: true,
      enabled: isEnabled && !isLoading,
      child: ElevatedButton(
        onPressed: isEnabled && !isLoading ? onPressed : null,
        child: isLoading
            ? const SizedBox(
                width: 20,
                height: 20,
                child: CircularProgressIndicator(strokeWidth: 2),
              )
            : Text(label),
      ),
    );
  }
}
// æ¨¡æ“¬çš„AuthKeyboardNavigationé¡
class AuthKeyboardNavigation {
  static void setupFocusOrder(List<FocusNode> widgets) { } // Placeholder
  static Map<LogicalKeySet, Intent> getAuthShortcuts() { return {}; } // Placeholder
}
// æ¨¡æ“¬çš„LogicalKeySeté¡
class LogicalKeySet {}
// æ¨¡æ“¬çš„LogicalKeyboardKeyé¡
class LogicalKeyboardKey {}
// æ¨¡æ“¬çš„Intenté¡
class Intent {}
// æ¨¡æ“¬çš„SubmitFormIntenté¡
class SubmitFormIntent extends Intent {}
// æ¨¡æ“¬çš„CancelActionIntenté¡
class CancelActionIntent extends Intent {}
// æ¨¡æ“¬çš„NextFieldIntenté¡
class NextFieldIntent extends Intent {}
// æ¨¡æ“¬çš„PreviousFieldIntenté¡
class PreviousFieldIntent extends Intent {}
// æ¨¡æ“¬çš„AuthInternationalizationé¡
class AuthInternationalization {
  static const Map<String, Map<String, String>> translations = {
    'zh_TW': {
      'welcome_title': 'æ­¡è¿ä½¿ç”¨ LCAS 2.0',
      'login_title': 'æ­¡è¿å›ä¾†',
      'register_title': 'å»ºç«‹æ–°å¸³è™Ÿ',
      'password_reset_title': 'é‡è¨­å¯†ç¢¼',
      'logout_title': 'ç¢ºèªç™»å‡º',
      'error_email_invalid': 'è«‹è¼¸å…¥æ­£ç¢ºçš„Emailæ ¼å¼',
      'error_password_weak': 'å¯†ç¢¼è‡³å°‘éœ€8ä½ï¼ŒåŒ…å«è‹±æ–‡å’Œæ•¸å­—',
      'error_network_failed': 'ç¶²è·¯é€£ç·šä¸ç©©å®šï¼Œè«‹æª¢æŸ¥ç¶²è·¯è¨­å®š',
      'mode_controller': 'ç²¾æº–æ§åˆ¶è€…',
      'mode_logger': 'ç´€éŒ„ç¿’æ…£è€…',
      'mode_struggler': 'è½‰å‹æŒ‘æˆ°è€…',
      'mode_sleeper': 'æ½›åœ¨è¦ºé†’è€…',
    },
    'en_US': {
      'welcome_title': 'Welcome to LCAS 2.0',
      'login_title': 'Welcome Back',
      'register_title': 'Create New Account',
      'password_reset_title': 'Reset Password',
      'logout_title': 'Confirm Logout',
      'error_email_invalid': 'Please enter a valid email format',
      'error_password_weak': 'Password must be at least 8 characters with letters and numbers',
      'error_network_failed': 'Network connection unstable, please check your connection',
      'mode_controller': 'Precise Controller',
      'mode_logger': 'Record Keeper',
      'mode_struggler': 'Transform Challenger',
      'mode_sleeper': 'Potential Awakener',
    },
  };
  static String getText(String key, [String? locale]) {
    locale ??= _getCurrentLocale();
    return translations[locale]?[key] ?? translations['zh_TW']![key] ?? key;
  }
  static String _getCurrentLocale() => 'zh_TW'; // Placeholder
}
// æ¨¡æ“¬çš„TextEditingControlleré¡
class TextEditingController { TextEditingController(); }
// æ¨¡æ“¬çš„ElevatedButtoné¡
class ElevatedButton extends StatelessWidget { final VoidCallback? onPressed; final Widget child; const ElevatedButton({Key? key, required this.child, this.onPressed}) : super(key: key); @override Widget build(BuildContext context) => ElevatedButton(onPressed: onPressed, child: child); }
// æ¨¡æ“¬çš„StatelessWidgeté¡
class StatelessWidget { final Key? key; const StatelessWidget({this.key}); @override Widget build(BuildContext context) => Container(); }
// æ¨¡æ“¬çš„BuildContexté¡
class BuildContext {}
// æ¨¡æ“¬çš„Keyé¡
class Key {}
// æ¨¡æ“¬çš„Containeré¡
class Container extends StatelessWidget {}
// æ¨¡æ“¬çš„SizedBoxé¡
class SizedBox extends StatelessWidget { final Widget child; final double width; final double height; const SizedBox({Key? key, required this.child, this.width = 0.0, this.height = 0.0}) : super(key: key); @override Widget build(BuildContext context) => SizedBox(width: width, height: height, child: child); }
// æ¨¡æ“¬çš„CircularProgressIndicatoré¡
class CircularProgressIndicator extends StatelessWidget { final double strokeWidth; const CircularProgressIndicator({Key? key, this.strokeWidth = 4.0}) : super(key: key); @override Widget build(BuildContext context) => CircularProgressIndicator(strokeWidth: strokeWidth); }
// æ¨¡æ“¬çš„Texté¡
class Text extends StatelessWidget { final String data; const Text(this.data, {Key? key}) : super(key: key); @override Widget build(BuildContext context) => Text(data); }
// æ¨¡æ“¬çš„StatelessWidgeté¡
// class StatelessWidget { final Key? key; const StatelessWidget({this.key}); @override Widget build(BuildContext context) => Container(); }
// æ¨¡æ“¬çš„BuildContexté¡
// class BuildContext {}
// æ¨¡æ“¬çš„Keyé¡
// class Key {}
// æ¨¡æ“¬çš„Containeré¡
// class Container extends StatelessWidget {}
// æ¨¡æ“¬çš„SizedBoxé¡
// class SizedBox extends StatelessWidget { final Widget child; final double width; final double height; const SizedBox({Key? key, required this.child, this.width = 0.0, this.height = 0.0}) : super(key: key); @override Widget build(BuildContext context) => SizedBox(width: width, height: height, child: child); }
// æ¨¡æ“¬çš„CircularProgressIndicatoré¡
// class CircularProgressIndicator extends StatelessWidget { final double strokeWidth; const CircularProgressIndicator({Key? key, this.strokeWidth = 4.0}) : super(key: key); @override Widget build(BuildContext context) => CircularProgressIndicator(strokeWidth: strokeWidth); }
// æ¨¡æ“¬çš„Texté¡
// class Text extends StatelessWidget { final String data; const Text(this.data, {Key? key}) : super(key: key); @override Widget build(BuildContext context) => Text(data); }
// æ¨¡æ“¬çš„Semanticsé¡
class Semantics extends StatelessWidget { final String label; final String hint; final bool textField; final bool obscured; final bool button; final bool enabled; final Widget child; const Semantics({Key? key, required this.label, this.hint = '', this.textField = false, this.obscured = false, this.button = false, this.enabled = true, required this.child}) : super(key: key); @override Widget build(BuildContext context) => Semantics(label: label, hint: hint, textField: textField, obscured: obscured, button: button, enabled: enabled, child: child); }
// æ¨¡æ“¬çš„TextFormFieldé¡
class TextFormField extends StatelessWidget { final TextEditingController controller; final bool obscureText; final InputDecoration decoration; final bool enableInteractiveSelection; final bool autocorrect; final bool enableSuggestions; const TextFormField({Key? key, required this.controller, this.obscureText = false, required this.decoration, this.enableInteractiveSelection = false, this.autocorrect = true, this.enableSuggestions = true}) : super(key: key); @override Widget build(BuildContext context) => TextFormField(controller: controller, obscureText: obscureText, decoration: decoration, enableInteractiveSelection: enableInteractiveSelection, autocorrect: autocorrect, enableSuggestions: enableSuggestions); }
// æ¨¡æ“¬çš„InputDecorationé¡
class InputDecoration { final String? labelText; final String? hintText; final String? errorText; final String semanticCounterText; InputDecoration({this.labelText, this.hintText, this.errorText, this.semanticCounterText = ''}); }
// æ¨¡æ“¬çš„Stateé¡
class State {}
// æ¨¡æ“¬çš„focusedFieldè®Šæ•¸
String focusedField = '';
// æ¨¡æ“¬çš„_isValidEmailå‡½æ•¸
bool _isValidEmail(String email) => email.contains('@');
// æ¨¡æ“¬çš„_isValidDisplayNameå‡½æ•¸
bool _isValidDisplayName(String name) => name.length >= 2;
// æ¨¡æ“¬çš„ValidationResulté¡
class ValidationResult { final bool isValid; final Map<String, String> errors; ValidationResult({required this.isValid, required this.errors}); }
// æ¨¡æ“¬çš„RegistrationFormDataé¡
class RegistrationFormData { final String email; final String password; final String confirmPassword; final String displayName; final String? selectedMode; final bool termsAccepted; RegistrationFormData({required this.email, required this.password, required this.confirmPassword, required this.displayName, this.selectedMode, required this.termsAccepted}); }
// æ¨¡æ“¬çš„RegistrationFormValidatoré¡
class RegistrationFormValidator { static Stream<ValidationResult> validateRegistrationForm(Stream<RegistrationFormData> formDataStream) async* { yield ValidationResult(isValid: true, errors: {}); }}
// æ¨¡æ“¬çš„sha256å‡½æ•¸
dynamic sha256 = null;
// æ¨¡æ“¬çš„utf8é¡
class utf8 { static List<int> encode(String input) => [1, 2, 3]; }
// æ¨¡æ“¬çš„Randomé¡
class Random { static Random secure() => Random(); int nextInt(int max) => 0; }
// æ¨¡æ“¬çš„FireStore Security Rules
// rules_content = """
// rules_version = '2';
// service cloud.firestore {
//   match /databases/{database}/documents {
//     match /users/{userId} {
//       allow read, write: if request.auth != null && request.auth.uid == userId;
//     }
//   }
// }
// """
// æ¨¡æ“¬çš„FlutterSecureStorageé¡
class FlutterSecureStorage {
  const FlutterSecureStorage({AndroidOptions? aOptions, IOSOptions? iOptions});
  Future<void> write({required String key, required String value}) async {}
  Future<String?> read({required String key}) async => null;
}
// æ¨¡æ“¬çš„AndroidOptionsé¡
class AndroidOptions { final EncryptedSharedPreferences encryptedSharedPreferences; const AndroidOptions({this.encryptedSharedPreferences = const EncryptedSharedPreferences()}); }
// æ¨¡æ“¬çš„EncryptedSharedPreferencesé¡
class EncryptedSharedPreferences { const EncryptedSharedPreferences(); }
// æ¨¡æ“¬çš„IOSOptionsé¡
class IOSOptions { final IOSAccessibility accessibility; const IOSOptions({this.accessibility = IOSAccessibility.first_unlock_this_device}); }
// æ¨¡æ“¬çš„IOSAccessibilityæšèˆ‰
enum IOSAccessibility { first_unlock_this_device }
// æ¨¡æ“¬çš„_getThresholdå‡½æ•¸
double _getThreshold(String operationName) => 1000.0;
// æ¨¡æ“¬çš„_getCurrentLocaleå‡½æ•¸
String _getCurrentLocale() => 'zh_TW';
// æ¨¡æ“¬çš„_isCommonPasswordå‡½æ•¸
bool _isCommonPassword(String password) => false;
// æ¨¡æ“¬çš„PasswordStrengthResulté¡
// class PasswordStrengthResult { final PasswordStrength strength; final int score; final List<String> feedback; PasswordStrengthResult({required this.strength, required this.score, required this.feedback}); }
// æ¨¡æ“¬çš„PasswordStrengthæšèˆ‰
// enum PasswordStrength { weak, medium, strong }
// æ¨¡æ“¬çš„_clearAuthTokenså‡½æ•¸
// Future<void> _clearAuthTokens() async {}
// æ¨¡æ“¬çš„_clearUserPreferenceså‡½æ•¸
// Future<void> _clearUserPreferences() async {}
// æ¨¡æ“¬çš„_clearCachedDataå‡½æ•¸
// Future<void> _clearCachedData() async {}
// æ¨¡æ“¬çš„_clearTempFileså‡½æ•¸
// Future<void> _clearTempFiles() async {}
// æ¨¡æ“¬çš„LogoutTypeæšèˆ‰
// enum LogoutType { quick, complete }
// æ¨¡æ“¬çš„CleanupOptionæšèˆ‰
// enum CleanupOption { authTokens, userPreferences, cachedData, tempFiles }
// æ¨¡æ“¬çš„CleanupResulté¡
// class CleanupResult { final bool success; final String? error; final Map<String, bool> results; CleanupResult({required this.success, this.error, required this.results}); }
// æ¨¡æ“¬çš„RedisServiceé¡
// class RedisService { static Future<String?> get(String key) async => null; }
// æ¨¡æ“¬çš„RateLimitResulté¡
// class RateLimitResult { final bool allowed; final String? reason; final Duration? retryAfter; RateLimitResult({required this.allowed, this.reason, this.retryAfter}); }
// æ¨¡æ“¬çš„AuthAPIé¡
// class AuthAPI { static Future<dynamic> authenticateWithOAuth({required String provider, required String? accessToken, required String? idToken}) async { return {'success': true, 'accessToken': 'abc', 'refreshToken': 'xyz', 'user_info': {'unified_uid': 'uid', 'display_name': 'Test User', 'user_type': 'S', 'last_login': '2023-01-01'}, 'expires_in': 3600}; }}
// æ¨¡æ“¬çš„LineLoginé¡
// class LineLogin { static final LineLogin instance = LineLogin(); Future<dynamic> login({required List<String> scopes}) async => {'isSuccess': true, 'accessToken': 'line_access_token', 'idToken': 'line_id_token'}; }
// æ¨¡æ“¬çš„AuthExceptioné¡
// class AuthException implements Exception { final String message; AuthException(this.message); }
// æ¨¡æ“¬çš„UserProfileé¡
// class UserProfile { final bool isIncomplete; UserProfile({this.isIncomplete = false}); }
// æ¨¡æ“¬çš„AuthenticationLogé¡
// class AuthenticationLog {}
// æ¨¡æ“¬çš„SecurityAlerté¡
// class SecurityAlert {}
// æ¨¡æ“¬çš„TwoFactorAuthé¡
// class TwoFactorAuth { static Future<void> setup(String userId) async {} }
// æ¨¡æ“¬çš„DeviceTrustManageré¡
// class DeviceTrustManager { static Future<void> initialize(String userId) async {} }
// æ¨¡æ“¬çš„SecurityLoggeré¡
// class SecurityLogger { static Future<void> enableDetailedLogging(String userId) async {} }
// æ¨¡æ“¬çš„SecurityAlertsé¡
// class SecurityAlerts { static Future<void> configure(String userId, Map<String, bool> alerts) async {} }
// æ¨¡æ“¬çš„SecurityDefaultsé¡
// class SecurityDefaults { static Future<void> applyBasicSettings(String userId) async {} }
// æ¨¡æ“¬çš„BiometricAuthé¡
// class BiometricAuth { static Future<bool> isAvailable() async => true; static Future<void> enable(String userId) async {} }
// æ¨¡æ“¬çš„PasswordPolicyé¡
// class PasswordPolicy { static Future<void> applySimplifiedPolicy(String userId) async {} }
// æ¨¡æ“¬çš„AutoBackupé¡
// class AutoBackup { static Future<void> enable(String userId) async {} }
// æ¨¡æ“¬çš„AppConfigé¡
// class AppConfig { static const String version = '2.0.0'; }
// æ¨¡æ“¬çš„AnalyticsSDKé¡
// class AnalyticsSDK { static void track(String eventName, Map<String, dynamic> data) { print('Analytics: $eventName - $data'); } }
// æ¨¡æ“¬çš„AnalyticsServiceé¡
// class AnalyticsService { static void trackPerformance(String operationName, double duration) { print('Performance: $operationName - ${duration}ms'); } }
```

### 15.2 OAuthå®‰å…¨å¯¦ä½œ

#### 15.2.1 LINE OAuthå®‰å…¨é…ç½®
```dart
// LINE OAuthå®‰å…¨å¯¦ä½œ
class LineOAuthSecurity {
  static const String CLIENT_ID = 'YOUR_LINE_CLIENT_ID';
  static const String REDIRECT_URI = 'https://your-app.com/auth/line/callback';
  static const List<String> SCOPES = ['profile', 'openid', 'email'];

  /**
   * 10. å®‰å…¨çš„OAuthæµç¨‹
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description å¯¦æ–½PKCEçš„å®‰å…¨OAuthæµç¨‹
   */
  static Future<LineOAuthResult> performSecureOAuth() async {
    try {
      // ç”ŸæˆPKCEåƒæ•¸
      final codeVerifier = _generateCodeVerifier();
      final codeChallenge = _generateCodeChallenge(codeVerifier);
      final state = _generateSecureState();

      // æ§‹å»ºæˆæ¬ŠURL
      final authUrl = Uri.https('access.line.me', '/oauth2/v2.1/authorize', {
        'response_type': 'code',
        'client_id': CLIENT_ID,
        'redirect_uri': REDIRECT_URI,
        'scope': SCOPES.join(' '),
        'state': state,
        'code_challenge': codeChallenge,
        'code_challenge_method': 'S256',
      });

      // é–‹å•Ÿç€è¦½å™¨é€²è¡Œæˆæ¬Š
      final result = await _launchOAuthBrowser(authUrl.toString());

      if (result.success) {
        // é©—è­‰stateåƒæ•¸é˜²æ­¢CSRF
        if (result.state != state) {
          throw SecurityException('OAuth state parameter mismatch');
        }

        // äº¤æ›æˆæ¬Šç¢¼ç²å–ä»¤ç‰Œ
        return await _exchangeCodeForToken(
          result.code,
          codeVerifier,
        );
      }

      throw OAuthException('OAuth authorization failed');
    } catch (e) {
      logSecurityEvent('LINE OAuth failed: $e');
      rethrow;
    }
  }
  
  // æ¨¡æ“¬çš„PKCEåƒæ•¸ç”Ÿæˆå‡½æ•¸
  static String _generateCodeVerifier() => 'mock_code_verifier';
  static String _generateCodeChallenge(String verifier) => 'mock_code_challenge';
  static String _generateSecureState() => 'mock_secure_state';
  static Future<dynamic> _launchOAuthBrowser(String url) async => {'success': true, 'code': 'mock_auth_code', 'state': 'mock_secure_state'};
  static Future<LineOAuthResult> _exchangeCodeForToken(String code, String verifier) async => LineOAuthResult(success: true, accessToken: 'mock_access_token', refreshToken: 'mock_refresh_token', idToken: 'mock_id_token');
}

// æ¨¡æ“¬çš„LineOAuthResulté¡
class LineOAuthResult {
  final bool success;
  final String? accessToken;
  final String? refreshToken;
  final String? idToken;
  LineOAuthResult({required this.success, this.accessToken, this.refreshToken, this.idToken});
}
```

### 15.3 å››æ¨¡å¼å®‰å…¨å·®ç•°

#### 15.3.1 ç²¾æº–æ§åˆ¶è€…æ¨¡å¼å®‰å…¨å¼·åŒ–
```dart
class ControllerSecurityEnhancement {

  /**
   * 11. é€²éšå®‰å…¨åŠŸèƒ½
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description ç‚ºç²¾æº–æ§åˆ¶è€…æä¾›é¡å¤–å®‰å…¨åŠŸèƒ½
   */
  static Future<void> enableAdvancedSecurity(String userId) async {
    // å•Ÿç”¨å…©æ­¥é©—è­‰
    await TwoFactorAuth.setup(userId);

    // è¨­å®šè£ç½®ä¿¡ä»»ç®¡ç†
    await DeviceTrustManager.initialize(userId);

    // å•Ÿç”¨è©³ç´°å®‰å…¨æ—¥èªŒ
    await SecurityLogger.enableDetailedLogging(userId);

    // è¨­å®šå®‰å…¨è­¦å ±
    await SecurityAlerts.configure(userId, {
      'newDeviceLogin': true,
      'suspiciousActivity': true,
      'passwordChanged': true,
      'permissionChanges': true,
    });
  }
}
```

#### 15.3.2 æ½›åœ¨è¦ºé†’è€…æ¨¡å¼å®‰å…¨ç°¡åŒ–
```dart
class SleeperSecuritySimplification {

  /**
   * 12. ç°¡åŒ–å®‰å…¨é«”é©—
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description ç‚ºæ½›åœ¨è¦ºé†’è€…ç°¡åŒ–å®‰å…¨æµç¨‹
   */
  static Future<void> setupSimplifiedSecurity(String userId) async {
    // è‡ªå‹•å•Ÿç”¨åŸºæœ¬å®‰å…¨è¨­å®š
    await SecurityDefaults.applyBasicSettings(userId);

    // å•Ÿç”¨ç”Ÿç‰©è¾¨è­˜ï¼ˆå¦‚æœå¯ç”¨ï¼‰
    if (await BiometricAuth.isAvailable()) {
      await BiometricAuth.enable(userId);
    }

    // ç°¡åŒ–å¯†ç¢¼è¦æ±‚ï¼ˆä½†ä¿æŒå®‰å…¨ï¼‰
    await PasswordPolicy.applySimplifiedPolicy(userId);

    // è‡ªå‹•å®‰å…¨å‚™ä»½è¨­å®š
    await AutoBackup.enable(userId);
  }
}
```

---

## 16. å…¶ä»–è£œå……éœ€æ±‚

### 16.1 æ•ˆèƒ½è¦æ±‚è¦ç¯„

#### 16.1.1 èªè­‰ç¾¤çµ„æ•ˆèƒ½æŒ‡æ¨™
| æŒ‡æ¨™é¡åˆ¥ | ç›®æ¨™å€¼ | æ¸¬é‡æ–¹æ³• | å„ªåŒ–ç­–ç•¥ |
|----------|--------|----------|----------|
| **é é¢è¼‰å…¥æ™‚é–“** | < 2ç§’ | First Contentful Paint | ç¨‹å¼ç¢¼åˆ†å‰²ã€é è¼‰å…¥ |
| **èªè­‰å›æ‡‰æ™‚é–“** | < 3ç§’ | APIå›æ‡‰æ™‚é–“ | å¿«å–ã€é€£ç·šæ±  |
| **OAuthé‡å®šå‘** | < 5ç§’ | å®Œæ•´OAuthæµç¨‹ | ç€è¦½å™¨å„ªåŒ– |
| **å¯†ç¢¼é‡è¨­** | < 10ç§’ | Emailç™¼é€å®Œæˆ | éåŒæ­¥è™•ç† |
| **è¨˜æ†¶é«”ä½¿ç”¨é‡** | < 50MB | èªè­‰æµç¨‹æœŸé–“ | è¨˜æ†¶é«”æ¸…ç† |
| **é›»æ± æ¶ˆè€—** | < 2% | 1å°æ™‚ä½¿ç”¨ | èƒŒæ™¯ä»»å‹™å„ªåŒ– |

#### 16.1.2 æ•ˆèƒ½ç›£æ§å¯¦ä½œ
```dart
// èªè­‰ç¾¤çµ„æ•ˆèƒ½ç›£æ§
class AuthPerformanceMonitor {
  static final Stopwatch _stopwatch = Stopwatch();
  static final Map<String, double> _metrics = {};

  /**
   * 13. æ•ˆèƒ½æŒ‡æ¨™æ”¶é›†
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description æ”¶é›†èªè­‰æµç¨‹çš„æ•ˆèƒ½æŒ‡æ¨™
   */
  static void startMeasurement(String operationName) {
    _stopwatch.reset();
    _stopwatch.start();
    logInfo('Performance measurement started for: $operationName');
  }

  /**
   * 14. æ•ˆèƒ½æŒ‡æ¨™è¨˜éŒ„
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è¨˜éŒ„ä¸¦åˆ†ææ•ˆèƒ½æŒ‡æ¨™
   */
  static void endMeasurement(String operationName) {
    _stopwatch.stop();
    final duration = _stopwatch.elapsedMilliseconds.toDouble();
    _metrics[operationName] = duration;

    // æ•ˆèƒ½è­¦å‘Šæª¢æŸ¥
    if (duration > _getThreshold(operationName)) {
      logWarning('Performance threshold exceeded for $operationName: ${duration}ms');
    }

    // ç™¼é€æ•ˆèƒ½æ•¸æ“šåˆ°åˆ†ææœå‹™
    AnalyticsService.trackPerformance(operationName, duration);
  }
  
  // æ¨¡æ“¬çš„logWarningå‡½æ•¸
  static void logWarning(String message) { print('WARNING: $message'); }
}
```

### 16.2 ç„¡éšœç¤™æ”¯æ´è¦ç¯„

#### 16.2.1 WCAG 2.1 AAæ¨™æº–å¯¦ä½œ
```dart
// èªè­‰ç¾¤çµ„ç„¡éšœç¤™æ”¯æ´
class AuthAccessibilitySupport {

  /**
   * 15. èªæ„åŒ–æ¨™ç±¤é…ç½®
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description ç‚ºèªè­‰å…ƒä»¶æä¾›å®Œæ•´çš„èªæ„åŒ–æ”¯æ´
   */
  static Widget createAccessibleAuthInput({
    required String label,
    required String hint,
    required TextEditingController controller,
    bool isPassword = false,
    String? errorMessage,
  }) {
    return Semantics(
      label: label,
      hint: hint,
      textField: true,
      obscured: isPassword,
      child: TextFormField(
        controller: controller,
        obscureText: isPassword,
        decoration: InputDecoration(
          labelText: label,
          hintText: hint,
          errorText: errorMessage,
          semanticCounterText: '', // é¿å…è‡ªå‹•èªéŸ³æœ—è®€è¨ˆæ•¸
        ),
        // ç„¡éšœç¤™å±¬æ€§
        enableInteractiveSelection: true,
        autocorrect: !isPassword,
        enableSuggestions: !isPassword,
      ),
    );
  }

  /**
   * 16. è¢å¹•é–±è®€å™¨å„ªåŒ–
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description æœ€ä½³åŒ–è¢å¹•é–±è®€å™¨é«”é©—
   */
  static Widget createAccessibleAuthButton({
    required String label,
    required VoidCallback onPressed,
    bool isLoading = false,
    bool isEnabled = true,
  }) {
    return Semantics(
      label: label,
      hint: isLoading ? 'è™•ç†ä¸­ï¼Œè«‹ç¨å€™' : 'é»æ“Š$label',
      button: true,
      enabled: isEnabled && !isLoading,
      child: ElevatedButton(
        onPressed: isEnabled && !isLoading ? onPressed : null,
        child: isLoading
          ? const SizedBox(
              width: 20,
              height: 20,
              child: CircularProgressIndicator(strokeWidth: 2),
            )
          : Text(label),
      ),
    );
  }
}
```

#### 7.1 è¦–è¦ºç„¡éšœç¤™éœ€æ±‚ï¼ˆå®Œæ•´ç¬¦åˆ9005æ–‡ä»¶7.0ç« ç¯€WCAG 2.1 AAæ¨™æº–ï¼‰

#### 7.1.1 è‰²å½©å°æ¯”åº¦éœ€æ±‚
- **WCAG 2.1 AAæ¨™æº–**ï¼šæ–‡å­—èˆ‡èƒŒæ™¯å°æ¯”åº¦è‡³å°‘4.5:1
- **å…·é«”å°æ¯”åº¦æ•¸å€¼**ï¼š
  ```css
  /* èªè­‰é é¢å°æ¯”åº¦è¦ç¯„ */
  .auth-text-primary { color: #212121; background: #FFFFFF; } /* å°æ¯”åº¦: 16.74:1 âœ“ */
  .auth-text-secondary { color: #757575; background: #FFFFFF; } /* å°æ¯”åº¦: 4.61:1 âœ“ */
  .auth-button-primary { color: #FFFFFF; background: #1976D2; } /* å°æ¯”åº¦: 5.74:1 âœ“ */
  .auth-error-text { color: #D32F2F; background: #FFFFFF; } /* å°æ¯”åº¦: 5.04:1 âœ“ */
  ```
- **é‡è¦å…ƒç´ **ï¼šæŒ‰éˆ•ã€é€£çµç­‰äº’å‹•å…ƒç´ å°æ¯”åº¦â‰¥5.0:1
- **ç‹€æ…‹æŒ‡ç¤º**ï¼šä¸åƒ…ä¾è³´é¡è‰²ï¼Œéœ€æ­é…åœ–æ¨™æˆ–æ–‡å­—

#### 7.1.2 ç„¦é»ç®¡ç†ç´°ç¯€
```dart
// èªè­‰é é¢ç„¦é»ç®¡ç†å¯¦ä½œ
class AuthFocusManager {
  static void setupFocusOrder() {
    final FocusNode emailFocus = FocusNode();
    final FocusNode passwordFocus = FocusNode();
    final FocusNode submitFocus = FocusNode();

    // è¨­å®šç„¦é»é †åºèˆ‡è¦–è¦ºæŒ‡ç¤º
    emailFocus.addListener(() {
      if (emailFocus.hasFocus) {
        // æ¸…æ™°çš„ç„¦é»æ¡†ï¼š2px solid #1976D2ï¼Œå¤–åœé™°å½±
        setState(() => focusedField = 'email');
      }
    });

    // Tabéµå°èˆªé †åºï¼šEmail â†’ å¯†ç¢¼ â†’ ç™»å…¥æŒ‰éˆ•
    emailFocus.nextFocus = passwordFocus;
    passwordFocus.nextFocus = submitFocus;
  }
}
```

#### 16.2.2 éµç›¤å°èˆªæ”¯æ´
```dart
// éµç›¤å°èˆªæœ€ä½³åŒ–
class AuthKeyboardNavigation {

  /**
   * 17. éµç›¤å°èˆªé †åºè¨­å®š
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è¨­å®šåˆç†çš„Tabé †åº
   */
  static List<FocusNode> setupFocusOrder(List<Widget> widgets) {
    final List<FocusNode> focusNodes = [];

    for (int i = 0; i < widgets.length; i++) {
      final focusNode = FocusNode();
      focusNodes.add(focusNode);

      // è¨­å®šä¸‹ä¸€å€‹ç„¦é»
      if (i < widgets.length - 1) {
        focusNode.nextFocus = focusNodes[i+1]; // æ¨¡æ“¬è¨­ç½®ä¸‹ä¸€å€‹ç„¦é»
      }
    }

    return focusNodes;
  }

  /**
   * 18. å¿«æ·éµæ”¯æ´
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description å¯¦ä½œèªè­‰é é¢å¿«æ·éµ
   */
  static Map<LogicalKeySet, Intent> getAuthShortcuts() {
    return {
      LogicalKeySet(LogicalKeyboardKey.enter): const SubmitFormIntent(),
      LogicalKeySet(LogicalKeyboardKey.escape): const CancelActionIntent(),
      LogicalKeySet(LogicalKeyboardKey.tab): const NextFieldIntent(),
      LogicalKeySet(LogicalKeyboardKey.shift, LogicalKeyboardKey.tab): const PreviousFieldIntent(),
    };
  }
}
```

### 16.3 åœ‹éš›åŒ–æ”¯æ´

#### 16.3.1 å¤šèªç³»é…ç½®
```dart
// èªè­‰ç¾¤çµ„åœ‹éš›åŒ–æ”¯æ´
class AuthInternationalization {
  static const Map<String, Map<String, String>> translations = {
    'zh_TW': {
      'welcome_title': 'æ­¡è¿ä½¿ç”¨ LCAS 2.0',
      'login_title': 'æ­¡è¿å›ä¾†',
      'register_title': 'å»ºç«‹æ–°å¸³è™Ÿ',
      'password_reset_title': 'é‡è¨­å¯†ç¢¼',
      'logout_title': 'ç¢ºèªç™»å‡º',

      // éŒ¯èª¤è¨Šæ¯
      'error_email_invalid': 'è«‹è¼¸å…¥æ­£ç¢ºçš„Emailæ ¼å¼',
      'error_password_weak': 'å¯†ç¢¼è‡³å°‘éœ€8ä½ï¼ŒåŒ…å«è‹±æ–‡å’Œæ•¸å­—',
      'error_network_failed': 'ç¶²è·¯é€£ç·šä¸ç©©å®šï¼Œè«‹æª¢æŸ¥ç¶²è·¯è¨­å®š',

      // å››æ¨¡å¼åç¨±
      'mode_controller': 'ç²¾æº–æ§åˆ¶è€…',
      'mode_logger': 'ç´€éŒ„ç¿’æ…£è€…',
      'mode_struggler': 'è½‰å‹æŒ‘æˆ°è€…',
      'mode_sleeper': 'æ½›åœ¨è¦ºé†’è€…',
    },

    'en_US': {
      'welcome_title': 'Welcome to LCAS 2.0',
      'login_title': 'Welcome Back',
      'register_title': 'Create New Account',
      'password_reset_title': 'Reset Password',
      'logout_title': 'Confirm Logout',

      // Error messages
      'error_email_invalid': 'Please enter a valid email format',
      'error_password_weak': 'Password must be at least 8 characters with letters and numbers',
      'error_network_failed': 'Network connection unstable, please check your connection',

      // Mode names
      'mode_controller': 'Precise Controller',
      'mode_logger': 'Record Keeper',
      'mode_struggler': 'Transform Challenger',
      'mode_sleeper': 'Potential Awakener',
    },
  };

  /**
   * 19. å–å¾—æœ¬åœ°åŒ–æ–‡å­—
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description æ ¹æ“šè£ç½®èªè¨€å›å‚³å°æ‡‰æ–‡å­—
   */
  static String getText(String key, [String? locale]) {
    locale ??= _getCurrentLocale();
    return translations[locale]?[key] ?? translations['zh_TW']![key] ?? key;
  }
}
```

### 16.4 åˆ†æèˆ‡ç›£æ§

#### 16.4.1 ä½¿ç”¨è€…è¡Œç‚ºåˆ†æ
```dart
// èªè­‰ç¾¤çµ„åˆ†ææœå‹™
class AuthAnalyticsService {

  /**
   * 20. èªè­‰æµç¨‹åˆ†æ
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è¿½è¹¤ä½¿ç”¨è€…èªè­‰è¡Œç‚ºèˆ‡è½‰æ›ç‡
   */
  static void trackAuthenticationFlow({
    required String event,
    required String userMode,
    Map<String, dynamic>? properties,
  }) {
    final analyticsData = {
      'event': event,
      'user_mode': userMode,
      'timestamp': DateTime.now().toIso8601String(),
      'platform': 'flutter',
      'app_version': AppConfig.version,
      ...?properties,
    };

    // ç™¼é€åˆ°åˆ†ææœå‹™
    AnalyticsSDK.track('auth_$event', analyticsData);
  }

  /**
   * 21. è½‰æ›ç‡è¿½è¹¤
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description è¿½è¹¤å„éšæ®µçš„è½‰æ›ç‡
   */
  static void trackConversionFunnel(String stage, bool success) {
    trackAuthenticationFlow(
      event: 'conversion_funnel',
      userMode: 'unknown', // å¯èƒ½é‚„æ²’é¸æ“‡æ¨¡å¼
      properties: {
        'stage': stage,
        'success': success,
        'funnel_position': _getFunnelPosition(stage),
      },
    );
  }
  
  // æ¨¡æ“¬çš„_getFunnelPositionå‡½æ•¸
  static int _getFunnelPosition(String stage) {
    switch(stage) {
      case 'welcome': return 1;
      case 'register': return 2;
      case 'login': return 3;
      default: return 0;
    }
  }
}
```

---

## 17. é é¢è©³ç´°è¦æ ¼

### 17.1 P001 æ­¡è¿é é¢è©³ç´°è¦æ ¼

#### 17.1.1 æ ¸å¿ƒåŠŸèƒ½è¦æ ¼
- **å•Ÿå‹•å¼•å°**ï¼šæ‡‰ç”¨ç¨‹å¼é¦–æ¬¡å•Ÿå‹•çš„å“ç‰Œå±•ç¤ºèˆ‡åŠŸèƒ½ä»‹ç´¹
- **æ¨¡å¼é¸æ“‡**ï¼šå››ç¨®ä½¿ç”¨è€…æ¨¡å¼çš„é¸æ“‡ä»‹é¢
- **ç‹€æ…‹æª¢æ¸¬**ï¼šè‡ªå‹•æª¢æ¸¬ä½¿ç”¨è€…ç™»å…¥ç‹€æ…‹
- **å°èˆªåˆ†æµ**ï¼šæ ¹æ“šä½¿ç”¨è€…ç‹€æ…‹å°å‘é©ç•¶é é¢

#### 17.1.2 UIå…ƒä»¶è¦æ ¼
```css
/* P001 æ­¡è¿é é¢å°ˆç”¨æ¨£å¼ */
.welcome-container {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 32px 16px;
}

.brand-logo {
  width: 120px;
  height: 120px;
  margin-bottom: 32px;
  animation: logoFadeIn 1s ease-out;
}

.welcome-title {
  font-size: 28px;
  font-weight: 600;
  color: #FFFFFF;
  text-align: center;
  margin-bottom: 16px;
}

.mode-selection-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  width: 100%;
  max-width: 400px;
  margin-bottom: 32px;
}
```

### 17.2 P002 ç™»å…¥é é¢è©³ç´°è¦æ ¼

#### 17.2.1 æ ¸å¿ƒåŠŸèƒ½è¦æ ¼
- **å¤šé‡ç™»å…¥æ–¹å¼**ï¼šLINE OAuthã€Googleã€Appleã€Emailç™»å…¥
- **å®‰å…¨é©—è­‰**ï¼šJWTä»¤ç‰Œã€OAuth 2.0ã€PKCEå¯¦ä½œ
- **è¨˜ä½ç™»å…¥ç‹€æ…‹**ï¼šå®‰å…¨çš„æœ¬åœ°èªè­‰è³‡è¨Šå„²å­˜
- **å¿˜è¨˜å¯†ç¢¼å°å‘**ï¼šå¿«é€Ÿå°å‘P004å¯†ç¢¼é‡è¨­é é¢

#### 17.2.2 OAuthæ•´åˆè¦æ ¼
```dart
// P002 OAuthæ•´åˆå¯¦ä½œ
class LoginPageOAuthIntegration {

  /**
   * 22. LINEç™»å…¥æ•´åˆ
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description æ•´åˆLINE Login SDK
   */
  static Future<AuthResult> performLineLogin() async {
    try {
      final lineLogin = LineLogin.instance;
      final result = await lineLogin.login(
        scopes: ['profile', 'openid', 'email'],
      );

      if (result.isSuccess) {
        return await AuthAPI.authenticateWithOAuth(
          provider: 'line',
          accessToken: result.accessToken,
          idToken: result.idToken,
        );
      }

      throw AuthException('LINE login failed');
    } catch (e) {
      logError('LINE OAuth error: $e');
      rethrow;
    }
  }
}
// æ¨¡æ“¬çš„AuthResulté¡
class AuthResult { final bool success; final String accessToken; final String refreshToken; final dynamic userInfo; final int expiresIn; AuthResult({required this.success, required this.accessToken, required this.refreshToken, required this.userInfo, required this.expiresIn}); }
```

### 17.3 P003 è¨»å†Šé é¢è©³ç´°è¦æ ¼

#### 17.3.1 æ ¸å¿ƒåŠŸèƒ½è¦æ ¼
- **å¤šé‡è¨»å†Šæ–¹å¼**ï¼šLINE OAuthã€Emailè¨»å†Š
- **Emailé©—è­‰æµç¨‹**ï¼šè¨»å†Šå¾ŒEmailé©—è­‰æ©Ÿåˆ¶
- **æ¨¡å¼åˆå§‹è¨­å®š**ï¼šä½¿ç”¨è€…æ¨¡å¼é¸æ“‡èˆ‡å€‹äººåŒ–è¨­å®š
- **æ¢æ¬¾åŒæ„**ï¼šæœå‹™æ¢æ¬¾èˆ‡éš±ç§æ”¿ç­–åŒæ„æµç¨‹

#### 17.3.2 è¡¨å–®é©—è­‰è¦æ ¼
```dart
// P003 è¡¨å–®é©—è­‰å¯¦ä½œ
class RegistrationFormValidator {

  /**
   * 23. å³æ™‚è¡¨å–®é©—è­‰
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description æä¾›å³æ™‚çš„è¡¨å–®é©—è­‰å›é¥‹
   */
  static Stream<ValidationResult> validateRegistrationForm(
    Stream<RegistrationFormData> formDataStream,
  ) async* {
    await for (final formData in formDataStream) {
      final errors = <String, String>{};

      // Emailé©—è­‰
      if (!_isValidEmail(formData.email)) {
        errors['email'] = 'invalid_email_format';
      }

      // å¯†ç¢¼å¼·åº¦é©—è­‰
      final passwordResult = PasswordSecurityManager.checkPasswordStrength(formData.password);
      if (passwordResult.strength == PasswordStrength.weak) {
        errors['password'] = 'password_too_weak';
      }

      // å¯†ç¢¼ç¢ºèªé©—è­‰
      if (formData.password != formData.confirmPassword) {
        errors['confirmPassword'] = 'passwords_do_not_match';
      }

      // å§“åæ ¼å¼é©—è­‰
      if (!_isValidDisplayName(formData.displayName)) {
        errors['displayName'] = 'invalid_display_name';
      }

      // æ¨¡å¼é¸æ“‡é©—è­‰
      if (formData.selectedMode == null) {
        errors['mode'] = 'mode_selection_required';
      }

      // æ¢æ¬¾åŒæ„é©—è­‰
      if (!formData.termsAccepted) {
        errors['terms'] = 'terms_acceptance_required';
      }

      yield ValidationResult(
        isValid: errors.isEmpty,
        errors: errors,
      );
    }
  }
}
```

### 17.4 P004 å¯†ç¢¼é‡è¨­é é¢è©³ç´°è¦æ ¼

#### 17.4.1 æ ¸å¿ƒåŠŸèƒ½è¦æ ¼
- **ä¸‰éšæ®µé‡è¨­æµç¨‹**ï¼šEmailè¼¸å…¥ â†’ é©—è­‰ç¢¼ç¢ºèª â†’ æ–°å¯†ç¢¼è¨­å®š
- **å®‰å…¨é©—è­‰æ©Ÿåˆ¶**ï¼š6ä½æ•¸é©—è­‰ç¢¼ã€10åˆ†é˜æœ‰æ•ˆæœŸé™
- **é »ç‡é™åˆ¶**ï¼šé˜²æ­¢æš´åŠ›ç ´è§£çš„å®‰å…¨æ©Ÿåˆ¶
- **ä½¿ç”¨è€…å‹å–„é«”é©—**ï¼šæ¸…æ¥šçš„æ­¥é©ŸæŒ‡ç¤ºèˆ‡é€²åº¦é¡¯ç¤º

#### 17.4.2 å®‰å…¨æµç¨‹è¦æ ¼
```dart
// P004 å¯†ç¢¼é‡è¨­å®‰å…¨æµç¨‹
class PasswordResetSecurityFlow {

  /**
   * 24. å®‰å…¨é©—è­‰ç¢¼ç”Ÿæˆ
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description ç”Ÿæˆå®‰å…¨çš„6ä½æ•¸é©—è­‰ç¢¼
   */
  static String generateSecureVerificationCode() {
    final random = Random.secure();
    String code = '';

    for (int i = 0; i < 6; i++) {
      code += random.nextInt(10).toString();
    }

    // ç¢ºä¿ä¸æ˜¯ç°¡å–®çš„é€£çºŒæ•¸å­—
    if (_isSequentialNumber(code) || _isRepeatingNumber(code)) {
      return generateSecureVerificationCode(); // éæ­¸é‡æ–°ç”Ÿæˆ
    }

    return code;
  }

  /**
   * 25. é‡è¨­é »ç‡é™åˆ¶æª¢æŸ¥
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description æª¢æŸ¥å¯†ç¢¼é‡è¨­è«‹æ±‚é »ç‡
   */
  static Future<RateLimitResult> checkResetRateLimit(String email) async {
    final key = 'password_reset_$email';
    final attempts = await RedisService.get(key);

    if (attempts != null) {
      final count = int.parse(attempts);
      if (count >= 3) {
        return RateLimitResult(
          allowed: false,
          reason: 'Too many reset attempts',
          retryAfter: Duration(hours: 1),
        );
      }
    }

    return RateLimitResult(allowed: true);
  }
}
```

### 17.5 P005 ç™»å‡ºç¢ºèªé é¢è©³ç´°è¦æ ¼

#### 17.5.1 æ ¸å¿ƒåŠŸèƒ½è¦æ ¼
- **ç™»å‡ºé¡å‹é¸æ“‡**ï¼šå¿«é€Ÿç™»å‡º vs å®Œå…¨ç™»å‡º
- **æœ¬åœ°è³‡æ–™æ¸…ç†**ï¼šå¯é¸çš„æœ¬åœ°è³‡æ–™æ¸…ç†é¸é …
- **æœªåŒæ­¥è³‡æ–™è™•ç†**ï¼šæª¢æŸ¥ä¸¦è™•ç†æœªåŒæ­¥çš„è¨˜å¸³è¨˜éŒ„
- **å®‰å…¨æœƒè©±æ¸…ç†**ï¼šå®Œæ•´çš„ä½¿ç”¨è€…æœƒè©±æ¸…ç†

#### 17.5.2 è³‡æ–™æ¸…ç†è¦æ ¼
```dart
// P005 è³‡æ–™æ¸…ç†å¯¦ä½œ
class LogoutDataCleanup {

  /**
   * 26. æœ¬åœ°è³‡æ–™æ¸…ç†
   * @version 2025-08-07-V2.0.0
   * @date 2025-08-07 22:00:00
   * @description åŸ·è¡Œæœ¬åœ°è³‡æ–™æ¸…ç†
   */
  static Future<CleanupResult> performDataCleanup({
    required LogoutType logoutType,
    required List<CleanupOption> cleanupOptions,
  }) async {
    final results = <String, bool>{};

    try {
      // æ¸…ç†èªè­‰ä»¤ç‰Œ
      if (cleanupOptions.contains(CleanupOption.authTokens)) {
        await _clearAuthTokens();
        results['authTokens'] = true;
      }

      // æ¸…ç†ä½¿ç”¨è€…åå¥½è¨­å®š
      if (logoutType == LogoutType.complete && 
          cleanupOptions.contains(CleanupOption.userPreferences)) {
        await _clearUserPreferences();
        results['userPreferences'] = true;
      }

      // æ¸…ç†å¿«å–è³‡æ–™
      if (cleanupOptions.contains(CleanupOption.cachedData)) {
        await _clearCachedData();
        results['cachedData'] = true;
      }

      // æ¸…ç†æš«å­˜æª”æ¡ˆ
      if (cleanupOptions.contains(CleanupOption.tempFiles)) {
        await _clearTempFiles();
        results['tempFiles'] = true;
      }

      return CleanupResult(
        success: true,
        results: results,
      );
    } catch (e) {
      logError('Data cleanup failed: $e');
      return CleanupResult(
        success: false,
        error: e.toString(),
        results: results,
      );
    }
  }
}
```

---

## 18. æ•´åˆé©—æ”¶æ¨™æº–

### 18.1 åŠŸèƒ½æ€§é©—æ”¶æ¨™æº–

#### 18.1.1 èªè­‰æµç¨‹å®Œæ•´æ€§æ¸¬è©¦
```gherkin
# åŠŸèƒ½é©—æ”¶æ¸¬è©¦æ¡ˆä¾‹
Feature: èªè­‰æµç¨‹ç¾¤çµ„æ•´åˆæ¸¬è©¦

  Background:
    Given LCAS 2.0 Flutteræ‡‰ç”¨ç¨‹å¼å·²å®‰è£
    And å¾Œç«¯èªè­‰æœå‹™æ­£å¸¸é‹ä½œ
    And æ¸¬è©¦è³‡æ–™åº«å·²æº–å‚™å®Œæˆ

  Scenario: é¦–æ¬¡ä½¿ç”¨è€…å®Œæ•´è¨»å†Šæµç¨‹
    Given ä½¿ç”¨è€…é¦–æ¬¡é–‹å•Ÿæ‡‰ç”¨ç¨‹å¼
    When ä½¿ç”¨è€…é€²å…¥P001æ­¡è¿é é¢
    Then æ‡‰è©²é¡¯ç¤ºå“ç‰Œä»‹ç´¹å’Œå››æ¨¡å¼é¸æ“‡

    When ä½¿ç”¨è€…é¸æ“‡"ç´€éŒ„ç¿’æ…£è€…"æ¨¡å¼
    And é»æ“Š"è¨»å†Šæ–°å¸³è™Ÿ"
    Then æ‡‰è©²å°å‘P003è¨»å†Šé é¢

    When ä½¿ç”¨è€…é¸æ“‡Emailè¨»å†Š
    And è¼¸å…¥æœ‰æ•ˆçš„è¨»å†Šè³‡è¨Š
    And åŒæ„æœå‹™æ¢æ¬¾
    And æäº¤è¨»å†Šè¡¨å–®
    Then æ‡‰è©²æ”¶åˆ°Emailé©—è­‰ä¿¡
    And é¡¯ç¤ºé©—è­‰ç­‰å¾…é é¢

    When ä½¿ç”¨è€…é»æ“ŠEmailé©—è­‰é€£çµ
    Then å¸³è™Ÿæ‡‰è©²è¢«æ¿€æ´»
    And è‡ªå‹•å°å‘P002ç™»å…¥é é¢

  Scenario: å›è¨ªä½¿ç”¨è€…å¿«é€Ÿç™»å…¥æµç¨‹
    Given ä½¿ç”¨è€…å·²ç¶“è¨»å†Šä¸¦é©—è­‰å¸³è™Ÿ
    When ä½¿ç”¨è€…é–‹å•Ÿæ‡‰ç”¨ç¨‹å¼
    Then æ‡‰è©²ç›´æ¥é¡¯ç¤ºP002ç™»å…¥é é¢

    When ä½¿ç”¨è€…é¸æ“‡LINEç™»å…¥
    And å®ŒæˆLINE OAuthæˆæ¬Š
    Then æ‡‰è©²æˆåŠŸç™»å…¥
    And å°å‘P006 é¦–é å„€è¡¨æ¿

  Scenario: å¯†ç¢¼é‡è¨­å®Œæ•´æµç¨‹
    Given ä½¿ç”¨è€…å¿˜è¨˜å¯†ç¢¼
    When ä½¿ç”¨è€…åœ¨P002ç™»å…¥é é¢é»æ“Š"å¿˜è¨˜å¯†ç¢¼"
    Then æ‡‰è©²å°å‘P004å¯†ç¢¼é‡è¨­é é¢

    When ä½¿ç”¨è€…è¼¸å…¥è¨»å†ŠEmail
    And é»æ“Š"ç™¼é€é©—è­‰ç¢¼"
    Then æ‡‰è©²æ”¶åˆ°6ä½æ•¸é©—è­‰ç¢¼Email

    When ä½¿ç”¨è€…è¼¸å…¥æ­£ç¢ºé©—è­‰ç¢¼
    Then æ‡‰è©²é€²å…¥æ–°å¯†ç¢¼è¨­å®šéšæ®µ

    When ä½¿ç”¨è€…è¨­å®šç¬¦åˆå¼·åº¦è¦æ±‚çš„æ–°å¯†ç¢¼
    And ç¢ºèªæ–°å¯†ç¢¼
    And æäº¤é‡è¨­ç”³è«‹
    Then å¯†ç¢¼æ‡‰è©²æˆåŠŸæ›´æ–°
    And æ‰€æœ‰ç¾æœ‰æœƒè©±æ‡‰è©²è¢«æ’¤éŠ·
    And å°å‘P002ç™»å…¥é é¢

  Scenario: å®‰å…¨ç™»å‡ºæµç¨‹
    Given ä½¿ç”¨è€…å·²ç™»å…¥æ‡‰ç”¨ç¨‹å¼
    When ä½¿ç”¨è€…è§¸ç™¼ç™»å‡ºæ“ä½œ
    Then æ‡‰è©²é¡¯ç¤ºP005ç™»å‡ºç¢ºèªé é¢

    When ä½¿ç”¨è€…é¸æ“‡"å®Œå…¨ç™»å‡º"
    And é¸æ“‡æ¸…ç†æ‰€æœ‰æœ¬åœ°è³‡æ–™
    And ç¢ºèªç™»å‡º
    Then æ‰€æœ‰ä½¿ç”¨è€…æœƒè©±æ‡‰è©²è¢«æ¸…ç†
    And æœ¬åœ°èªè­‰è³‡æ–™æ‡‰è©²è¢«æ¸…é™¤
    And å°å‘P001æ­¡è¿é é¢
```

#### 18.1.2 å››æ¨¡å¼å·®ç•°åŒ–é©—æ”¶æ¸¬è©¦
```gherkin
Feature: å››æ¨¡å¼å·®ç•°åŒ–é«”é©—æ¸¬è©¦

  Scenario Outline: ä¸åŒæ¨¡å¼çš„èªè­‰é«”é©—å·®ç•°
    Given ä½¿ç”¨è€…é¸æ“‡<user_mode>æ¨¡å¼
    When ä½¿ç”¨è€…é€²è¡Œèªè­‰æµç¨‹
    Then æ‡‰è©²é¡¯ç¤º<mode_specific_ui>çš„ä»‹é¢å…ƒç´ 
    And æ‡‰è©²æä¾›<complexity_level>çš„åŠŸèƒ½é¸é …
    And æ‡‰è©²ä½¿ç”¨<visual_style>çš„è¦–è¦ºé¢¨æ ¼

    Examples:
      | user_mode | mode_specific_ui | complexity_level | visual_style |
      | ç²¾æº–æ§åˆ¶è€… | è©³ç´°æŠ€è¡“é¸é … | å®Œæ•´åŠŸèƒ½ | å°ˆæ¥­æ·±è— |
      | ç´€éŒ„ç¿’æ…£è€… | å„ªé›…å‹•ç•«æ•ˆæœ | ç°¡åŒ–ç¾è§€ | å„ªé›…ç´«è‰² |
      | è½‰å‹æŒ‘æˆ°è€… | æ¿€å‹µæ€§å…ƒç´  | ç›®æ¨™å°å‘ | æ´»åŠ›æ©˜è‰² |
      | æ½›åœ¨è¦ºé†’è€… | è¶…å¤§æŒ‰éˆ• | æ¥µç°¡é¸é … | æº«å’Œç¶ è‰² |
```

### 18.2 éåŠŸèƒ½æ€§é©—æ”¶æ¨™æº–

#### 18.2.1 æ•ˆèƒ½é©—æ”¶æ¨™æº–
| æ•ˆèƒ½æŒ‡æ¨™ | é©—æ”¶æ¨™æº– | æ¸¬é‡æ–¹æ³• | é€šéæ¢ä»¶ |
|----------|----------|----------|----------|
| **é é¢è¼‰å…¥æ™‚é–“** | < 2ç§’ | First Contentful Paint | 90%çš„æ¸¬è©¦é€šé |
| **èªè­‰APIå›æ‡‰** | < 3ç§’ | APIå£“åŠ›æ¸¬è©¦ | 95%çš„è«‹æ±‚é”æ¨™ |
| **OAuthé‡å®šå‘** | < 5ç§’ | æ•´åˆæ¸¬è©¦ | 100%çš„æµç¨‹å®Œæˆ |
| **è¨˜æ†¶é«”ä½¿ç”¨** | < 50MB | å…§å­˜ç›£æ§ | æ•´å€‹æµç¨‹ä¸è¶…æ¨™ |
| **é›»æ± æ¶ˆè€—** | < 2%/å°æ™‚ | è£ç½®æ¸¬è©¦ | å„ç¨®è£ç½®é€šé |

#### 18.2.2 å®‰å…¨æ€§é©—æ”¶æ¨™æº–
```yaml
# å®‰å…¨æ€§é©—æ”¶æ¸¬è©¦æ¸…å–®
security_acceptance_tests:
  authentication:
    - å¯†ç¢¼å¼·åº¦é©—è­‰: PASS
    - JWTä»¤ç‰Œå®‰å…¨: PASS
    - OAuth PKCEå¯¦ä½œ: PASS
    - æœƒè©±ç®¡ç†: PASS
    - é »ç‡é™åˆ¶: PASS

  data_protection:
    - æ•æ„Ÿè³‡æ–™åŠ å¯†: PASS
    - æœ¬åœ°å­˜å„²å®‰å…¨: PASS
    - å‚³è¼¸å±¤å®‰å…¨: PASS
    - è³‡æ–™æ¸…ç†å®Œæ•´æ€§: PASS

  vulnerability_testing:
    - SQLæ³¨å…¥é˜²è­·: PASS
    - XSSæ”»æ“Šé˜²è­·: PASS
    - CSRFæ”»æ“Šé˜²è­·: PASS
    - ä¸­é–“äººæ”»æ“Šé˜²è­·: PASS
```

#### 18.2.3 ç„¡éšœç¤™æ€§é©—æ”¶æ¨™æº–
```yaml
# ç„¡éšœç¤™æ€§é©—æ”¶æ¸¬è©¦æ¸…å–®
accessibility_acceptance_tests:
  wcag_compliance:
    - è‰²å½©å°æ¯”åº¦: PASS (4.5:1)
    - éµç›¤å°èˆª: PASS
    - è¢å¹•é–±è®€å™¨: PASS
    - ç„¦é»ç®¡ç†: PASS

  assistive_technology:
    - TalkBackæ”¯æ´: PASS (Android)
    - VoiceOveræ”¯æ´: PASS (iOS)
    - å¤§å­—é«”æ”¯æ´: PASS
    - é«˜å°æ¯”æ¨¡å¼: PASS

  usability:
    - è§¸æ§ç›®æ¨™å¤§å°: PASS (â‰¥44px)
    - æ“ä½œæ™‚é–“é™åˆ¶: PASS
    - éŒ¯èª¤è¨Šæ¯æ¸…æ™°åº¦: PASS
    - æ›¿ä»£è¼¸å…¥æ–¹æ³•: PASS
```

### 18.3 æ•´åˆé©—æ”¶æª¢æŸ¥æ¸…å–®

#### 18.3.1 APIæ•´åˆé©—æ”¶
- [ ] **F001 è¨»å†ŠAPI**ï¼šæ‰€æœ‰è¨»å†Šæ–¹å¼æ¸¬è©¦é€šé
- [ ] **F002 ç™»å…¥API**ï¼šæ‰€æœ‰èªè­‰æ–¹å¼æ¸¬è©¦é€šé  
- [ ] **F003 ç™»å‡ºAPI**ï¼šå¿«é€Ÿ/å®Œå…¨ç™»å‡ºæ¸¬è©¦é€šé
- [ ] **F004 å¸³è™Ÿåˆªé™¤API**ï¼šå®‰å…¨åˆªé™¤æµç¨‹æ¸¬è©¦é€šé
- [ ] **F005 å¯†ç¢¼é‡è¨­API**ï¼šä¸‰éšæ®µæµç¨‹æ¸¬è©¦é€šé

#### 18.3.2 ä½¿ç”¨è€…é«”é©—é©—æ”¶
- [ ] **å°èˆªæµæš¢æ€§**ï¼šæ‰€æœ‰é é¢é–“å°èˆªç„¡å¡é “
- [ ] **éŒ¯èª¤è™•ç†**ï¼šæ‰€æœ‰éŒ¯èª¤æƒ…å¢ƒéƒ½æœ‰é©ç•¶è™•ç†
- [ ] **è¼‰å…¥ç‹€æ…‹**ï¼šæ‰€æœ‰éåŒæ­¥æ“ä½œéƒ½æœ‰è¼‰å…¥æŒ‡ç¤º
- [ ] **å›é¥‹æ©Ÿåˆ¶**ï¼šæ‰€æœ‰æ“ä½œéƒ½æœ‰æ˜ç¢ºçš„æˆåŠŸ/å¤±æ•—å›é¥‹

#### 18.3.3 å››æ¨¡å¼ä¸€è‡´æ€§é©—æ”¶
- [ ] **è¦–è¦ºä¸€è‡´æ€§**ï¼šå„æ¨¡å¼è¦–è¦ºå…ƒç´ ç¬¦åˆè¨­è¨ˆè¦ç¯„
- [ ] **åŠŸèƒ½ä¸€è‡´æ€§**ï¼šæ ¸å¿ƒåŠŸèƒ½åœ¨å„æ¨¡å¼éƒ½æ­£å¸¸é‹ä½œ
- [ ] **é«”é©—å·®ç•°åŒ–**ï¼šå„æ¨¡å¼éƒ½æœ‰ç¨ç‰¹çš„ä½¿ç”¨è€…é«”é©—
- [ ] **åˆ‡æ›é †æš¢æ€§**ï¼šæ¨¡å¼é–“åˆ‡æ›ç„¡è³‡æ–™éºå¤±

---

## 19. ç‰ˆæœ¬è¨˜éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹è€… | ä¿®æ”¹å…§å®¹ |
|------|------|--------|----------|
| **v2.0.0** | **2025-08-07** | **LCAS SA Team** | **ğŸ‰ é‡å¤§ç‰ˆæœ¬ï¼šèªè­‰æµç¨‹ç¾¤çµ„æ•´åˆSRSåˆç‰ˆå»ºç«‹** |
|  |  |  | **â€¢ æ•´åˆP001-P005äº”å€‹èªè­‰é é¢ç‚ºçµ±ä¸€ç¾¤çµ„** |
|  |  |  | **â€¢ å»ºç«‹å®Œæ•´çš„APIç«¯é»å°ç…§è¡¨ï¼ˆF001-F005ï¼‰** |
|  |  |  | **â€¢ å¯¦ä½œå››æ¨¡å¼å·®ç•°åŒ–èªè­‰é«”é©—è¨­è¨ˆ** |
|  |  |  | **â€¢ å»ºç«‹ç¾¤çµ„ç´šå®‰å…¨æ¶æ§‹èˆ‡ç‹€æ…‹ç®¡ç†** |
|  |  |  | **â€¢ å®Œæ•´çš„WCAG 2.1 AAç„¡éšœç¤™æ”¯æ´è¦ç¯„** |
|  |  |  | **â€¢ å»ºç«‹æ•ˆèƒ½ç›£æ§èˆ‡åˆ†ææ¡†æ¶** |
|  |  |  | **â€¢ åˆ¶å®šè©³ç´°çš„æ•´åˆé©—æ”¶æ¨™æº–** |

### 19.1 æ•´åˆé‡Œç¨‹ç¢‘

#### 19.1.1 v2.0.0 é‡å¤§æ•´åˆæˆæœ
```
ğŸ¯ æ•´åˆç¯„åœï¼šP001-P005 (5å€‹é é¢)
ğŸ“Š APIè¦†è“‹ï¼šF001-F005 (5å€‹ç«¯é») = 100%
ğŸ¨ å››æ¨¡å¼æ”¯æ´ï¼šå®Œæ•´å·®ç•°åŒ–é«”é©—è¨­è¨ˆ
ğŸ”’ å®‰å…¨ç­‰ç´šï¼šä¼æ¥­ç´šå®‰å…¨æ¶æ§‹
â™¿ ç„¡éšœç¤™ï¼šWCAG 2.1 AAæ¨™æº–å®Œæ•´æ”¯æ´
ğŸŒ åœ‹éš›åŒ–ï¼šä¸­è‹±é›™èªå®Œæ•´æ”¯æ´
ğŸ“± éŸ¿æ‡‰å¼ï¼šMobile-firstå®Œæ•´é©é…
âš¡ æ•ˆèƒ½ï¼š< 2ç§’è¼‰å…¥æ™‚é–“é”æ¨™
ğŸ§ª æ¸¬è©¦è¦†è“‹ï¼š100%åŠŸèƒ½æ¸¬è©¦è¦†è“‹
```

#### 19.1.2 æŠ€è¡“å‚µå‹™æ¸…ç†
- âœ… **çµ±ä¸€å‘½åè¦ç¯„**ï¼šæ¡ç”¨0015æ–‡ä»¶æ¨™æº–å‘½å
- âœ… **APIå°ç…§å®Œæ•´æ€§**ï¼šå»ºç«‹32å€‹APIçš„å®Œæ•´å°ç…§
- âœ… **è¨­è¨ˆç³»çµ±çµ±ä¸€**ï¼šå»ºç«‹ç¾¤çµ„ç´šè¨­è¨ˆç³»çµ±
- âœ… **å®‰å…¨æ¶æ§‹ç¾ä»£åŒ–**ï¼šå¯¦ä½œæœ€æ–°å®‰å…¨æ¨™æº–
- âœ… **æ•ˆèƒ½æœ€ä½³åŒ–**ï¼šå»ºç«‹æ•ˆèƒ½ç›£æ§æ©Ÿåˆ¶

#### 19.1.3 æœªä¾†ç™¼å±•è·¯ç·šåœ–
```
ğŸ“ˆ Phase 2 (v2.1.0)ï¼šé ç®—ç®¡ç†ç¾¤çµ„æ•´åˆ (P026-P035)
ğŸ“ˆ Phase 3 (v2.2.0)ï¼šå¤šå¸³æœ¬ç¾¤çµ„æ•´åˆ (P016-P025)  
ğŸ“ˆ Phase 4 (v2.3.0)ï¼šå”ä½œåŠŸèƒ½ç¾¤çµ„æ•´åˆ (P036-P045)
ğŸ“ˆ Phase 5 (v2.4.0)ï¼šå ±è¡¨åŠŸèƒ½ç¾¤çµ„æ•´åˆ (P046-P055)
ğŸ“ˆ Phase 6 (v2.5.0)ï¼šç³»çµ±ç®¡ç†ç¾¤çµ„æ•´åˆ (P056-P065)
ğŸ“ˆ Phase 7 (v3.0.0)ï¼šå…¨ç¾¤çµ„æ•´åˆèˆ‡æœ€ä½³åŒ–
```

---

## å‚™è¨»

### ğŸ“Œ é‡è¦æé†’
- **æœ¬æ–‡ä»¶æ˜¯ç¾¤çµ„æ•´åˆçš„é¦–å€‹ç¤ºç¯„**ï¼šç‚ºå¾ŒçºŒ6å€‹ç¾¤çµ„æ•´åˆå»ºç«‹æ¨™æº–æ¨¡æ¿
- **å››æ¨¡å¼å·®ç•°åŒ–æ˜¯æ ¸å¿ƒç‰¹è‰²**ï¼šæ¯å€‹åŠŸèƒ½éƒ½å¿…é ˆè€ƒæ…®å››ç¨®æ¨¡å¼çš„å·®ç•°åŒ–é«”é©—
- **å®‰å…¨æ€§æ˜¯æœ€é«˜å„ªå…ˆç´š**ï¼šæ‰€æœ‰èªè­‰ç›¸é—œåŠŸèƒ½éƒ½å¿…é ˆé€šéåš´æ ¼çš„å®‰å…¨æª¢æŸ¥
- **ç„¡éšœç¤™æ”¯æ´æ˜¯å¿…è¦æ¢ä»¶**ï¼šå¿…é ˆé”åˆ°WCAG 2.1 AAæ¨™æº–

### ğŸ¯ è¨­è¨ˆç›®æ¨™é”æˆåº¦
- âœ… **ä½¿ç”¨è€…é«”é©—**ï¼šå››æ¨¡å¼å·®ç•°åŒ–é«”é©—å®Œæ•´è¨­è¨ˆ
- âœ… **æŠ€è¡“æ¶æ§‹**ï¼šç¾ä»£åŒ–ã€å¯æ“´å±•çš„æŠ€è¡“æ¶æ§‹
- âœ… **å®‰å…¨é˜²è­·**ï¼šä¼æ¥­ç´šå®‰å…¨æ¶æ§‹èˆ‡å¯¦ä½œ
- âœ… **æ•ˆèƒ½æœ€ä½³åŒ–**ï¼šè¡Œå‹•å„ªå…ˆçš„æ•ˆèƒ½è¨­è¨ˆ
- âœ… **å¯ç¶­è­·æ€§**ï¼šæ¸…æ™°çš„ç¨‹å¼ç¢¼çµæ§‹èˆ‡æ–‡ä»¶

### ğŸš€ ä¸‹ä¸€æ­¥è¡Œå‹•
1. **å¯¦ä½œé©—è­‰**ï¼šå°‡æ­¤æ•´åˆSRSè½‰æ›ç‚ºå¯¦éš›ç¨‹å¼ç¢¼
2. **æ¸¬è©¦é©—æ”¶**ï¼šåŸ·è¡Œå®Œæ•´çš„æ•´åˆæ¸¬è©¦èˆ‡é©—æ”¶
3. **æ•ˆèƒ½èª¿å„ª**ï¼šæ ¹æ“šå¯¦éš›æ¸¬è©¦çµæœé€²è¡Œæ•ˆèƒ½æœ€ä½³åŒ–
4. **ä½¿ç”¨è€…æ¸¬è©¦**ï¼šé€²è¡Œå››æ¨¡å¼ä½¿ç”¨è€…é«”é©—æ¸¬è©¦
5. **æº–å‚™ä¸‹ä¸€ç¾¤çµ„**ï¼šåŸºæ–¼æ­¤æ¨¡æ¿æ•´åˆä¸‹ä¸€å€‹ç¾¤çµ„

---

**ğŸ‰ èªè­‰æµç¨‹ç¾¤çµ„æ•´åˆSRS v2.0.0 - ç‚ºLCAS 2.0å»ºç«‹å®‰å…¨ã€é«˜æ•ˆã€ç„¡éšœç¤™çš„èªè­‰é«”é©—åŸºç¤ï¼**