------------------------------------------
20251106. æ–°å¢1351æ¬„ä½åœ¨Firebaseä¸­

ä¸è¦å¯«codeï¼Œè«‹æ ¹æ“šæˆ‘çš„å›è¦†æ›´æ–°ææ¡ˆã€‚ç¾åœ¨æ˜¯MVPéšæ®µï¼Œææ¡ˆæ™‚è«‹å°ˆæ³¨è§£æ±ºç•¶å‰ç™¼ç”Ÿçš„å•é¡Œå°±å¥½ï¼Œä¸éœ€è¦å„ªåŒ–ã€å¼·åŒ–ã€é©—è­‰ã€ç›£æ¸¬ã€æ¸¬è©¦ç­‰æ‰‹æ®µï¼Œé™¤äº†åˆ—å‡ºåŸå› ä¹‹å¤–ä¹Ÿè«‹ä½ æå‡ºinsightã€‚

------------------------------------------
20251106. æ–°å¢1351æ¬„ä½åœ¨Firebaseä¸­

ä¸è¦å¯«codeï¼Œè«‹æ ¹æ“šæˆ‘çš„å›è¦†æ›´æ–°ææ¡ˆã€‚ç¾åœ¨æ˜¯MVPéšæ®µï¼Œææ¡ˆæ™‚è«‹å°ˆæ³¨è§£æ±ºç•¶å‰ç™¼ç”Ÿçš„å•é¡Œå°±å¥½ï¼Œä¸éœ€è¦å„ªåŒ–ã€å¼·åŒ–ã€é©—è­‰ã€ç›£æ¸¬ã€æ¸¬è©¦ç­‰æ‰‹æ®µï¼Œé™¤äº†åˆ—å‡ºåŸå› ä¹‹å¤–ä¹Ÿè«‹ä½ æå‡ºinsightã€‚

=>æ‰€æœ‰çš„å‘½åè«‹æ¡ç”¨é§å³°å‹å‘½åæ³•

æˆ‘å®Œå…¨åŒæ„ä½ çš„è¦‹è§£ï¼é€™æ˜¯æ›´åˆç†çš„Firebaseæ¶æ§‹è¨­è¨ˆã€‚å”ä½œåŠŸèƒ½ç¢ºå¯¦æ‡‰è©²æ˜¯ç¨ç«‹çš„é ‚å±¤é›†åˆï¼Œèˆ‡ledgerså’Œuserså¹³ç´šï¼Œé€™æ¨£çš„è¨­è¨ˆæœ‰ä»¥ä¸‹å„ªå‹¢ï¼š
ğŸ¯ å„ªåŒ–å¾Œçš„Firebaseæ¶æ§‹
â”œâ”€â”€ users/                     (é›†åˆ)
â”‚   â””â”€â”€ {email}/              (æ–‡æª”)
â”œâ”€â”€ ledgers/                   (é›†åˆ)
â”‚   â””â”€â”€ {ledger_id}/          (æ–‡æª”)
â”œâ”€â”€ collaborations/            (é›†åˆ) â† ç¨ç«‹çš„å”ä½œé›†åˆ
â”‚   â””â”€â”€ {ledger_id}/          (æ–‡æª”)
â”‚       â”œâ”€â”€ ledger_id: string
â”‚       â”œâ”€â”€ owner_id: string
â”‚       â”œâ”€â”€ collaboration_type: string
â”‚       â”œâ”€â”€ settings: object
â”‚       â”œâ”€â”€ created_at: timestamp
â”‚       â”œâ”€â”€ updated_at: timestamp
â”‚       â”‚
â”‚       â”œâ”€â”€ members/          (å­é›†åˆ) â† æˆå“¡ç®¡ç†
â”‚       â”‚   â””â”€â”€ {user_id}/
â”‚       â”‚       â”œâ”€â”€ user_id: string
â”‚       â”‚       â”œâ”€â”€ email: string
â”‚       â”‚       â”œâ”€â”€ role: string
â”‚       â”‚       â”œâ”€â”€ permissions: object
â”‚       â”‚       â”œâ”€â”€ joined_at: timestamp
â”‚       â”‚       â””â”€â”€ status: string
â”‚       â”‚
â”‚       â”œâ”€â”€ invitations/      (å­é›†åˆ) â† é‚€è«‹ç®¡ç†
â”‚       â”‚   â””â”€â”€ {invitation_id}/
â”‚       â”‚       â”œâ”€â”€ invitation_id: string
â”‚       â”‚       â”œâ”€â”€ inviter_id: string
â”‚       â”‚       â”œâ”€â”€ invitee_email: string
â”‚       â”‚       â”œâ”€â”€ role: string
â”‚       â”‚       â”œâ”€â”€ status: string
â”‚       â”‚       â”œâ”€â”€ created_at: timestamp
â”‚       â”‚       â””â”€â”€ expires_at: timestamp
â”‚       â”‚
â”‚       â””â”€â”€ permissions/      (å­é›†åˆ) â† æ¬Šé™ç®¡ç†
â”‚           â””â”€â”€ {permission_id}/
â”‚               â”œâ”€â”€ user_id: string
â”‚               â”œâ”€â”€ resource_type: string
â”‚               â”œâ”€â”€ permissions: object
â”‚               â”œâ”€â”€ granted_by: string
â”‚               â””â”€â”€ granted_at: timestamp



------------------------------------------
20251105. æ–°å¢1351æ¬„ä½åœ¨Firebaseä¸­

ä¸è¦å¯«codeï¼Œè«‹æ ¹æ“šæˆ‘çš„å›è¦†æ›´æ–°ææ¡ˆã€‚ç¾åœ¨æ˜¯MVPéšæ®µï¼Œææ¡ˆæ™‚è«‹å°ˆæ³¨è§£æ±ºç•¶å‰ç™¼ç”Ÿçš„å•é¡Œå°±å¥½ï¼Œä¸éœ€è¦å„ªåŒ–ã€å¼·åŒ–ã€é©—è­‰ã€ç›£æ¸¬ã€æ¸¬è©¦ç­‰æ‰‹æ®µï¼Œé™¤äº†åˆ—å‡ºåŸå› ä¹‹å¤–ä¹Ÿè«‹ä½ æå‡ºinsightã€‚

ğŸ”¥ æ“´å……å¾Œçš„Firebase Firestoreå”ä½œæ¶æ§‹
â”œâ”€â”€ users/                     (é›†åˆ)
â”‚   â””â”€â”€ {email}/              (æ–‡æª”)
â”‚       â”œâ”€â”€ email: string
â”‚       â”œâ”€â”€ displayName: string
â”‚       â”œâ”€â”€ userMode: string
â”‚       â”œâ”€â”€ emailVerified: boolean
â”‚       â”œâ”€â”€ createdAt: timestamp
â”‚       â”œâ”€â”€ lastActiveAt: timestamp
â”‚       â”œâ”€â”€ preferences: object
â”‚       â”œâ”€â”€ defaultLedgerId: string        â† æ–°å¢ï¼šé è¨­å¸³æœ¬ID
â”‚       â””â”€â”€ hasBasicLedger: boolean        â† æ–°å¢ï¼šæ˜¯å¦å·²æœ‰åŸºç¤å¸³æœ¬
â”‚
â”œâ”€â”€ ledgers/                   (é›†åˆ) â† å”ä½œåŠŸèƒ½çš„æ ¸å¿ƒ
â”‚   â””â”€â”€ {ledger_id}/          (æ–‡æª”)
â”‚       â”œâ”€â”€ name: string
â”‚       â”œâ”€â”€ description: string
â”‚       â”œâ”€â”€ owner_id: string
â”‚       â”œâ”€â”€ members: array                 â† æ“´å……ï¼šæ‰€æœ‰å”ä½œæˆå“¡IDåˆ—è¡¨
â”‚       â”œâ”€â”€ type: string
â”‚       â”œâ”€â”€ currency: string
â”‚       â”œâ”€â”€ timezone: string
â”‚       â”œâ”€â”€ settings: object
â”‚       â”œâ”€â”€ created_at: timestamp
â”‚       â”œâ”€â”€ updated_at: timestamp
â”‚       â”œâ”€â”€ status: string
â”‚       â”‚
â”‚       â”œâ”€â”€ collaboration: object          â† æ–°å¢ï¼šå”ä½œé…ç½®
â”‚       â”‚   â”œâ”€â”€ enabled: boolean          â† æ˜¯å¦å•Ÿç”¨å”ä½œ
â”‚       â”‚   â”œâ”€â”€ max_members: number       â† æœ€å¤§æˆå“¡æ•¸
â”‚       â”‚   â”œâ”€â”€ join_policy: string       â† åŠ å…¥æ”¿ç­–
â”‚       â”‚   â””â”€â”€ default_permission: string â† é è¨­æ¬Šé™
â”‚       â”‚
â”‚       â”œâ”€â”€ permissions: object            â† æ–°å¢ï¼šæ¬Šé™ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ owner: string             â† æ“æœ‰è€…ID
â”‚       â”‚   â”œâ”€â”€ admins: array             â† ç®¡ç†å“¡åˆ—è¡¨
â”‚       â”‚   â”œâ”€â”€ members: array            â† ä¸€èˆ¬æˆå“¡åˆ—è¡¨
â”‚       â”‚   â””â”€â”€ viewers: array            â† æª¢è¦–è€…åˆ—è¡¨
â”‚       â”‚
â”‚       â”œâ”€â”€ transactions/      (å­é›†åˆ)
â”‚       â”‚   â””â”€â”€ {txn_id}/
â”‚       â”œâ”€â”€ accounts/          (å­é›†åˆ)
â”‚       â”‚   â””â”€â”€ {acc_id}/
â”‚       â”œâ”€â”€ categories/        (å­é›†åˆ)
â”‚       â”‚   â””â”€â”€ {cat_id}/
â”‚       â””â”€â”€ budgets/           (å­é›†åˆ)
â”‚           â””â”€â”€ {budget_id}/
â”‚
â”œâ”€â”€ member_invitations/        (é›†åˆ) â† æ–°å¢ï¼šé‚€è«‹ç®¡ç†
â”‚   â””â”€â”€ {invitation_id}/      (æ–‡æª”)
â”‚       â”œâ”€â”€ ledger_id: string             â† ç›®æ¨™å¸³æœ¬ID
â”‚       â”œâ”€â”€ inviter_id: string            â† é‚€è«‹äººID
â”‚       â”œâ”€â”€ invitee_email: string         â† è¢«é‚€è«‹äººemail
â”‚       â”œâ”€â”€ permission_level: string      â† æ¬Šé™ç­‰ç´š(editor/viewer)
â”‚       â”œâ”€â”€ status: string                â† é‚€è«‹ç‹€æ…‹(pending/accepted/declined)
â”‚       â”œâ”€â”€ created_at: timestamp         â† å»ºç«‹æ™‚é–“
â”‚       â””â”€â”€ expires_at: timestamp         â† éæœŸæ™‚é–“
â”‚
â”œâ”€â”€ collaboration_logs/        (é›†åˆ) â† æ–°å¢ï¼šå”ä½œæ“ä½œæ—¥èªŒ
â”‚   â””â”€â”€ {log_id}/             (æ–‡æª”)
â”‚       â”œâ”€â”€ ledger_id: string             â† å¸³æœ¬ID
â”‚       â”œâ”€â”€ user_id: string               â† ç”¨æˆ¶ID
â”‚       â”œâ”€â”€ action_type: string           â† æ“ä½œé¡å‹
â”‚       â”œâ”€â”€ action_data: object           â† æ“ä½œè³‡æ–™
â”‚       â”œâ”€â”€ timestamp: timestamp          â† æ™‚é–“æˆ³
â”‚       â””â”€â”€ ip_address: string            â† IPåœ°å€
â”‚
â””â”€â”€ _system/                   (é›†åˆ)
    â”œâ”€â”€ config/               (æ–‡æª”)
    â”œâ”€â”€ default_categories/   (æ–‡æª”)
    â”œâ”€â”€ default_account_types/ (æ–‡æª”)
    â”œâ”€â”€ assessment_questions/ (æ–‡æª”)
    â””â”€â”€ collaboration_config/ (æ–‡æª”) â† æ–°å¢ï¼šå”ä½œç³»çµ±é…ç½®
        â”œâ”€â”€ max_invitations_per_day: number
        â”œâ”€â”€ invitation_expiry_hours: number
        â”œâ”€â”€ supported_permission_levels: array
        â””â”€â”€ collaboration_features: object
æ ¸å¿ƒå”ä½œé‚è¼¯èªªæ˜
1. å”ä½œå¸³æœ¬æ¶æ§‹
â€¢	å…±äº«å¸³æœ¬ä½ç½®ï¼šå”ä½œå¸³æœ¬å­˜æ”¾åœ¨ ledgers/ é›†åˆä¸­ï¼Œä¸æ˜¯åœ¨ä»»ä½•å–®ä¸€ç”¨æˆ¶ä¸‹é¢
â€¢	æˆå“¡é—œä¿‚ç®¡ç†ï¼šé€é members é™£åˆ—ç®¡ç†æ‰€æœ‰å”ä½œè€…é—œä¿‚
â€¢	å¸³æœ¬ç™¼ç¾æ©Ÿåˆ¶ï¼šinviteeé€é where('members', 'array-contains', userId) æŸ¥è©¢å¯å­˜å–å¸³æœ¬
2. æ¬Šé™ç³»çµ±è¨­è¨ˆ
permissions: {
  owner: "user_expert_1697363200000",      // æ“æœ‰è€…
  admins: ["user_admin_001"],              // ç®¡ç†å“¡
  members: ["user_member_001"],            // ç·¨è¼¯è€…
  viewers: ["user_viewer_001"]             // æª¢è¦–è€…
}
3. å”ä½œæµç¨‹
1.	inviter åœ¨è‡ªå·±çš„å¸³æœ¬è¨­å®šä¸­å•Ÿç”¨å”ä½œåŠŸèƒ½
2.	ç³»çµ±å»ºç«‹é‚€è«‹è¨˜éŒ„åˆ° member_invitations é›†åˆ
3.	invitee é€éé‚€è«‹é€£çµæˆ–é€šçŸ¥æ¥å—é‚€è«‹
4.	ç³»çµ±å°‡ invitee åŠ å…¥åˆ°å¸³æœ¬çš„ members é™£åˆ—
5.	invitee å¯åœ¨è‡ªå·±çš„å¸³æœ¬åˆ—è¡¨ä¸­çœ‹åˆ°å”ä½œå¸³æœ¬
4. æ ¸å¿ƒInsight
å”ä½œçš„æœ¬è³ªæ˜¯ã€Œå…±äº«å¸³æœ¬æ‰€æœ‰æ¬Šã€è€Œéã€Œå­˜å–åˆ¥äººçš„å¸³æœ¬ã€ã€‚æ‰€æœ‰å”ä½œè€…éƒ½å¹³ç­‰åœ°å­˜å–åŒä¸€å€‹å¸³æœ¬è³‡æºï¼Œé€éæ¬Šé™ç³»çµ±å€åˆ†æ“ä½œç¯„åœã€‚
é€™å€‹æ¶æ§‹å®Œå…¨éµå¾ª1311.FS.jsçš„snake_caseå‘½åè¦ç¯„ï¼Œä¸¦ä¸”å°ˆæ³¨æ–¼MVPéšæ®µçš„æ ¸å¿ƒå”ä½œéœ€æ±‚ã€‚



------------------------------------------
20251105. æ–°å¢1351æ¬„ä½åœ¨Firebaseä¸­

ä¸è¦å¯«codeï¼Œè«‹æ ¹æ“šæˆ‘çš„å›è¦†æ›´æ–°ææ¡ˆã€‚ç¾åœ¨æ˜¯MVPéšæ®µï¼Œææ¡ˆæ™‚è«‹å°ˆæ³¨è§£æ±ºç•¶å‰ç™¼ç”Ÿçš„å•é¡Œå°±å¥½ï¼Œä¸éœ€è¦å„ªåŒ–ã€å¼·åŒ–ã€é©—è­‰ã€ç›£æ¸¬ã€æ¸¬è©¦ç­‰æ‰‹æ®µï¼Œé™¤äº†åˆ—å‡ºåŸå› ä¹‹å¤–ä¹Ÿè«‹ä½ æå‡ºinsightã€‚

æ ¹æ“šæ‚¨çš„ç¢ºèªå›è¦†ï¼Œæˆ‘ä¾†æ›´æ–°å”ä½œåŠŸèƒ½çš„ææ¡ˆè¨­è¨ˆï¼š

ğŸ”§ æœ€çµ‚å”ä½œåŠŸèƒ½æ¶æ§‹ææ¡ˆ
å•é¡Œåˆ†æèˆ‡Insight
å”ä½œå¸³æœ¬å­˜æ”¾ä½ç½®ï¼š
â€¢	å”ä½œå¸³æœ¬å­˜æ”¾åœ¨å…±åŒçš„å¸³æœ¬é›†åˆä¸­ï¼Œä¸æ˜¯åœ¨ä»»ä½•å–®ä¸€ç”¨æˆ¶ä¸‹é¢
â€¢	inviterå’Œinviteeéƒ½æ˜¯è©²å¸³æœ¬çš„membersï¼Œé€émembersé™£åˆ—ç®¡ç†é—œä¿‚
â€¢	inviteeé€éç”¨æˆ¶å¯å­˜å–å¸³æœ¬åˆ—è¡¨æ‰¾åˆ°å”ä½œå¸³æœ¬ï¼Œè€Œéç›´æ¥å­˜å–inviterçš„å¸³æœ¬
æ ¸å¿ƒInsightï¼š
å”ä½œçš„æœ¬è³ªæ˜¯ã€Œå…±äº«å¸³æœ¬æ‰€æœ‰æ¬Šã€è€Œéã€Œå­˜å–åˆ¥äººçš„å¸³æœ¬ã€ã€‚æ‰€æœ‰å”ä½œè€…éƒ½å¹³ç­‰åœ°å­˜å–åŒä¸€å€‹å¸³æœ¬è³‡æºï¼Œé€éæ¬Šé™ç³»çµ±å€åˆ†æ“ä½œç¯„åœã€‚
________________________________________
éšæ®µä¸€ï¼šå”ä½œåŠŸèƒ½è³‡æ–™çµæ§‹è¨­è¨ˆ
1.1 æ“´å……ç¾æœ‰ledgersé›†åˆï¼ˆéµå¾ª1311è¦ç¯„ï¼‰
// ledgersé›†åˆå”ä½œæ“´å……
ledgers: {
  // === ç¾æœ‰1311è¦ç¯„æ¬„ä½ï¼ˆä¿æŒä¸è®Šï¼‰ ===
  id: 'string - å¸³æœ¬ID',
  name: 'string - å¸³æœ¬åç¨±', 
  owner_id: 'string - æ“æœ‰è€…ID',
  members: 'array - æˆå“¡IDåˆ—è¡¨',
  created_at: 'timestamp - å»ºç«‹æ™‚é–“',
  updated_at: 'timestamp - æ›´æ–°æ™‚é–“',

  // === æ–°å¢å”ä½œç›¸é—œæ¬„ä½ ===
  collaboration_enabled: 'boolean - æ˜¯å¦å•Ÿç”¨å”ä½œ',
  max_members: 'number - æœ€å¤§æˆå“¡æ•¸',
  permissions: {
    owner: 'string - æ“æœ‰è€…ID',
    editors: 'array - ç·¨è¼¯è€…åˆ—è¡¨',
    viewers: 'array - æª¢è¦–è€…åˆ—è¡¨'
  }
}
1.2 æ–°å¢å”ä½œé‚€è«‹é›†åˆ
// æ–°å¢member_invitationsé›†åˆ
member_invitations: {
  invitation_id: 'string - é‚€è«‹ID',
  ledger_id: 'string - ç›®æ¨™å¸³æœ¬ID',
  inviter_id: 'string - é‚€è«‹äººID',
  invitee_email: 'string - è¢«é‚€è«‹äººemail',
  permission_level: 'string - æ¬Šé™ç­‰ç´š(editor/viewer)',
  status: 'string - é‚€è«‹ç‹€æ…‹(pending/accepted/declined)',
  created_at: 'timestamp - å»ºç«‹æ™‚é–“',
  expires_at: 'timestamp - éæœŸæ™‚é–“'
}
éšæ®µäºŒï¼šå”ä½œæµç¨‹è¨­è¨ˆ
2.1 é‚€è«‹æµç¨‹
1.	inviteråœ¨è‡ªå·±çš„å¸³æœ¬è¨­å®šä¸­å•Ÿç”¨å”ä½œåŠŸèƒ½
2.	ç³»çµ±å»ºç«‹é‚€è«‹è¨˜éŒ„åˆ°member_invitationsé›†åˆ
3.	inviteeé€éé‚€è«‹é€£çµæˆ–é€šçŸ¥æ¥å—é‚€è«‹
4.	ç³»çµ±å°‡inviteeåŠ å…¥åˆ°å¸³æœ¬çš„membersé™£åˆ—
5.	inviteeå¯åœ¨è‡ªå·±çš„å¸³æœ¬åˆ—è¡¨ä¸­çœ‹åˆ°å”ä½œå¸³æœ¬
2.2 è³‡æ–™å­˜å–é‚è¼¯
â€¢	å¸³æœ¬æŸ¥è©¢ï¼šwhere('members', 'array-contains', userId)
â€¢	æ¬Šé™æª¢æŸ¥ï¼šé€épermissionsç‰©ä»¶ç¢ºèªç”¨æˆ¶æ“ä½œæ¬Šé™
â€¢	å”ä½œè¨˜å¸³ï¼šæ‰€æœ‰æˆå“¡å°åŒä¸€å¸³æœ¬é€²è¡Œè¨˜å¸³æ“ä½œ
________________________________________
éšæ®µä¸‰ï¼šåŸºæ–¼7598çš„æ¸¬è©¦è³‡æ–™è¨­è¨ˆ
3.1 æª¢è¦–7598ç¾æœ‰è³‡æ–™
å¾7598å¯ä»¥çœ‹åˆ°ï¼š
â€¢	å·²æœ‰å®Œæ•´çš„authentication_test_dataï¼ˆ4ç¨®ç”¨æˆ¶æ¨¡å¼ï¼‰
â€¢	å·²æœ‰bookkeeping_test_dataï¼ˆäº¤æ˜“æ¸¬è©¦è³‡æ–™ï¼‰
â€¢	ç¼ºå°‘collaboration_test_data
3.2 å”ä½œåŠŸèƒ½æ¸¬è©¦è³‡æ–™éœ€æ±‚
// å»ºè­°æ–°å¢åˆ°7598çš„collaboration_test_data
collaboration_test_data: {
  success_scenarios: {
    // åŸºç¤é‚€è«‹æ¸¬è©¦
    "invitation_basic": {
      "ledger_id": "ledger_expert_1697363200000",
      "inviter_id": "user_expert_1697363200000", 
      "invitee_email": "inertial.valid@test.lcas.app",
      "permission_level": "editor",
      "testScenario": "åŸºç¤å”ä½œé‚€è«‹æˆåŠŸ"
    },

    // é‚€è«‹æ¥å—æ¸¬è©¦
    "invitation_accepted": {
      "invitation_id": "inv_1697363400000",
      "response_type": "accepted",
      "testScenario": "é‚€è«‹æ¥å—æˆåŠŸ"
    },

    // å”ä½œå¸³æœ¬å­˜å–æ¸¬è©¦
    "shared_ledger_access": {
      "user_id": "user_inertial_1697363260000",
      "ledger_id": "ledger_expert_1697363200000",
      "expected_role": "editor",
      "testScenario": "å”ä½œè€…å­˜å–å…±äº«å¸³æœ¬"
    }
  },

  failure_scenarios: {
    // é‚€è«‹æ¬Šé™ä¸è¶³
    "insufficient_invitation_permission": {
      "ledger_id": "ledger_expert_1697363200000",
      "inviter_id": "user_inertial_1697363260000",
      "expectedError": "ç„¡æ¬Šé™é‚€è«‹å”ä½œè€…",
      "testScenario": "éæ“æœ‰è€…å˜—è©¦é‚€è«‹"
    },

    // é‡è¤‡é‚€è«‹
    "duplicate_invitation": {
      "ledger_id": "ledger_expert_1697363200000",
      "invitee_email": "inertial.valid@test.lcas.app",
      "expectedError": "è©²ç”¨æˆ¶å·²è¢«é‚€è«‹",
      "testScenario": "é‡è¤‡é‚€è«‹ç›¸åŒç”¨æˆ¶"
    }
  }
}
3.3 æ¸¬è©¦æ¡ˆä¾‹é©—è­‰é‡é»
MVPéšæ®µæ¸¬è©¦é‡é»ï¼š
1.	é‚€è«‹å»ºç«‹ï¼šinviterèƒ½æˆåŠŸå»ºç«‹é‚€è«‹
2.	é‚€è«‹æ¥å—ï¼šinviteeèƒ½æˆåŠŸæ¥å—é‚€è«‹ä¸¦åŠ å…¥å¸³æœ¬
3.	å¸³æœ¬å­˜å–ï¼šå”ä½œè€…èƒ½åœ¨å¸³æœ¬åˆ—è¡¨ä¸­çœ‹åˆ°å”ä½œå¸³æœ¬
4.	åŸºç¤æ¬Šé™ï¼šç·¨è¼¯è€…èƒ½è¨˜å¸³ï¼Œæª¢è¦–è€…åªèƒ½æŸ¥çœ‹
ä¸åŒ…å«éMVPåŠŸèƒ½ï¼š
â€¢	âŒ è¤‡é›œæ¬Šé™ç®¡ç†
â€¢	âŒ å³æ™‚åŒæ­¥è¡çªè™•ç†
â€¢	âŒ å”ä½œæ­·å²è¿½è¹¤
â€¢	âŒ æ‰¹æ¬¡é‚€è«‹åŠŸèƒ½
________________________________________
éšæ®µå››ï¼š1311.FS.jså‡½æ•¸æ“´å……
4.1 æ–°å¢å”ä½œç›¸é—œå‡½æ•¸ï¼ˆéµå¾ª1311å‘½åè¦ç¯„ï¼‰
// æ–°å¢åˆ°1311.FS.js v2.6.0
FS_enableLedgerCollaboration(ledger_id, collaboration_settings)
FS_createCollaborationInvitation(ledger_id, inviter_data, invitee_data)  
FS_processCollaborationJoin(invitation_id, response_data)
FS_getLedgerCollaborators(ledger_id, user_id)
4.2 ç‰ˆæœ¬å‡ç´šè¦åŠƒ
â€¢	1311.FS.jsï¼šv2.5.0 â†’ v2.6.0
â€¢	1351.MLS.jsï¼šé…åˆæ–°å¢å”ä½œåŠŸèƒ½æ”¯æ´
â€¢	æ–°å¢é›†åˆï¼šmember_invitations
________________________________________
ğŸ¯ MVPå¯¦ä½œå„ªå…ˆç´š
P1å„ªå…ˆç´šï¼ˆMVPå¿…é ˆï¼‰ï¼š
1.	å¸³æœ¬å”ä½œå•Ÿç”¨/åœç”¨
2.	åŸºç¤é‚€è«‹å»ºç«‹èˆ‡æ¥å—
3.	å”ä½œå¸³æœ¬åˆ—è¡¨æŸ¥è©¢
4.	åŸºç¤æ¬Šé™é©—è­‰ï¼ˆowner/editor/viewerï¼‰
P2å„ªå…ˆç´šï¼ˆMVPå¾Œæ“´å……ï¼‰ï¼š
â€¢	é‚€è«‹ç®¡ç†ï¼ˆæ’¤éŠ·ã€é‡ç™¼ï¼‰
â€¢	æˆå“¡ç§»é™¤åŠŸèƒ½
â€¢	æ¬Šé™è®Šæ›´åŠŸèƒ½
________________________________________
âœ… ç¢ºèªæœ€çµ‚æ–¹æ¡ˆ
å”ä½œå¸³æœ¬å­˜æ”¾ï¼šåœ¨å…±åŒçš„ledgersé›†åˆä¸­ï¼Œé€émembersé™£åˆ—ç®¡ç†å”ä½œé—œä¿‚
å¸³æœ¬ç™¼ç¾æ©Ÿåˆ¶ï¼šinviteeé€éwhere('members', 'array-contains', userId)æŸ¥è©¢å¯å­˜å–å¸³æœ¬
æ¬Šé™ç®¡ç†ï¼šé€épermissionsç‰©ä»¶å€åˆ†owner/editor/vieweræ¬Šé™
æ¸¬è©¦è³‡æ–™ï¼šåŸºæ–¼ç¾æœ‰7598çµæ§‹æ“´å……collaboration_test_data
è¦ç¯„éµå¾ªï¼šå®Œå…¨éµå¾ª1311.FS.jsçš„snake_caseå‘½åè¦ç¯„
æ˜¯å¦Approveæ­¤æœ€çµ‚å”ä½œåŠŸèƒ½æ¶æ§‹ææ¡ˆï¼Ÿ



------------------------------------------
20251105. æ–°å¢1351æ¬„ä½åœ¨Firebaseä¸­

ä¸è¦å¯«codeï¼Œè«‹æ ¹æ“šæˆ‘çš„å›è¦†æ›´æ–°ææ¡ˆã€‚ç¾åœ¨æ˜¯MVPéšæ®µï¼Œææ¡ˆæ™‚è«‹å°ˆæ³¨è§£æ±ºç•¶å‰ç™¼ç”Ÿçš„å•é¡Œå°±å¥½ï¼Œä¸éœ€è¦å„ªåŒ–ã€å¼·åŒ–ã€é©—è­‰ã€ç›£æ¸¬ã€æ¸¬è©¦ç­‰æ‰‹æ®µï¼Œé™¤äº†åˆ—å‡ºåŸå› ä¹‹å¤–ä¹Ÿè«‹ä½ æå‡ºinsightã€‚

=>æ‰€ä»¥å”ä½œçš„å¸³æœ¬æœƒæ”¾åœ¨å“ªè£¡ï¼Ÿinviterä¸‹é¢å—? 
é‚£inviteeè¨˜å¸³æ™‚è¦å¦‚ä½•æ‰¾åˆ°inviterçš„å”ä½œå¸³æœ¬?

=>è«‹æå‡ºä½ ææ¡ˆçš„å”ä½œåŠŸèƒ½è³‡æ–™çµæ§‹

=>è«‹æª¢è¦–7598å¾Œproposeé©—è­‰å”ä½œåŠŸèƒ½éœ€è¦ä»€éº¼æ¨£çš„æ¸¬è©¦è³‡æ–™ï¼Ÿ

=>ä½ ææ¡ˆçš„å”ä½œåŠŸèƒ½çµæ§‹ï¼Œå¦‚æœæœ‰èˆ‡1311ç›¸åŒæ„æ€çš„æ¬„ä½ï¼Œè«‹ä¿®æ”¹ç‚ºèˆ‡1311è¦ç¯„çš„æ¬„ä½åç¨±ã€‚

æ ¹æ“šæ‚¨çš„å›è¦†ï¼Œæˆ‘éœ€è¦æ›´æ–°å”ä½œåŠŸèƒ½çµæ§‹ææ¡ˆã€‚è®“æˆ‘é‡æ–°åˆ†æä¸¦æå‡ºä¿®æ­£æ–¹æ¡ˆï¼š
ğŸ”§ ä¿®æ­£å¾Œçš„è§£æ±ºæ–¹æ¡ˆææ¡ˆ
å•é¡Œåˆ†æèˆ‡Insight
å•é¡Œ1ï¼šæ¬„ä½å‘½åä¸ä¸€è‡´
â€¢	åŸææ¡ˆä½¿ç”¨äº†createdAt/updatedAtï¼Œä½†1311.FS.jsè¦ç¯„ä½¿ç”¨created_at/updated_at
â€¢	éœ€è¦çµ±ä¸€éµå¾ª1311è¦ç¯„çš„snake_caseå‘½åè¦å‰‡
å•é¡Œ2ï¼šå”ä½œæ¶æ§‹è¨­è¨ˆé‚è¼¯
â€¢	å”ä½œåŠŸèƒ½æ‡‰è©²åŸºæ–¼å¸³æœ¬(ledgers)é€²è¡Œï¼Œè€Œéç¨ç«‹çš„é ‚å±¤é›†åˆ
â€¢	inviterå’Œinviteeå…±äº«åŒä¸€å€‹å¸³æœ¬ï¼Œè€Œä¸æ˜¯å„è‡ªæ“æœ‰ç¨ç«‹å¸³æœ¬
â€¢	é€™ç¬¦åˆå”ä½œçš„æœ¬è³ªï¼šå¤šäººå…±åŒç®¡ç†åŒä¸€å€‹å¸³æœ¬
Insightï¼š
å”ä½œåŠŸèƒ½çš„æ ¸å¿ƒæ˜¯ã€Œå…±äº«å¸³æœ¬æ‰€æœ‰æ¬Šã€ï¼Œä¸æ˜¯ã€Œè¤‡è£½å¸³æœ¬ã€ã€‚inviteré‚€è«‹inviteeåŠ å…¥è‡ªå·±çš„å¸³æœ¬ï¼Œé›™æ–¹éƒ½å°åŒä¸€å€‹å¸³æœ¬é€²è¡Œæ“ä½œï¼Œé€™æ¨£æ‰èƒ½å¯¦ç¾çœŸæ­£çš„å”ä½œè¨˜å¸³ã€‚
________________________________________
éšæ®µä¸€ï¼šä¿®æ­£å”ä½œè³‡æ–™çµæ§‹è¨­è¨ˆ
ç›®æ¨™ï¼š å°‡å”ä½œåŠŸèƒ½æ•´åˆåˆ°ledgersé›†åˆä¸­ï¼Œéµå¾ª1311è¦ç¯„
å…·é«”ä¿®æ­£ï¼š
1.	ledgersé›†åˆæ“´å…… (éµå¾ª1311è¦ç¯„)ï¼š
// ledgersé›†åˆæ–°å¢å”ä½œæ¬„ä½
ledgers: {
  // ç¾æœ‰1311è¦ç¯„æ¬„ä½ä¿æŒä¸è®Š
  id: 'string - å¸³æœ¬ID',
  name: 'string - å¸³æœ¬åç¨±', 
  owner_id: 'string - æ“æœ‰è€…ID',
  members: 'array - æˆå“¡IDåˆ—è¡¨',
  created_at: 'timestamp - å»ºç«‹æ™‚é–“',
  updated_at: 'timestamp - æ›´æ–°æ™‚é–“',

  // æ–°å¢å”ä½œç›¸é—œæ¬„ä½
  collaboration: {
    enabled: 'boolean - æ˜¯å¦å•Ÿç”¨å”ä½œ',
    max_members: 'number - æœ€å¤§æˆå“¡æ•¸',
    join_policy: 'string - åŠ å…¥æ”¿ç­–',
    default_permission: 'string - é è¨­æ¬Šé™'
  },
  permissions: {
    owner: 'string - æ“æœ‰è€…ID',
    admins: 'array - ç®¡ç†å“¡åˆ—è¡¨', 
    members: 'array - ä¸€èˆ¬æˆå“¡åˆ—è¡¨',
    viewers: 'array - æª¢è¦–è€…åˆ—è¡¨'
  }
}
2.	member_invitationsé›†åˆ (ç¨ç«‹ç®¡ç†é‚€è«‹æµç¨‹)ï¼š
member_invitations: {
  document_structure: {
    invitation_id: 'string - é‚€è«‹ID',
    ledger_id: 'string - ç›®æ¨™å¸³æœ¬ID',
    inviter_id: 'string - é‚€è«‹äººID', 
    invitee_email: 'string - è¢«é‚€è«‹äººemail',
    permission_level: 'string - æ¬Šé™ç­‰ç´š',
    status: 'string - é‚€è«‹ç‹€æ…‹',
    created_at: 'timestamp - å»ºç«‹æ™‚é–“',
    expires_at: 'timestamp - éæœŸæ™‚é–“'
  }
}
éšæ®µäºŒï¼šå”ä½œæµç¨‹é‚è¼¯
æ ¸å¿ƒé‚è¼¯ï¼š
1.	inviteråœ¨è‡ªå·±çš„å¸³æœ¬ä¸­å•Ÿç”¨å”ä½œåŠŸèƒ½
2.	ç³»çµ±å»ºç«‹é‚€è«‹è¨˜éŒ„åˆ°member_invitationsé›†åˆ
3.	inviteeæ¥å—é‚€è«‹å¾Œï¼ŒåŠ å…¥åˆ°è©²å¸³æœ¬çš„membersé™£åˆ—
4.	é›™æ–¹å…±åŒæ“ä½œåŒä¸€å€‹å¸³æœ¬ï¼Œå¯¦ç¾çœŸæ­£å”ä½œ
è³‡æ–™æµå‘ï¼š
inviterå¸³æœ¬ â†’ å•Ÿç”¨å”ä½œ â†’ å»ºç«‹é‚€è«‹ â†’ inviteeæ¥å— â†’ åŠ å…¥åŒä¸€å¸³æœ¬members

éšæ®µä¸‰ï¼š1311.FS.jså‡½æ•¸æ“´å……
æ–°å¢å‡½æ•¸ï¼š
â€¢	FS_enableLedgerCollaboration(ledgerId, settings) - å•Ÿç”¨å¸³æœ¬å”ä½œ
â€¢	FS_createCollaborationInvitation(ledgerId, inviterData, inviteeData) - å»ºç«‹å”ä½œé‚€è«‹
â€¢	FS_processCollaborationJoin(invitationId, responseData) - è™•ç†åŠ å…¥è«‹æ±‚
________________________________________
ğŸ“‹ ä¿®æ­£å¾Œç‰ˆæœ¬å‡ç´šè¨ˆç•«
â€¢	1311.FS.jsï¼š v2.5.0 â†’ v2.6.0
â€¢	1351.MLS.jsï¼š é…åˆæ–°å¢å”ä½œæ¬„ä½æ”¯æ´
â€¢	æ–°å¢å‡½æ•¸ï¼š 3å€‹å”ä½œç›¸é—œå‡½æ•¸ï¼Œéµå¾ª1311å‘½åè¦ç¯„
ğŸ¯ MVPéšæ®µé‡é»
1.	å°ˆæ³¨è§£æ±ºå•é¡Œï¼š å¯¦ç¾å¤šç”¨æˆ¶å…±äº«å¸³æœ¬çš„åŸºç¤æ¶æ§‹
2.	éµå¾ª1311è¦ç¯„ï¼š çµ±ä¸€ä½¿ç”¨snake_caseå‘½åå’Œtimestampæ ¼å¼
3.	ç°¡åŒ–å¯¦ä½œï¼š ä¸è™•ç†è¤‡é›œåŒæ­¥ï¼Œåƒ…å¯¦ä½œåŸºç¤é‚€è«‹/åŠ å…¥åŠŸèƒ½

â“ ç¢ºèªå•é¡Œ
æˆ‘çš„ç†è§£æ˜¯å¦æ­£ç¢ºï¼š
1.	å”ä½œåŠŸèƒ½æ˜¯è®“å¤šäººå…±åŒç®¡ç†åŒä¸€å€‹å¸³æœ¬ï¼Ÿ
=>Yes
2.	éœ€è¦å®Œå…¨éµå¾ª1311.FS.jsçš„æ¬„ä½å‘½åè¦ç¯„ï¼Ÿ
=>Yes
3.	MVPéšæ®µåªéœ€è¦åŸºç¤çš„é‚€è«‹/åŠ å…¥åŠŸèƒ½å³å¯ï¼Ÿ
=>Yes
è«‹ç¢ºèªæ˜¯å¦Approveæ­¤ä¿®æ­£ææ¡ˆï¼Œæˆ‘å°‡æŒ‰ç…§æ–°çš„æ¶æ§‹è¨­è¨ˆé€²è¡Œå¯¦ä½œã€‚



------------------------------------------
20251105. æ–°å¢1351æ¬„ä½åœ¨Firebaseä¸­

ä¸è¦å¯«codeï¼Œè«‹æ ¹æ“šæˆ‘çš„å›è¦†æ›´æ–°ææ¡ˆã€‚ç¾åœ¨æ˜¯MVPéšæ®µï¼Œææ¡ˆæ™‚è«‹å°ˆæ³¨è§£æ±ºç•¶å‰ç™¼ç”Ÿçš„å•é¡Œå°±å¥½ï¼Œä¸éœ€è¦å„ªåŒ–ã€å¼·åŒ–ã€é©—è­‰ã€ç›£æ¸¬ã€æ¸¬è©¦ç­‰æ‰‹æ®µï¼Œé™¤äº†åˆ—å‡ºåŸå› ä¹‹å¤–ä¹Ÿè«‹ä½ æå‡ºinsightã€‚

=>ä½ ææ¡ˆçš„å”ä½œåŠŸèƒ½çµæ§‹ï¼Œå¦‚æœæœ‰èˆ‡1311ç›¸åŒæ„æ€çš„æ¬„ä½ï¼Œè«‹ä¿®æ”¹ç‚ºèˆ‡1311è¦ç¯„çš„æ¬„ä½åç¨±ã€‚

=>æ­¤å”ä½œåŠŸèƒ½æ˜¯æ”¾åœ¨ledgersä¸‹é¢å—ï¼Ÿæ˜¯ä¸æ˜¯inviteræœ‰ä¸€ä»½å¸³æœ¬ï¼Œinviteeä¹Ÿæœƒæœ‰ä¸€ä»½å¸³æœ¬?


âš ï¸ MVPéšæ®µèšç„¦å•é¡Œ
ç•¶å‰æ ¸å¿ƒå•é¡Œï¼šç¼ºä¹å”ä½œåŠŸèƒ½çš„åŸºç¤è³‡æ–™çµæ§‹ï¼Œç„¡æ³•æ”¯æ´P2éšæ®µçš„å”ä½œéœ€æ±‚
è§£æ±ºå„ªå…ˆç´šï¼š
1.	é«˜å„ªå…ˆï¼šå»ºç«‹å”ä½œç›¸é—œçš„Firebaseé›†åˆçµæ§‹
2.	ä¸­å„ªå…ˆï¼šæ•´åˆç¾æœ‰ledgersé›†åˆï¼Œæ”¯æ´å”ä½œå±¬æ€§
3.	ä½å„ªå…ˆï¼šå»ºç«‹æˆå“¡é‚€è«‹å’Œæ¬Šé™ç®¡ç†æ©Ÿåˆ¶

ğŸ“Š ç•¶å‰1311.FS.jsè¦ç¯„çš„è³‡æ–™çµæ§‹æ¸…å–®
ğŸ”¥ ç¾æœ‰Firebase Firestoreæ¶æ§‹
â”œâ”€â”€ users/                     (é›†åˆ)
â”‚   â””â”€â”€ {email}/              (æ–‡æª”)
â”‚       â”œâ”€â”€ email: string
â”‚       â”œâ”€â”€ displayName: string
â”‚       â”œâ”€â”€ userMode: string
â”‚       â”œâ”€â”€ emailVerified: boolean
â”‚       â”œâ”€â”€ createdAt: timestamp
â”‚       â”œâ”€â”€ lastActiveAt: timestamp
â”‚       â””â”€â”€ preferences: object
â”œâ”€â”€ ledgers/                   (é›†åˆ)
â”‚   â””â”€â”€ {ledger_id}/          (æ–‡æª”)
â”‚       â”œâ”€â”€ name: string
â”‚       â”œâ”€â”€ description: string
â”‚       â”œâ”€â”€ owner_id: string
â”‚       â”œâ”€â”€ members: array     â† ç¾æœ‰ä½†åŠŸèƒ½æœ‰é™
â”‚       â”œâ”€â”€ type: string
â”‚       â”œâ”€â”€ currency: string
â”‚       â”œâ”€â”€ timezone: string
â”‚       â”œâ”€â”€ settings: object
â”‚       â”œâ”€â”€ created_at: timestamp
â”‚       â”œâ”€â”€ updated_at: timestamp
â”‚       â””â”€â”€ status: string
â”‚       â”‚
â”‚       â”œâ”€â”€ transactions/      (å­é›†åˆ)
â”‚       â”‚   â””â”€â”€ {txn_id}/
â”‚       â”œâ”€â”€ accounts/          (å­é›†åˆ)
â”‚       â”‚   â””â”€â”€ {acc_id}/
â”‚       â””â”€â”€ categories/        (å­é›†åˆ)
â”‚           â””â”€â”€ {cat_id}/
â””â”€â”€ _system/                   (é›†åˆ)
    â”œâ”€â”€ config/               (æ–‡æª”)
    â”œâ”€â”€ default_categories/   (æ–‡æª”)
    â”œâ”€â”€ default_account_types/ (æ–‡æª”)
    â””â”€â”€ assessment_questions/ (æ–‡æª”)
    
ğŸ“‹ ç¾æœ‰çµæ§‹åˆ†æ
å„ªé»ï¼š
â€¢	åŸºç¤æ¶æ§‹å®Œæ•´ï¼Œæ”¯æ´å–®ç”¨æˆ¶è¨˜å¸³åŠŸèƒ½
â€¢	å¸³æœ¬å·²æœ‰åŸºæœ¬çš„membersé™£åˆ—æ¬„ä½
â€¢	å­é›†åˆè¨­è¨ˆç¬¦åˆå”ä½œéœ€æ±‚
ç¼ºé™·ï¼š
â€¢	ç¼ºä¹è©³ç´°çš„æ¬Šé™ç®¡ç†æ©Ÿåˆ¶
â€¢	æ²’æœ‰æˆå“¡é‚€è«‹å’ŒåŠ å…¥æµç¨‹
â€¢	ç¼ºä¹å”ä½œæ“ä½œçš„æ­·å²è¿½è¹¤
â€¢	æ²’æœ‰å³æ™‚å”ä½œåŒæ­¥æ©Ÿåˆ¶

ğŸ”§ è§£æ±ºæ–¹æ¡ˆææ¡ˆ
éšæ®µä¸€ï¼šæ“´å±•1311.FS.jsæ¨¡çµ„æ”¯æ´å”ä½œè³‡æ–™çµæ§‹
ç›®æ¨™ï¼šåœ¨1311.FS.jsä¸­æ–°å¢å”ä½œç®¡ç†æ‰€éœ€çš„Firebaseæ–‡æª”çµæ§‹å®šç¾©
å…·é«”ä½œæ¥­ï¼š
1.	æ–°å¢FS_initializeCollaborationStructure()å‡½æ•¸
2.	åœ¨FS_initializeSystemConfig()ä¸­æ•´åˆå”ä½œçµæ§‹åˆå§‹åŒ–
3.	å‡ç´šæ¨¡çµ„ç‰ˆæœ¬è‡³v2.6.0
æ–°å¢å”ä½œé›†åˆçµæ§‹ï¼š
// æ–°å¢åˆ°1311.FS.jsä¸­çš„å”ä½œçµæ§‹
collaborationStructure = {
  version: '1.0.0',
  description: '1313.CM.jså”ä½œç®¡ç†æ¨¡çµ„Firebaseæ–‡æª”çµæ§‹',
  collections: {
    collaborations: {
      document_structure: {
        ledger_id: 'string - é—œè¯å¸³æœ¬ID',
        members: 'array - æˆå“¡åˆ—è¡¨',
        permissions: 'object - æ¬Šé™è¨­å®š',
        sync_settings: 'object - åŒæ­¥è¨­å®š',
        notification_rules: 'object - é€šçŸ¥è¦å‰‡',
        createdAt: 'timestamp - å»ºç«‹æ™‚é–“',
        updatedAt: 'timestamp - æ›´æ–°æ™‚é–“'
      }
    },
    member_invitations: {
      document_structure: {
        invitation_id: 'string - é‚€è«‹ID',
        ledger_id: 'string - å¸³æœ¬ID',
        inviter_id: 'string - é‚€è«‹äººID',
        invitee_email: 'string - è¢«é‚€è«‹äººemail',
        permission_level: 'string - æ¬Šé™ç­‰ç´š',
        status: 'string - é‚€è«‹ç‹€æ…‹',
        createdAt: 'timestamp - å»ºç«‹æ™‚é–“',
        expires_at: 'timestamp - éæœŸæ™‚é–“'
      }
    },
    collaboration_logs: {
      document_structure: {
        log_id: 'string - æ—¥èªŒID',
        ledger_id: 'string - å¸³æœ¬ID',
        user_id: 'string - ç”¨æˆ¶ID',
        action_type: 'string - æ“ä½œé¡å‹',
        action_data: 'object - æ“ä½œè³‡æ–™',
        timestamp: 'timestamp - æ™‚é–“æˆ³',
        ip_address: 'string - IPåœ°å€'
      }
    }
  }
}

éšæ®µäºŒï¼šå¢å¼·ç¾æœ‰ledgersé›†åˆå”ä½œæ”¯æ´
ç›®æ¨™ï¼šæ“´å……ç¾æœ‰ledgersé›†åˆï¼Œæ”¯æ´å”ä½œåŠŸèƒ½
å…·é«”ä½œæ¥­ï¼š
1.	æ“´å……ledgersæ–‡æª”çµæ§‹ï¼Œæ–°å¢å”ä½œç›¸é—œæ¬„ä½
2.	æ›´æ–°FS_createUserBasicLedger()å‡½æ•¸ï¼Œæ”¯æ´å”ä½œè¨­å®š
3.	å‡ç´šç›¸é—œå‡½æ•¸ç‰ˆæ¬¡
ledgersé›†åˆæ“´å……ï¼š
// æ“´å……ç¾æœ‰ledgersé›†åˆ
ledgers: {
  // ç¾æœ‰æ¬„ä½ä¿æŒä¸è®Š
  // æ–°å¢å”ä½œç›¸é—œæ¬„ä½
  collaboration: {
    enabled: 'boolean - æ˜¯å¦å•Ÿç”¨å”ä½œ',
    max_members: 'number - æœ€å¤§æˆå“¡æ•¸',
    join_policy: 'string - åŠ å…¥æ”¿ç­–',
    default_permission: 'string - é è¨­æ¬Šé™'
  },
  permissions: {
    owner: 'string - æ“æœ‰è€…ID',
    admins: 'array - ç®¡ç†å“¡åˆ—è¡¨',
    members: 'array - ä¸€èˆ¬æˆå“¡åˆ—è¡¨',
    viewers: 'array - æª¢è¦–è€…åˆ—è¡¨'
  }
}

éšæ®µä¸‰ï¼šå»ºç«‹å”ä½œé›†åˆæ¡†æ¶
ç›®æ¨™ï¼šåœ¨Firebaseä¸­å»ºç«‹å®Œæ•´çš„å”ä½œé›†åˆæ¡†æ¶
å…·é«”ä½œæ¥­ï¼š
1.	å»ºç«‹collaborationsã€member_invitationsã€collaboration_logsé›†åˆ
2.	å»ºç«‹ç¯„ä¾‹å”ä½œæ–‡æª”ï¼Œç¢ºä¿é›†åˆåœ¨Firebaseæ§åˆ¶å°å¯è¦‹
3.	é©—è­‰å”ä½œè³‡æ–™çµæ§‹å®Œæ•´æ€§
ğŸ“‹ ç‰ˆæœ¬å‡ç´šè¨ˆç•«
â€¢	1311.FS.jsï¼šv2.5.0 â†’ v2.6.0
â€¢	æ–°å¢å‡½æ•¸ï¼šFS_initializeCollaborationStructure() v2025-11-04-V1.0.0
â€¢	å‡ç´šå‡½æ•¸ï¼šFS_initializeSystemConfig() v2025-11-04-V2.4.0

ğŸ¯ MVPéšæ®µå¯¦ä½œé‡é»
1.	å°ˆæ³¨æ ¸å¿ƒåŠŸèƒ½ï¼šåƒ…å¯¦ä½œåŸºç¤å”ä½œè³‡æ–™çµæ§‹ï¼Œé¿å…è¤‡é›œçš„åŒæ­¥æ©Ÿåˆ¶
2.	ç¢ºä¿ç›¸å®¹æ€§ï¼šåš´æ ¼éµå¾ªç¾æœ‰1311.FS.jsæ¶æ§‹æ¨¡å¼
3.	éšæ®µæ€§é©—è­‰ï¼šæ¯éšæ®µå®Œæˆå¾Œéƒ½èƒ½åŸ·è¡ŒåŸºç¤æ¸¬è©¦ï¼Œç¢ºèªè³‡æ–™çµæ§‹æ­£ç¢ºå»ºç«‹
ğŸš€ é æœŸçµæœ
ä¿®æ­£å¾Œçš„Firebaseæ¶æ§‹å°‡åŒ…å«ï¼š
1.	å®Œæ•´å”ä½œæ”¯æ´ï¼šcollaborationsã€member_invitationsã€collaboration_logsä¸‰å€‹æ ¸å¿ƒé›†åˆ
2.	å¢å¼·å‹å¸³æœ¬ï¼šledgersé›†åˆåŒ…å«å®Œæ•´çš„å”ä½œå±¬æ€§å’Œæ¬Šé™ç®¡ç†
3.	å‘ä¸‹ç›¸å®¹ï¼šç¾æœ‰åŠŸèƒ½å®Œå…¨ä¸å—å½±éŸ¿ï¼Œæ–°åŠŸèƒ½ç„¡ç¸«æ•´åˆ
è«‹ç¢ºèªæ˜¯å¦Approveæ­¤ææ¡ˆï¼Œæˆ‘å°‡æŒ‰éšæ®µé€²è¡Œå¯¦ä½œï¼Œç¢ºä¿æ¯éšæ®µçµæŸå¾Œéƒ½èƒ½é€²è¡Œæ¸¬è©¦é©—è­‰ã€‚

