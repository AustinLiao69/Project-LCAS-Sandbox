------------------------------------------
20251230. 合併index.js至ASL

不要寫code，請根據我的回覆更新提案。提案時請專注解決當前發生的問題就好，不需要優化、強化、驗證、監測、測試等手段，除了列出原因之外也請你提出insight。

根據9904文件作為資深SQA的角度，我深入分析當前架構問題並提出合併方案。
問題分析
核心問題識別
當前系統存在職責重複和架構冗餘問題：
1.	index.js (Port 3000)：處理LINE Webhook + 部分系統監控
2.	ASL.js (Port 5000)：處理132個RESTful API端點 + 系統監控
真實原因分析
技術層面：
•	兩個服務器各自維護獨立的Express實例
•	重複的健康檢查、監控、錯誤處理邏輯
•	資源浪費：雙重服務器運行
用簡單概念解釋：
就像公司有兩個客服部門，一個專門處理電話客服(LINE Webhook)，另一個處理線上客服(RESTful API)。但兩個部門都各自維護自己的接待櫃台(健康檢查)、主管辦公室(監控系統)，造成資源重複投入。現在要把兩個部門合併到同一個辦公區域，共用基礎設施。
解決方案
架構合併策略
將index.js的LINE Webhook功能整合至ASL.js，形成統一服務層：
•	保留ASL.js為主服務 (Port 5000)
•	整合LINE Webhook處理能力
•	統一監控與健康檢查機制
階段性實施計畫
階段一：核心功能整合
目標：將index.js的LINE Webhook功能合併至ASL.js
修改內容：
1.	在ASL.js中新增LINE Webhook端點處理
2.	整合WebSocket功能
3.	合併模組載入機制
修改檔案：
•	ASL.js (v2.2.1 → v2.3.0)
Before/After行為差異：
•	Before: 兩個獨立服務器運行
•	After: 單一服務器處理所有功能，減少資源消耗
階段二：配置文件更新
目標：更新系統配置，移除index.js依賴
修改內容：
1.	更新.replit工作流配置
2.	調整部署配置
修改檔案：
•	.replit
Before/After行為差異：
•	Before: 並行運行node index.js和node ASL.js
•	After: 僅運行node ASL.js
階段三：清理廢棄檔案
目標：移除不再使用的index.js
修改內容：
1.	刪除index.js檔案
2.	清理相關引用
修改檔案：
•	刪除 index.js
影響範圍：
•	所有原本調用index.js的外部服務需改為調用ASL.js Port 5000
需要更新的調用方式
原本調用index.js (Port 3000)的功能：
1.	LINE Platform Webhook URL：https://domain:3000/webhook → https://domain:5000/webhook
2.	健康檢查：https://domain:3000/health → https://domain:5000/health
3.	HTTPS支援檢查：https://domain:3000/check-https → https://domain:5000/check-https
請確認是否Approve此解決方案，我將按階段實施合併計畫。



------------------------------------------
20251230. 合併index.js至ASL

不要寫code，請根據我的回覆更新提案。提案時請專注解決當前發生的問題就好，不需要優化、強化、驗證、監測、測試等手段，除了列出原因之外也請你提出insight。

請參照9904文件，以資深SQA深入思考、分析原因。並提出解決方案。
提案時請注意以下方向：
1.	必須等我Approve之後才能開始編修代碼。
2.	模組板次與函數版次都要升版。
3.	提案時請專注解決當前發生的問題就好，不需要優化、強化、驗證、監測、加強穩定性、測試等手段。
4.	將任務切分成數個階段處理，切分的依據以每階段結束都能執行一次測試驗證為主，並且要附上實施計畫，包含修改內容以及修改檔案。
5.	解決方案請勿將測試驗證劃分為一個階段。
6.	請列出問題、詳細說明並提出你的看法。
7.	所有的文件與模組代碼編寫務必遵守0098以及0070文件。
8.	分析原因及提出解決方案時，除了列出真實原因外，也必須用簡單的概念解釋(例如公司部門的概念)。
9.	若無修改文件或代碼的行動，請勿寫在解決方案中
10.	若有修改代碼，務必解釋每次code改動的用途、影響範圍、Before/After行為差異。
請將index.js合併至ASL.js。請注意以下事項：
1.	合併後log數量不可新增
2.	除非對於合併是必要的，否則切勿新增任何函數。
3.	請列出原本調用index.js後續改成調用ASL.js的函數，並列在實施計畫中處理。

