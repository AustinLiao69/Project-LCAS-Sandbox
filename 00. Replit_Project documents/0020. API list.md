
# 0020. API list

**版本**: 1.0.0  
**建立日期**: 2025-08-21  
**最後更新**: 2025-08-21  
**建立者**: [Your Name]  

---

## 1. 簡介

- 文件目的
- 文件適用範圍
- 使用對象 (PM / 前端 / 後端 / QA)

---

## 2. API Mapping (需求對應)

### 2.1 User Flow 對應

| User Flow / 畫面 | 功能描述 | 需要的 API |
|------------------|----------|-------------|
| 註冊頁           | 使用者輸入帳號密碼並建立帳號 | `POST /users` |
| 登入頁           | 使用者登入帳號 | `POST /auth/login` |
| 記帳頁           | 建立一筆交易 | `POST /transactions` |
| 記帳列表頁       | 查詢所有交易 | `GET /transactions` |

### 2.2 API 清單總覽

- 使用者相關
  - `POST /users`：建立使用者  
  - `POST /auth/login`：登入  
- 記帳相關
  - `POST /transactions`：建立交易  
  - `GET /transactions`：查詢交易列表  

---

## 3. API Contracting (契約規格)

### 3.1 User APIs

#### `POST /users`

- **描述**：建立新使用者
- **Method**：`POST`
- **Request**
  ```json
  {
    "email": "string",
    "password": "string"
  }
  ```
- **Response 200**
  ```json
  {
    "id": "uuid",
    "email": "string",
    "createdAt": "datetime"
  }
  ```
- **Error**
  - 400: Invalid email format
  - 409: Email already exists

#### `POST /auth/login`

- **描述**：使用者登入
- **Method**：`POST`
- **Request**
  ```json
  {
    "email": "string",
    "password": "string"
  }
  ```
- **Response 200**
  ```json
  {
    "token": "jwt-token",
    "expiredAt": "datetime"
  }
  ```
- **Error**
  - 401: Unauthorized (wrong email/password)

### 3.2 Transaction APIs

#### `POST /transactions`

- **描述**：建立交易
- **Method**：`POST`
- **Request**
  ```json
  {
    "amount": 1000,
    "category": "Food",
    "date": "2025-08-21"
  }
  ```
- **Response 200**
  ```json
  {
    "id": "uuid",
    "amount": 1000,
    "category": "Food",
    "date": "2025-08-21",
    "createdAt": "datetime"
  }
  ```

---

## 4. 錯誤碼總覽

| Code | 說明 |
|------|------|
| 400  | Bad Request |
| 401  | Unauthorized |
| 403  | Forbidden |
| 404  | Not Found |
| 409  | Conflict |

---

## 5. 版本紀錄

- v1.0.0 (2025-08-21)：初版建立
