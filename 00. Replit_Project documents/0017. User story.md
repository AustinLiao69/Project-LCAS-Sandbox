# 0017. User Story
**版本**: 1.0.1  
**建立日期**: 2025-08-18  
**最後更新**: 2025-08-19  
**建立者**: AustinLiao69  

---

## 文件概述

基於 [0016. User story map.md](../00.%20Replit_Project%20documents/0016.%20User%20story%20map.md) 進行深度分析，運用五大判斷準則：
1. **獨立價值**：是否帶來獨立的使用者價值
2. **開發獨立性**：是否可獨立開發、測試並交付  
3. **優先級差異**：不同優先級應拆開
4. **情境差異**：不同使用情境應獨立
5. **技術架構**：涉及不同 API/資料結構應拆開

---

## User Story 列表

### Epic 1: 進入

#### US-001: 從 LINE OA 加入
**As a** 新使用者  
**I want to** 透過 LINE OA 快速加入 LCAS 系統  
**So that** 我可以立即開始使用記帳服務

**優先級**: P1  
**Epic**: 進入  
**涵蓋 Tasks**: 點選 LINE OA 頁面並加入好友、跳出 LINE OA 歡迎訊息

**Acceptance Criteria**:
- 使用者點選 LINE OA 頁面成功加入好友
- 系統自動發送歡迎訊息
- 系統自動初始化使用者資料庫

---

#### US-002: APP 下載引導推廣
**As a** LINE OA 使用者  
**I want to** 透過 Rich menu 了解並下載 APP  
**So that** 我可以使用更完整的記帳功能

**優先級**: P2  
**Epic**: 進入  
**涵蓋 Tasks**: Rich menu 提供 APP 下載路徑、選擇點選 APP 下載路徑、選擇略過

**Acceptance Criteria**:
- Rich menu 顯示 APP Store 和 Google Play 下載連結
- 使用者可選擇下載或略過
- 選擇後系統記錄使用者偏好

---

#### US-003: 從 APP 加入
**As a** 新使用者  
**I want to** 使用 email 在 APP 中註冊帳號  
**So that** 我可以建立個人記帳系統

**優先級**: P1  
**Epic**: 進入  
**涵蓋 Tasks**: 以 email 註冊、驗證 email、跳出歡迎頁面

**Acceptance Criteria**:
- 使用者輸入有效 email 地址
- 系統發送驗證郵件
- 使用者完成 email 驗證後進入歡迎頁面
- 系統建立使用者資料庫結構

---

#### US-004: LINE OA 推廣
**As a** APP 新使用者  
**I want to** 了解並選擇是否加入 LINE OA  
**So that** 我可以享受雙平台記帳便利性

**優先級**: P2  
**Epic**: 進入  
**涵蓋 Tasks**: 跳出 LINE OA 快速記帳介紹推廣頁面、顯示 LINE OA 推廣頁面、選擇加 LINE OA 好友、綁定 email 與 UID、跳回 APP 主頁、選擇略過

**Acceptance Criteria**:
- 顯示 LINE OA 功能介紹頁面
- 使用者可選擇加入 LINE OA 或略過
- 若選擇加入，系統完成 email 與 UID 綁定
- 完成後返回 APP 主頁

---

#### US-005: APP 使用者登入
**As a** 既有使用者  
**I want to** 使用帳號密碼或 Google 帳號登入 APP 
**So that** 我可以存取我的記帳資料

**優先級**: P1  
**Epic**: 進入  
**涵蓋 Tasks**: 打開 APP、輸入帳號（Email）、輸入密碼、以 Google 帳號登入、點選「登入」按鈕、系統驗證帳號密碼、驗證成功進入主畫面、驗證失敗提示錯誤訊息

**Acceptance Criteria**:
- 支援 email/密碼登入
- 支援 Google 帳號登入
- 驗證成功後進入主畫面
- 驗證失敗顯示錯誤訊息

---

#### US-006: 忘記密碼處理
**As a** 既有使用者  
**I want to** 重設忘記的密碼  
**So that** 我可以重新登入我的帳號

**優先級**: P1  
**Epic**: 進入  
**涵蓋 Tasks**: 忘記密碼流程（跳轉重設密碼）

**Acceptance Criteria**:
- 使用者點選忘記密碼連結
- 系統發送重設密碼郵件
- 使用者完成密碼重設流程
- 可使用新密碼登入

---

#### US-007: LINE OA 快速進入
**As a** LINE OA 使用者  
**I want to** 直接進入 LINE OA 開始記帳  
**So that** 我可以快速記錄收支

**優先級**: P1  
**Epic**: 進入  
**涵蓋 Tasks**: 進入 LINE OA

**Acceptance Criteria**:
- 使用者開啟 LINE OA 對話
- 系統識別使用者身份
- 顯示Rich menu 或歡迎訊息

---

### Epic 2: 記帳功能

#### US-008: LINE OA 快速記帳
**As a** LINE OA 使用者  
**I want to** 透過文字輸入快速記帳  
**So that** 我可以隨時隨地記錄收支

**優先級**: P1  
**Epic**: 記帳  
**涵蓋 Tasks**: 輸入文字(大項名稱、科目)、輸入金額、輸入備註、提示記帳成功訊息

**Acceptance Criteria**:
- 支援自然語言輸入（如："午餐 150"）
- 自動解析科目、金額、備註
- 記帳成功後顯示確認訊息
- 資料即時同步至資料庫

---

#### US-009: LINE OA 多帳本記帳
**As a** LINE OA 進階使用者  
**I want to** 選擇不同帳本和帳戶進行記帳  
**So that** 我可以進行分類管理

**優先級**: P2  
**Epic**: 記帳  
**涵蓋 Tasks**: 輸入帳戶、選擇帳本

**Acceptance Criteria**:
- 支援帳戶選擇（現金、銀行卡等）
- 支援帳本選擇（個人、家庭、專案等）
- 預設使用上次選擇的帳戶/帳本

---

#### US-010: APP 完整記帳
**As a** APP 使用者  
**I want to** 使用完整介面進行記帳  
**So that** 我可以精確記錄收支資訊

**優先級**: P1  
**Epic**: 記帳  
**涵蓋 Tasks**: 打開 APP 點選「記帳」、輸入金額、選擇科目、選擇帳戶、輸入備註、跳出記帳成功訊息、跳出記帳失敗訊息

**Acceptance Criteria**:
- 提供直觀的記帳介面
- 必填欄位：金額、科目、帳戶
- 選填欄位：備註
- 記帳成功/失敗有明確提示
- 資料即時同步

---

#### US-011: 記帳圖片附加
**As a** APP 使用者  
**I want to** 為記帳記錄附加圖片  
**So that** 我可以保留收據或相關憑證

**優先級**: P3  
**Epic**: 記帳  
**涵蓋 Tasks**: 附加圖片、拍照附加圖片

**Acceptance Criteria**:
- 支援從相冊選擇圖片
- 支援即時拍照
- 圖片自動壓縮並上傳
- 圖片與記帳記錄關聯

---

#### US-012: 重複交易設定
**As a** APP 使用者  
**I want to** 設定重複性交易  
**So that** 我可以自動記錄定期收支

**優先級**: P2  
**Epic**: 記帳  
**涵蓋 Tasks**: 設定重複交易

**Acceptance Criteria**:
- 支援每日/每週/每月重複設定
- 可設定重複次數或結束日期
- 系統自動產生重複記錄
- 使用者可隨時修改或停止重複

---

#### US-013: APP 收支統計查看
**As a** APP 使用者  
**I want to** 查看不同時間區間的收支統計  
**So that** 我可以了解我的財務狀況

**優先級**: P1  
**Epic**: 記帳  
**涵蓋 Tasks**: 選擇帳本、選擇時間區間、選擇圖表類型（圓餅圖/長條圖/折線圖）、查看統計結果

**Acceptance Criteria**:
- 支援多種時間區間選擇
- 提供多種圖表類型
- 統計數據即時更新
- 支援帳本篩選

---

#### US-014: LINE OA 收支統計查詢
**As a** LINE OA 使用者  
**I want to** 透過文字指令查看收支統計  
**So that** 我可以快速了解財務概況

**優先級**: P1  
**Epic**: 記帳  
**涵蓋 Tasks**: 輸入每日收支、跳出每日收支訊息、輸入每週收支、跳出每週收支訊息、輸入每月收支、跳出每月收支訊息、輸入每年收支、跳出每年收支訊息

**Acceptance Criteria**:
- 支援「今日收支」「本週收支」等指令
- 回傳文字格式統計結果
- 包含收入、支出、結餘資訊
- 資料即時計算

---

#### US-015: 記帳記錄管理
**As a** 使用者  
**I want to** 編輯或刪除已記錄的記帳資料  
**So that** 我可以修正錯誤或過時的記錄

**優先級**: P1  
**Epic**: 記帳  
**涵蓋 Tasks**: 選擇該筆記帳、編輯記帳金額、編輯記帳科目、編輯記帳帳戶、編輯記帳帳本、刪除該筆記帳

**Acceptance Criteria**:
- 可選擇任意記帳記錄進行編輯
- 支援修改所有記帳欄位
- 提供刪除確認機制
- 修改後資料即時同步

---

### Epic 3: 帳本管理

#### US-016: 建立多類型帳本
**As a** 使用者  
**I want to** 建立不同類型的帳本（協作、專案）  
**So that** 我可以分類管理不同用途的記帳資料

**優先級**: P2  
**Epic**: 管理帳本  
**涵蓋 Tasks**: 建立協作帳本、建立專案帳本、設定帳本名稱、描述與初始權限

**Acceptance Criteria**:
- 支援建立協作帳本和專案帳本
- 可設定帳本名稱和描述
- 可設定初始權限和可見性
- 帳本建立後自動成為預設帳本

---

#### US-017: 協作帳本多人記錄
**As a** 協作帳本成員  
**I want to** 與其他成員共同記帳並追蹤操作歷史  
**So that** 我可以透明地管理共同支出

**優先級**: P2  
**Epic**: 管理帳本  
**涵蓋 Tasks**: 查看誰最後修改了某筆記帳、留言/標註協作者（討論消費用途）、權限細分（僅新增、不允許刪除/僅檢視）、協作者通知（某人更新了一筆記帳）

**Acceptance Criteria**:
- 顯示每筆記帳的最後修改者
- 支援留言和標註功能
- 提供細分權限設定
- 即時通知協作者記帳更新

---

#### US-018: 帳本刪除管理
**As a** 帳本擁有者  
**I want to** 刪除不需要的帳本  
**So that** 我可以保持帳本列表的整潔

**優先級**: P2  
**Epic**: 管理帳本  
**涵蓋 Tasks**: 選擇帳本、確認刪除、提示操作成功

**Acceptance Criteria**:
- 僅帳本擁有者可刪除帳本
- 提供刪除確認對話框
- 刪除前提示資料備份建議
- 刪除成功後顯示確認訊息

---

#### US-019: 帳本設定編輯
**As a** 帳本管理者  
**I want to** 編輯帳本設定和權限  
**So that** 我可以調整帳本的使用方式

**優先級**: P2  
**Epic**: 管理帳本  
**涵蓋 Tasks**: 設定 LINE OA 預設記帳帳本、更新協作權限（新增/刪除協作者）、調整帳本可見性

**Acceptance Criteria**:
- 可設定 LINE OA 預設記帳帳本
- 可新增或移除協作者
- 可調整帳本的公開/私人設定
- 設定變更即時生效

---

### Epic 4: 帳戶管理

#### US-020: 建立帳戶
**As a** 使用者  
**I want to** 建立不同類型的帳戶  
**So that** 我可以分別管理現金、銀行存款等資產

**優先級**: P1  
**Epic**: 管理帳戶  
**涵蓋 Tasks**: 建立帳戶、輸入初始餘額、點選新增帳戶

**Acceptance Criteria**:
- 支援建立多種類型帳戶（現金、銀行、信用卡等）
- 可設定初始餘額
- 帳戶建立後自動加入帳戶列表
- 提供帳戶建立成功確認

---

#### US-021: 帳戶進階設定
**As a** 使用者  
**I want to** 設定帳戶的幣值和外觀  
**So that** 我可以個人化管理不同幣別的資產

**優先級**: P2-P3  
**Epic**: 管理帳戶  
**涵蓋 Tasks**: 設定幣值、選擇帳戶圖標

**Acceptance Criteria**:
- 支援多種幣值設定（台幣、美金、人民幣等）
- 提供多種帳戶圖標選擇
- 設定變更即時反映在介面上

---

#### US-022: 帳戶刪除
**As a** 使用者  
**I want to** 刪除不使用的帳戶  
**So that** 我可以保持帳戶列表整潔

**優先級**: P1  
**Epic**: 管理帳戶  
**涵蓋 Tasks**: 選擇帳戶、備份帳戶資料提示、確認刪除

**Acceptance Criteria**:
- 刪除前提示備份帳戶資料
- 提供刪除確認對話框
- 檢查帳戶是否有未處理交易
- 刪除成功後從列表移除

---

### Epic 5: 科目管理

#### US-023: 科目建立與管理
**As a** 使用者  
**I want to** 建立、刪除和更新記帳科目  
**So that** 我可以按照個人需求分類收支

**優先級**: P1  
**Epic**: 管理科目  
**涵蓋 Tasks**: 輸入科目名稱、選擇科目類型、選擇科目、確認刪除、修改名稱或類型、保存變更

**Acceptance Criteria**:
- 可建立自定義科目名稱
- 支援收入/支出科目類型選擇
- 可編輯既有科目名稱和類型
- 可刪除不使用的科目
- 所有變更即時保存

---

### Epic 6: 預算管理

#### US-024: 預算設定
**As a** 使用者  
**I want to** 為不同帳本和科目設定預算  
**So that** 我可以控制支出並達成財務目標

**優先級**: P2  
**Epic**: 管理預算  
**涵蓋 Tasks**: 選擇帳本、選擇科目、輸入預算金額、設定時間範圍（每月/每週）、保存預算

**Acceptance Criteria**:
- 可為特定帳本設定預算
- 可為特定科目設定預算
- 支援週期性預算（每週/每月）
- 預算設定後自動監控執行狀況

---

### Epic 7: 報表生成

#### US-025: 收支圖表生成
**As a** 使用者  
**I want to** 生成不同類型的收支圖表  
**So that** 我可以視覺化了解財務狀況

**優先級**: P1  
**Epic**: 生成報表  
**涵蓋 Tasks**: 選擇帳本、設定資料區間、生成圖表、查看圖表（圓餅圖、長條圖、折線圖）

**Acceptance Criteria**:
- 支援圓餅圖、長條圖、折線圖
- 可選擇資料時間區間
- 可篩選特定帳本
- 圖表資料即時更新

---

#### US-026: 報表下載
**As a** 使用者  
**I want to** 下載不同格式的報表  
**So that** 我可以保存或分享財務資料

**優先級**: P2  
**Epic**: 生成報表  
**涵蓋 Tasks**: 選擇帳本、選擇檔案格式 CSV、選擇檔案格式 PDF、確認下載

**Acceptance Criteria**:
- 支援 CSV 和 PDF 格式下載
- 可選擇特定帳本資料
- 下載檔案包含完整記帳資訊
- 提供下載進度提示

---

### Epic 8: 分析功能

#### US-027: 支出分析
**As a** 進階使用者  
**I want to** 查看深度支出分析  
**So that** 我可以了解消費模式並優化財務管理

**優先級**: P3  
**Epic**: 生成分析  
**涵蓋 Tasks**: 選擇帳本、選擇分析類型（支出趨勢/類別比例/預算達成率/異常消費警示）、設定資料區間、查看分析結果

**Acceptance Criteria**:
- 提供多種分析類型
- 支援自定義分析區間
- 顯示趨勢變化和異常提醒
- 提供優化建議

---

### Epic 9: AI 助理

#### US-028: AI 智慧記帳輔助
**As a** 使用者  
**I want to** 使用 AI 自動分類和建議功能  
**So that** 我可以更輕鬆高效地管理財務

**優先級**: P3  
**Epic**: AI 助理  
**涵蓋 Tasks**: AI 自動分類科目、AI 建議預算分配、AI 異常提醒

**Acceptance Criteria**:
- AI 根據文字或圖片自動分類科目
- AI 基於歷史資料建議預算分配
- AI 偵測異常消費並提醒使用者
- AI 建議可由使用者接受或拒絕

---

### Epic 10: 激勵系統

#### US-029: 遊戲化記帳挑戰
**As a** 使用者  
**I want to** 參與記帳挑戰並獲得成就  
**So that** 我可以保持記帳動機並養成良好習慣

**優先級**: P2  
**Epic**: 激勵與成就  
**涵蓋 Tasks**: 每日打卡記帳挑戰、完成連續 7 日記帳→獎勵（徽章/圖示）、記帳目標（例如：本月記錄 50 筆）

**Acceptance Criteria**:
- 提供每日記帳打卡功能
- 達成連續記帳目標可獲得徽章
- 設定個人化記帳目標
- 顯示挑戰進度和成就列表

---

### Epic 11: 資料管理

#### US-030: 資料備份與上傳
**As a** 使用者  
**I want to** 備份和管理我的記帳資料  
**So that** 我可以確保資料安全和可攜性

**優先級**: P2  
**Epic**: 資料管理  
**涵蓋 Tasks**: 選擇帳本、選擇備份方式（本地/雲端）、手動或自動備份設定、確認操作成功、選擇檔案、確認上傳

**Acceptance Criteria**:
- 支援本地和雲端備份
- 可設定自動備份排程
- 支援選擇性帳本備份
- 提供備份狀態確認

---

#### US-031: 資料下載與刪除
**As a** 使用者  
**I want to** 下載或刪除資料  
**So that** 我可以管理資料存儲空間

**優先級**: P2  
**Epic**: 資料管理  
**涵蓋 Tasks**: 選擇帳本或檔案、選擇格式、確認下載、確認刪除

**Acceptance Criteria**:
- 可下載不同格式的資料
- 刪除前提供確認機制
- 顯示操作成功/失敗狀態
- 保護重要資料避免誤刪

---

### Epic 12: 安全隱私

#### US-032: 應用安全措施
**As a** 使用者  
**I want to** 設定應用安全保護  
**So that** 我的財務資料可以得到保護

**優先級**: P2  
**Epic**: 安全與隱私  
**涵蓋 Tasks**: 開啟 App 鎖（PIN/指紋/FaceID）、匯出報表需密碼、隱私模式（隱藏金額，只顯示科目）

**Acceptance Criteria**:
- 支援多種解鎖方式
- 敏感操作需額外驗證
- 提供隱私模式保護資料
- 安全設定可隨時調整

---

### Epic 13: 通知提醒

#### US-033: 記帳提醒設定
**As a** 使用者  
**I want to** 設定記帳提醒  
**So that** 我可以養成規律記帳習慣

**優先級**: P1  
**Epic**: 通知與提醒  
**涵蓋 Tasks**: 設定每日/每週提醒、選擇提醒方式（LINE/App 通知）、提醒使用者記帳

**Acceptance Criteria**:
- 可設定提醒頻率和時間
- 支援多種提醒管道
- 可自定義提醒內容
- 提醒設定可隨時修改

---

### Epic 14: 個人設定

#### US-034: 個人偏好設定
**As a** 使用者  
**I want to** 個人化應用設定  
**So that** 我可以獲得最佳使用體驗

**優先級**: P1-P2  
**Epic**: 使用者設定與偏好  
**涵蓋 Tasks**: 修改個人資料、設定 App 主題（深色/淺色）、設定語言偏好、設定通知偏好

**Acceptance Criteria**:
- 可更新個人基本資料
- 支援深色/淺色主題切換
- 支援多語言介面
- 可調整通知偏好設定

---

### Epic 15: 協作分享

#### US-035: 帳本分享與協作
**As a** 使用者  
**I want to** 分享帳本給其他使用者  
**So that** 我可以與他人協作管理財務

**優先級**: P2  
**Epic**: 協作與分享  
**涵蓋 Tasks**: 選擇帳本、設定權限（可編輯/可查看）、邀請協作者、查看協作紀錄

**Acceptance Criteria**:
- 可透過邀請連結分享帳本
- 支援不同權限等級設定
- 顯示協作者列表和操作紀錄
- 可隨時調整或撤銷權限

---

### Epic 16: 幫助支援

#### US-036: 使用說明與客服
**As a** 使用者  
**I want to** 獲得使用說明和客服支援  
**So that** 我可以解決使用問題並學習新功能

**優先級**: P2  
**Epic**: 幫助與學習資源  
**涵蓋 Tasks**: 查看操作教學、查看 FAQ、聯繫客服

**Acceptance Criteria**:
- 提供完整操作教學文件
- FAQ 涵蓋常見問題解答
- 多種客服聯繫管道
- 支援問題分類和追蹤

---

#### US-037: 社群與回報機制
**As a** 使用者  
**I want to** 參與社群互助和回報問題  
**So that** 我可以獲得更好的產品體驗

**優先級**: P3  
**Epic**: 幫助與學習資源  
**涵蓋 Tasks**: 錯誤回報機制（App 內送出 log）、線上社群（使用者互助 Q&A）、系統狀態頁（通知使用者服務是否異常）

**Acceptance Criteria**:
- 可直接從 App 回報錯誤
- 提供使用者社群平台
- 即時顯示系統服務狀態
- 回報問題可追蹤處理進度

---

## 設計原則總結

根據五大判斷準則，本文件成功將 [0016. User story map.md](../00.%20Replit_Project%20documents/0016.%20User%20story%20map.md) 中的多個 task 進行合理的合併與拆分：

### 合併案例
- **基本記帳流程**: 將「輸入金額」「選擇科目」「選擇帳戶」合併為 US-010
- **登入驗證流程**: 將多個登入步驟合併為 US-005
- **科目管理**: 將建立、刪除、更新合併為 US-023

### 拆分案例  
- **進入系統**: 按平台和情境拆分為 7 個獨立 User Story
- **記帳功能**: 按優先級和技術架構拆分為 8 個 User Story
- **資料管理**: 按操作類型拆分為 2 個 User Story

### 獨立案例
- **忘記密碼**: 獨立情境和價值 (US-006)
- **AI 助理**: 獨立技術架構 (US-028)
- **遊戲化挑戰**: 獨立使用者價值 (US-029)

此版本為 LCAS 2.0 開發提供了清晰的需求指導和優先級規劃基礎。
