
# TP_AUTH_èªè­‰åŠŸèƒ½ç¾¤çµ„ Test Plan v1.0.0

## ğŸ“‘ ç›®æ¬¡ (Table of Contents)

1. [æ¸¬è©¦æ¦‚è¦½](#1-æ¸¬è©¦æ¦‚è¦½)
   - 1.1 [æ¸¬è©¦ç¯„åœ](#11-æ¸¬è©¦ç¯„åœ)
   - 1.2 [æ¸¬è©¦ç›®æ¨™](#12-æ¸¬è©¦ç›®æ¨™)
   - 1.3 [é¢¨éšªè©•ä¼°](#13-é¢¨éšªè©•ä¼°)

2. [æ¸¬è©¦ç’°å¢ƒèˆ‡æº–å‚™](#2-æ¸¬è©¦ç’°å¢ƒèˆ‡æº–å‚™)
   - 2.1 [Flutteræ¸¬è©¦ç’°å¢ƒéœ€æ±‚](#21-flutteræ¸¬è©¦ç’°å¢ƒéœ€æ±‚)
   - 2.2 [æ¸¬è©¦è³‡æ–™æº–å‚™](#22-æ¸¬è©¦è³‡æ–™æº–å‚™)
   - 2.3 [æ¨¡æ“¬æœå‹™è¨­å®š](#23-æ¨¡æ“¬æœå‹™è¨­å®š)

3. [åŠŸèƒ½æ¸¬è©¦ç¯„åœ](#3-åŠŸèƒ½æ¸¬è©¦ç¯„åœ)
   - 3.1 [æ­¡è¿é é¢Widgetæ¸¬è©¦](#31-æ­¡è¿é é¢widgetæ¸¬è©¦)
   - 3.2 [ç™»å…¥é é¢Widgetæ¸¬è©¦](#32-ç™»å…¥é é¢widgetæ¸¬è©¦)
   - 3.3 [è¨»å†Šé é¢Widgetæ¸¬è©¦](#33-è¨»å†Šé é¢widgetæ¸¬è©¦)
   - 3.4 [å¯†ç¢¼é‡è¨­Widgetæ¸¬è©¦](#34-å¯†ç¢¼é‡è¨­widgetæ¸¬è©¦)
   - 3.5 [ç™»å‡ºç¢ºèªWidgetæ¸¬è©¦](#35-ç™»å‡ºç¢ºèªwidgetæ¸¬è©¦)
   - 3.6 [å››æ¨¡å¼UIå·®ç•°åŒ–æ¸¬è©¦](#36-å››æ¨¡å¼uiå·®ç•°åŒ–æ¸¬è©¦)

4. [è©³ç´°æ¸¬è©¦æ¡ˆä¾‹](#4-è©³ç´°æ¸¬è©¦æ¡ˆä¾‹)
   - 4.1 [Widgetå»ºæ§‹æ¸¬è©¦æ¡ˆä¾‹](#41-widgetå»ºæ§‹æ¸¬è©¦æ¡ˆä¾‹)
   - 4.2 [ä½¿ç”¨è€…äº’å‹•æ¸¬è©¦æ¡ˆä¾‹](#42-ä½¿ç”¨è€…äº’å‹•æ¸¬è©¦æ¡ˆä¾‹)
   - 4.3 [è¡¨å–®é©—è­‰æ¸¬è©¦æ¡ˆä¾‹](#43-è¡¨å–®é©—è­‰æ¸¬è©¦æ¡ˆä¾‹)
   - 4.4 [å››æ¨¡å¼é«”é©—æ¸¬è©¦æ¡ˆä¾‹](#44-å››æ¨¡å¼é«”é©—æ¸¬è©¦æ¡ˆä¾‹)
   - 4.5 [æ•´åˆæ€§æ¸¬è©¦æ¡ˆä¾‹](#45-æ•´åˆæ€§æ¸¬è©¦æ¡ˆä¾‹)

5. [æ•ˆèƒ½èˆ‡Widgetæ¸¬è©¦](#5-æ•ˆèƒ½èˆ‡widgetæ¸¬è©¦)
   - 5.1 [Widgetæ¸²æŸ“æ•ˆèƒ½](#51-widgetæ¸²æŸ“æ•ˆèƒ½)
   - 5.2 [ç‹€æ…‹ç®¡ç†æ•ˆèƒ½](#52-ç‹€æ…‹ç®¡ç†æ•ˆèƒ½)
   - 5.3 [è¨˜æ†¶é«”ä½¿ç”¨ç›£æ§](#53-è¨˜æ†¶é«”ä½¿ç”¨ç›£æ§)

6. [ç„¡éšœç¤™èˆ‡ä½¿ç”¨æ€§æ¸¬è©¦](#6-ç„¡éšœç¤™èˆ‡ä½¿ç”¨æ€§æ¸¬è©¦)
   - 6.1 [WCAG 2.1 AAæ¨™æº–é©—è­‰](#61-wcag-21-aaæ¨™æº–é©—è­‰)
   - 6.2 [è¢å¹•é–±è®€å™¨æ¸¬è©¦](#62-è¢å¹•é–±è®€å™¨æ¸¬è©¦)
   - 6.3 [éµç›¤å°èˆªæ¸¬è©¦](#63-éµç›¤å°èˆªæ¸¬è©¦)

7. [æ¸¬è©¦åŸ·è¡Œèˆ‡é©—æ”¶æ¨™æº–](#7-æ¸¬è©¦åŸ·è¡Œèˆ‡é©—æ”¶æ¨™æº–)
   - 7.1 [æ¸¬è©¦æ’ç¨‹è¨ˆç•«](#71-æ¸¬è©¦æ’ç¨‹è¨ˆç•«)
   - 7.2 [é©—æ”¶æ¨™æº–å®šç¾©](#72-é©—æ”¶æ¨™æº–å®šç¾©)
   - 7.3 [å“è³ªé–€æª»](#73-å“è³ªé–€æª»)

8. [é¢¨éšªç®¡æ§èˆ‡ç·©è§£æªæ–½](#8-é¢¨éšªç®¡æ§èˆ‡ç·©è§£æªæ–½)

9. [æ¸¬è©¦å ±å‘Šèˆ‡æ–‡ä»¶ç®¡ç†](#9-æ¸¬è©¦å ±å‘Šèˆ‡æ–‡ä»¶ç®¡ç†)

---

## 1. æ¸¬è©¦æ¦‚è¦½

### 1.1 æ¸¬è©¦ç¯„åœ

#### 1.1.1 èªè­‰åŠŸèƒ½ç¾¤çµ„æ ¸å¿ƒWidgetæ¸¬è©¦
åŸºæ–¼ **8601 èªè­‰åŠŸèƒ½ç¾¤çµ„.dart v2.5.0** çš„15å€‹æ ¸å¿ƒå‡½æ•¸ï¼š

**æ­¡è¿é é¢UIå±¤ï¼ˆ2å€‹å‡½æ•¸ï¼‰**
- `AUTH_buildWelcomePage`ï¼šæ­¡è¿é é¢å®Œæ•´UIçµæ§‹å»ºæ§‹
- `AUTH_buildModeSelector`ï¼šå››æ¨¡å¼é¸æ“‡ç¶²æ ¼ä»‹é¢å»ºæ§‹

**ç™»å…¥é é¢UIå±¤ï¼ˆ3å€‹å‡½æ•¸ï¼‰**
- `AUTH_buildLoginPage`ï¼šç™»å…¥é é¢å®Œæ•´UIçµæ§‹ï¼Œæ”¯æ´å››æ¨¡å¼å·®ç•°åŒ–
- `AUTH_buildOAuthButtons`ï¼šOAuthç™»å…¥æŒ‰éˆ•çµ„ï¼ˆLINE/Google/Appleï¼‰
- `AUTH_buildEmailLoginForm`ï¼šEmailç™»å…¥è¡¨å–®ï¼ˆéSleeperæ¨¡å¼ï¼‰

**è¨»å†Šé é¢UIå±¤ï¼ˆ2å€‹å‡½æ•¸ï¼‰**
- `AUTH_buildRegisterPage`ï¼šè¨»å†Šé é¢å®Œæ•´UIçµæ§‹
- `AUTH_buildRegistrationForm`ï¼šè¨»å†Šè¡¨å–®ï¼Œæ”¯æ´å››æ¨¡å¼æ¬„ä½å·®ç•°

**å¯†ç¢¼é‡è¨­UIå±¤ï¼ˆ2å€‹å‡½æ•¸ï¼‰**
- `AUTH_buildPasswordResetPage`ï¼šå¯†ç¢¼é‡è¨­é é¢å®Œæ•´UIçµæ§‹
- `AUTH_buildResetSteps`ï¼šä¸‰æ­¥é©Ÿå¯†ç¢¼é‡è¨­ä»‹é¢

**ç™»å‡ºç¢ºèªUIå±¤ï¼ˆ1å€‹å‡½æ•¸ï¼‰**
- `AUTH_buildLogoutPage`ï¼šç™»å‡ºç¢ºèªé é¢ï¼Œæ”¯æ´å››æ¨¡å¼å·®ç•°åŒ–é¸é …

**å››æ¨¡å¼UIå±¤ï¼ˆ4å€‹å‡½æ•¸ï¼‰**
- `AUTH_buildControllerModeUI`ï¼šç²¾æº–æ§åˆ¶è€…å°ˆæ¥­å®Œæ•´ä»‹é¢
- `AUTH_buildLoggerModeUI`ï¼šç´€éŒ„ç¿’æ…£è€…å„ªé›…ç¾è§€ä»‹é¢
- `AUTH_buildStruggleModeUI`ï¼šè½‰å‹æŒ‘æˆ°è€…æ¿€å‹µå°å‘ä»‹é¢
- `AUTH_buildSleeperModeUI`ï¼šæ½›åœ¨è¦ºé†’è€…æ¥µç°¡æ˜“ç”¨ä»‹é¢

**å…±ç”¨UIå…ƒä»¶ï¼ˆ1å€‹å‡½æ•¸ï¼‰**
- `AUTH_buildLoadingIndicator`ï¼šé€šç”¨è¼‰å…¥æŒ‡ç¤ºå™¨

#### 1.1.2 å››æ¨¡å¼å·®ç•°åŒ–æ¸¬è©¦é‡é»
- **ç²¾æº–æ§åˆ¶è€…æ¨¡å¼**ï¼šå®Œæ•´åŠŸèƒ½é¸é …ã€è©³ç´°æŠ€è¡“è³‡è¨Šã€é€²éšå®‰å…¨è¨­å®š
- **ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼**ï¼šå„ªé›…å‹•ç•«æ•ˆæœã€ç¾è§€è¦–è¦ºè¨­è¨ˆã€æµæš¢äº’å‹•é«”é©—
- **è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼**ï¼šæ¿€å‹µæ€§å…ƒç´ ã€ç›®æ¨™å°å‘è¨­è¨ˆã€ç©æ¥µå›é¥‹æ©Ÿåˆ¶
- **æ½›åœ¨è¦ºé†’è€…æ¨¡å¼**ï¼šæ¥µç°¡åŒ–ä»‹é¢ã€å¤§æŒ‰éˆ•è¨­è¨ˆã€ç°¡åŒ–åŠŸèƒ½é¸é …

#### 1.1.3 æ•´åˆæ¸¬è©¦ç¯„åœ
- **AP Layeræ•´åˆ**ï¼šèˆ‡AuthServiceçš„ä»‹é¢å°æ¥
- **ç‹€æ…‹ç®¡ç†æ•´åˆ**ï¼šAuthUiDisplayStateå’ŒAuthFormInputStateçš„ç‹€æ…‹åŒæ­¥
- **å°èˆªæ•´åˆ**ï¼šFlutter Navigatorçš„é é¢é–“å°èˆªæµç¨‹
- **è³‡æ–™æ¨¡å‹æ•´åˆ**ï¼šRegistrationDataç­‰è³‡æ–™æ¨¡å‹çš„åºåˆ—åŒ–/ååºåˆ—åŒ–

### 1.2 æ¸¬è©¦ç›®æ¨™

#### 1.2.1 WidgetåŠŸèƒ½å®Œæ•´æ€§ç›®æ¨™
- 15å€‹æ ¸å¿ƒå‡½æ•¸100% Widgetå»ºæ§‹é©—è­‰é€šé
- å››æ¨¡å¼UIå·®ç•°åŒ–100% è¦–è¦ºå·®ç•°é©—è­‰
- è¡¨å–®é©—è­‰é‚è¼¯100% æº–ç¢ºæ€§é©—è­‰
- ä½¿ç”¨è€…äº’å‹•æµç¨‹100% æµæš¢æ€§é©—è­‰

#### 1.2.2 æ•ˆèƒ½æŒ‡æ¨™ç›®æ¨™
- Widgetå»ºæ§‹æ™‚é–“ < 16msï¼ˆ60fpsè¦æ±‚ï¼‰
- é é¢åˆ‡æ›å‹•ç•«æµæš¢åº¦ > 90%
- è¨˜æ†¶é«”ä½¿ç”¨ç©©å®šï¼Œç„¡Widgetæ´©æ¼
- ç‹€æ…‹æ›´æ–°å›æ‡‰æ™‚é–“ < 100ms

#### 1.2.3 ä½¿ç”¨è€…é«”é©—ç›®æ¨™
- WCAG 2.1 AAæ¨™æº–100%åˆè¦
- å››æ¨¡å¼ä½¿ç”¨è€…æ»¿æ„åº¦ > 90%
- è¡¨å–®æ“ä½œæˆåŠŸç‡ > 95%
- éŒ¯èª¤è™•ç†è¦†è“‹ç‡100%

### 1.3 é¢¨éšªè©•ä¼°

#### 1.3.1 é«˜é¢¨éšªé …ç›®
1. **å››æ¨¡å¼UIä¸€è‡´æ€§é¢¨éšª**
   - é¢¨éšªï¼šä¸åŒæ¨¡å¼é–“çš„åŠŸèƒ½å·®ç•°å¯èƒ½å°è‡´ä½¿ç”¨è€…æ··æ·†
   - å½±éŸ¿ï¼šä½¿ç”¨è€…é«”é©—ä¸ä¸€è‡´ï¼Œå­¸ç¿’æˆæœ¬å¢åŠ 
   - ç·©è§£ï¼šå»ºç«‹å®Œæ•´çš„UIè¦ç¯„æª¢æŸ¥æ¸…å–®ï¼Œç¢ºä¿æ ¸å¿ƒåŠŸèƒ½åœ¨æ‰€æœ‰æ¨¡å¼ä¸­éƒ½å¯ç”¨

2. **Widgetç‹€æ…‹ç®¡ç†è¤‡é›œåº¦é¢¨éšª**
   - é¢¨éšªï¼šå¤šå±¤ç‹€æ…‹ç®¡ç†å¯èƒ½å°è‡´ç‹€æ…‹ä¸åŒæ­¥æˆ–è¨˜æ†¶é«”æ´©æ¼
   - å½±éŸ¿ï¼šæ‡‰ç”¨ç¨‹å¼å´©æ½°æˆ–æ•ˆèƒ½å•é¡Œ
   - ç·©è§£ï¼šç°¡åŒ–ç‹€æ…‹ç®¡ç†æ¶æ§‹ï¼ŒåŠ å¼·ç‹€æ…‹ç”Ÿå‘½é€±æœŸæ¸¬è©¦

3. **OAuthæ•´åˆç©©å®šæ€§é¢¨éšª**
   - é¢¨éšªï¼šç¬¬ä¸‰æ–¹OAuthæœå‹™çš„è®Šæ›´å¯èƒ½å½±éŸ¿ç™»å…¥æµç¨‹
   - å½±éŸ¿ï¼šä½¿ç”¨è€…ç„¡æ³•æ­£å¸¸ç™»å…¥ç³»çµ±
   - ç·©è§£ï¼šå»ºç«‹OAuth Mockæœå‹™ï¼Œæ¸›å°‘å°å¤–éƒ¨ä¾è³´

#### 1.3.2 ä¸­é¢¨éšªé …ç›®
1. **éŸ¿æ‡‰å¼è¨­è¨ˆç›¸å®¹æ€§é¢¨éšª**
   - é¢¨éšªï¼šä¸åŒè¢å¹•å°ºå¯¸çš„é©é…å•é¡Œ
   - å½±éŸ¿ï¼šéƒ¨åˆ†è£ç½®çš„ä½¿ç”¨è€…é«”é©—å—æ
   - ç·©è§£ï¼šå¤šè£ç½®æ¸¬è©¦è¦†è“‹ï¼Œå»ºç«‹éŸ¿æ‡‰å¼è¨­è¨ˆæ¸¬è©¦çŸ©é™£

2. **è¡¨å–®é©—è­‰é‚è¼¯æ­£ç¢ºæ€§é¢¨éšª**
   - é¢¨éšªï¼šè¤‡é›œçš„è¡¨å–®é©—è­‰é‚è¼¯å¯èƒ½å‡ºç¾é‚Šç•Œæ¢ä»¶éŒ¯èª¤
   - å½±éŸ¿ï¼šä½¿ç”¨è€…ç„¡æ³•æ­£å¸¸å®Œæˆè¨»å†Šæˆ–ç™»å…¥
   - ç·©è§£ï¼šè©³ç´°çš„è¡¨å–®é©—è­‰æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ

---

## 2. æ¸¬è©¦ç’°å¢ƒèˆ‡æº–å‚™

### 2.1 Flutteræ¸¬è©¦ç’°å¢ƒéœ€æ±‚

#### 2.1.1 æ ¸å¿ƒæ¸¬è©¦ç’°å¢ƒ
- **Flutter SDK**: 3.10.0+ (Stable Channel)
- **Dart SDK**: 3.0.0+
- **æ¸¬è©¦æ¡†æ¶**: flutter_test (å…§å»º)
- **Widgetæ¸¬è©¦**: flutter_test widget testing
- **æ•´åˆæ¸¬è©¦**: integration_test package

#### 2.1.2 æ¸¬è©¦è£ç½®ç’°å¢ƒ
- **iOSæ¨¡æ“¬å™¨**: iPhone 14 Pro (iOS 16.0+)
- **Androidæ¨¡æ“¬å™¨**: Pixel 7 (API Level 33+)
- **Webç€è¦½å™¨**: Chrome æœ€æ–°ç‰ˆæœ¬
- **ä¸åŒè¢å¹•å°ºå¯¸**: æ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œé¢è§£æåº¦

#### 2.1.3 é–‹ç™¼å·¥å…·
- **IDE**: Visual Studio Code with Flutter extension
- **é™¤éŒ¯å·¥å…·**: Flutter Inspector
- **æ•ˆèƒ½åˆ†æ**: Flutter Performance
- **ç¨‹å¼ç¢¼è¦†è“‹**: `flutter test --coverage`

### 2.2 æ¸¬è©¦è³‡æ–™æº–å‚™

#### 2.2.1 ä½¿ç”¨è€…æ¨¡å¼æ¸¬è©¦è³‡æ–™
```dart
enum UserMode {
  controller, // ç²¾æº–æ§åˆ¶è€…
  logger,     // ç´€éŒ„ç¿’æ…£è€…
  struggler,  // è½‰å‹æŒ‘æˆ°è€…
  sleeper,    // æ½›åœ¨è¦ºé†’è€…
}

// æ¸¬è©¦ç”¨æˆ¶é…ç½®
final testUserModes = [
  UserMode.controller,
  UserMode.logger,
  UserMode.struggler,
  UserMode.sleeper,
];
```

#### 2.2.2 è¡¨å–®é©—è­‰æ¸¬è©¦è³‡æ–™
```dart
// Emailé©—è­‰æ¸¬è©¦æ¡ˆä¾‹
final emailTestCases = [
  // æœ‰æ•ˆEmail
  'user@example.com',
  'test.email+tag@domain.co.uk',
  
  // ç„¡æ•ˆEmail
  'invalid-email',
  '@domain.com',
  'user@',
  '',
];

// å¯†ç¢¼å¼·åº¦æ¸¬è©¦æ¡ˆä¾‹
final passwordTestCases = [
  // æœ‰æ•ˆå¯†ç¢¼
  'ValidPass123',
  'MyPassword2024!',
  
  // ç„¡æ•ˆå¯†ç¢¼
  '123',        // å¤ªçŸ­
  'password',   // ç„¡æ•¸å­—
  '12345678',   // ç„¡å­—æ¯
];
```

#### 2.2.3 å››æ¨¡å¼UIæ¸¬è©¦è³‡æ–™
```dart
// æ¨¡å¼ç‰¹å®šé¡è‰²é…ç½®
final modeColors = {
  UserMode.controller: Color(0xFF1976D2), // å°ˆæ¥­è—è‰²
  UserMode.logger: Color(0xFF6A1B9A),     // å„ªé›…ç´«è‰²
  UserMode.struggler: Color(0xFFFF6B35),  // æ´»åŠ›æ©™è‰²
  UserMode.sleeper: Color(0xFF4CAF50),    // è‡ªç„¶ç¶ è‰²
};

// æ¨¡å¼ç‰¹å®šæŒ‰éˆ•å°ºå¯¸
final modeButtonHeights = {
  UserMode.sleeper: 72.0,  // æ½›åœ¨è¦ºé†’è€…ä½¿ç”¨å¤§æŒ‰éˆ•
  UserMode.controller: 56.0,
  UserMode.logger: 56.0,
  UserMode.struggler: 56.0,
};
```

### 2.3 æ¨¡æ“¬æœå‹™è¨­å®š

#### 2.3.1 Mock AuthServiceè¨­å®š
```dart
class MockAuthService extends Mock implements AuthService {}

// æ¨¡æ“¬æˆåŠŸç™»å…¥å›æ‡‰
when(mockAuthService.login(any)).thenAnswer((_) async =>
  LoginResponse(
    success: true,
    accessToken: 'mock_access_token',
    refreshToken: 'mock_refresh_token',
    expiresAt: DateTime.now().add(Duration(hours: 1)),
    userProfile: UserProfile(
      userId: 'test_user_id',
      displayName: 'Test User',
      selectedMode: UserMode.controller,
    ),
    permissions: ['basic_access'],
  )
);
```

#### 2.3.2 Widgetæ¸¬è©¦è¼”åŠ©å·¥å…·
```dart
class AuthWidgetTestHelpers {
  static Widget createTestWrapper({
    required Widget child,
    UserMode? initialMode,
  }) {
    return MaterialApp(
      home: ChangeNotifierProvider<AuthUiDisplayState>(
        create: (_) => AuthUiDisplayState(),
        child: child,
      ),
    );
  }

  static void mockCallback([dynamic param]) {
    // ç©ºå¯¦ä½œï¼Œç”¨æ–¼æ¸¬è©¦å›èª¿
  }

  static RegistrationData createTestRegistrationData({
    String email = 'test@example.com',
    String password = 'TestPassword123',
    String displayName = 'Test User',
    UserMode mode = UserMode.controller,
  }) {
    return RegistrationData(
      email: email,
      password: password,
      displayName: displayName,
      userMode: mode,
      termsAccepted: true,
      privacyAccepted: true,
    );
  }
}
```

---

## 3. åŠŸèƒ½æ¸¬è©¦ç¯„åœ

### 3.1 æ­¡è¿é é¢Widgetæ¸¬è©¦

#### 3.1.1 AUTH_buildWelcomePage æ¸¬è©¦é‡é»
- **Widgetå»ºæ§‹å®Œæ•´æ€§**ï¼šScaffoldã€SafeAreaã€Columnç­‰åŸºç¤Widgetæ­£ç¢ºå»ºæ§‹
- **å“ç‰Œå…ƒç´ é¡¯ç¤º**ï¼šLogoã€æ¨™é¡Œã€å‰¯æ¨™é¡Œæ­£ç¢ºé¡¯ç¤ºå’Œå®šä½
- **æ¨¡å¼é¸æ“‡å™¨æ•´åˆ**ï¼šAUTH_buildModeSelectoræ­£ç¢ºåµŒå…¥ä¸¦é‹ä½œ
- **ç¹¼çºŒæŒ‰éˆ•ç‹€æ…‹**ï¼šæ ¹æ“šselectedModeå’ŒisLoadingç‹€æ…‹æ­£ç¢ºå•Ÿç”¨/ç¦ç”¨
- **è¼‰å…¥ç‹€æ…‹é¡¯ç¤º**ï¼šAUTH_buildLoadingIndicatoræ­£ç¢ºé¡¯ç¤º

#### 3.1.2 AUTH_buildModeSelector æ¸¬è©¦é‡é»
- **ç¶²æ ¼ä½ˆå±€æ­£ç¢ºæ€§**ï¼š2x2ç¶²æ ¼ä½ˆå±€ï¼Œé©ç•¶é–“è·å’Œæ¯”ä¾‹
- **å››æ¨¡å¼å®Œæ•´é¡¯ç¤º**ï¼šæ‰€æœ‰UserMode.valuesæ­£ç¢ºéæ­·å’Œé¡¯ç¤º
- **é¸æ“‡ç‹€æ…‹è¦–è¦ºå›é¥‹**ï¼šé¸ä¸­/æœªé¸ä¸­ç‹€æ…‹çš„è¦–è¦ºå·®ç•°æ˜ç¢º
- **è§¸æ§äº’å‹•å›æ‡‰**ï¼šInkWellè§¸æ§å›é¥‹å’ŒonModeSelectedå›èª¿æ­£ç¢º
- **æ¨¡å¼è³‡è¨Šæº–ç¢ºæ€§**ï¼š_getModeColorã€_getModeIconã€_getModeNameè¼”åŠ©å‡½æ•¸æ­£ç¢º

### 3.2 ç™»å…¥é é¢Widgetæ¸¬è©¦

#### 3.2.1 AUTH_buildLoginPage æ¸¬è©¦é‡é»
- **AppBaræ¨¡å¼å·®ç•°åŒ–**ï¼šæ¨™é¡Œå’ŒèƒŒæ™¯è‰²æ ¹æ“šuserModeæ­£ç¢ºèª¿æ•´
- **OAuthæŒ‰éˆ•çµ„é¡¯ç¤º**ï¼šAUTH_buildOAuthButtonsæ­£ç¢ºåµŒå…¥
- **æ¢ä»¶å¼Emailè¡¨å–®**ï¼šéSleeperæ¨¡å¼æ‰é¡¯ç¤ºåˆ†éš”ç·šå’ŒEmailç™»å…¥è¡¨å–®
- **å°èˆªé€£çµ**ï¼šè¨»å†Šé€£çµçš„TextButtonæ­£ç¢ºç¶å®šå›èª¿
- **æ¨¡å¼ç‰¹å®šæ­¡è¿è¨Šæ¯**ï¼š_getModeLoginMessageè¼”åŠ©å‡½æ•¸å›å‚³æ­£ç¢ºå…§å®¹

#### 3.2.2 AUTH_buildOAuthButtons æ¸¬è©¦é‡é»
- **æ¨¡å¼å·®ç•°åŒ–å°ºå¯¸**ï¼šæŒ‰éˆ•é«˜åº¦å’Œé–“è·æ ¹æ“šuserModeæ­£ç¢ºèª¿æ•´
- **LINEç™»å…¥æŒ‰éˆ•**ï¼šæ‰€æœ‰æ¨¡å¼éƒ½é¡¯ç¤ºï¼Œå“ç‰Œè‰²å½©å’Œåœ–æ¨™æ­£ç¢º
- **Googleç™»å…¥æŒ‰éˆ•**ï¼šéSleeperæ¨¡å¼æ‰é¡¯ç¤ºï¼ŒOutlinedButtonæ¨£å¼æ­£ç¢º
- **Appleç™»å…¥æŒ‰éˆ•**ï¼šåƒ…Controlleræ¨¡å¼é¡¯ç¤ºï¼Œé»‘è‰²èƒŒæ™¯ç™½è‰²å‰æ™¯
- **è¼‰å…¥ç‹€æ…‹è™•ç†**ï¼šisLoadingæ™‚æŒ‰éˆ•æ­£ç¢ºç¦ç”¨

#### 3.2.3 AUTH_buildEmailLoginForm æ¸¬è©¦é‡é»
- **è¡¨å–®çµæ§‹**ï¼šForm + GlobalKeyçµ„åˆæ­£ç¢º
- **Emailè¼¸å…¥æ¡†**ï¼škeyboardTypeã€decorationã€validatoræ­£ç¢ºè¨­å®š
- **å¯†ç¢¼è¼¸å…¥æ¡†**ï¼šobscureTextã€prefixIconã€validatoræ­£ç¢ºè¨­å®š
- **å¿˜è¨˜å¯†ç¢¼é€£çµ**ï¼šAlignå³å°é½Šï¼ŒTextButtonæ­£ç¢ºç¶å®š
- **ç™»å…¥æŒ‰éˆ•**ï¼šå•Ÿç”¨æ¢ä»¶æª¢æŸ¥ã€èƒŒæ™¯è‰²æ¨¡å¼å·®ç•°ã€è¼‰å…¥ç‹€æ…‹é¡¯ç¤º

### 3.3 è¨»å†Šé é¢Widgetæ¸¬è©¦

#### 3.3.1 AUTH_buildRegisterPage æ¸¬è©¦é‡é»
- **AppBaræ¨¡å¼å·®ç•°åŒ–**ï¼š_getModeRegisterTitleå›å‚³æ­£ç¢ºæ¨™é¡Œ
- **æ­¡è¿è¨Šæ¯é¡¯ç¤º**ï¼š_getModeRegistrationMessageæ¨¡å¼ç‰¹å®šå…§å®¹
- **è¨»å†Šè¡¨å–®æ•´åˆ**ï¼šAUTH_buildRegistrationFormæ­£ç¢ºåµŒå…¥
- **ç™»å…¥é€£çµ**ï¼šåº•éƒ¨TextButtonæ­£ç¢ºç¶å®šonLoginå›èª¿

#### 3.3.2 AUTH_buildRegistrationForm æ¸¬è©¦é‡é»
- **StatefulWidgetå¯¦ä½œ**ï¼š_RegistrationFormWidgetç‹€æ…‹ç®¡ç†æ­£ç¢º
- **Controllerç®¡ç†**ï¼šTextEditingControllerç”Ÿå‘½é€±æœŸå’Œdisposeè™•ç†
- **æ¢ä»¶å¼æ¬„ä½é¡¯ç¤º**ï¼šç¢ºèªå¯†ç¢¼å’Œé¡¯ç¤ºåç¨±åƒ…åœ¨éSleeperæ¨¡å¼é¡¯ç¤º
- **è¡¨å–®é©—è­‰é‚è¼¯**ï¼šå„æ¬„ä½validatorå‡½æ•¸æ­£ç¢ºå¯¦ä½œ
- **æ¢æ¬¾åŒæ„å€åŸŸ**ï¼šCheckboxListTileç‹€æ…‹ç®¡ç†å’Œè¦–è¦ºæ¨£å¼
- **è¨»å†ŠæŒ‰éˆ•**ï¼š_canSubmitæ¢ä»¶æª¢æŸ¥å’Œ_handleSubmité‚è¼¯

### 3.4 å¯†ç¢¼é‡è¨­Widgetæ¸¬è©¦

#### 3.4.1 AUTH_buildPasswordResetPage æ¸¬è©¦é‡é»
- **é€²åº¦æŒ‡ç¤ºå™¨**ï¼šéSleeperæ¨¡å¼é¡¯ç¤ºLinearProgressIndicatorï¼Œé€²åº¦è¨ˆç®—æ­£ç¢º
- **æ­¥é©Ÿå…§å®¹é¡¯ç¤º**ï¼šAUTH_buildResetStepsæ­£ç¢ºåµŒå…¥å’Œåƒæ•¸å‚³é
- **ä½ˆå±€çµæ§‹**ï¼šColumnä½ˆå±€ï¼Œé©ç•¶çš„paddingå’Œé–“è·

#### 3.4.2 AUTH_buildResetSteps æ¸¬è©¦é‡é»
- **æ­¥é©Ÿè·¯ç”±é‚è¼¯**ï¼šswitchèªå¥æ ¹æ“šcurrentStepæ­£ç¢ºåˆ†ç™¼
- **æ­¥é©Ÿä¸€ - Emailè¼¸å…¥**ï¼š_buildEmailStepæ­£ç¢ºå»ºæ§‹å’Œé‚è¼¯
- **æ­¥é©ŸäºŒ - é©—è­‰ç¢¼**ï¼š_buildVerificationStepæ­£ç¢ºå»ºæ§‹å’Œé‚è¼¯
- **æ­¥é©Ÿä¸‰ - æ–°å¯†ç¢¼**ï¼š_buildPasswordStepæ­£ç¢ºå»ºæ§‹å’Œé‚è¼¯
- **è¡¨å–®é©—è­‰**ï¼šå„æ­¥é©Ÿçš„Form validationæ­£ç¢ºå¯¦ä½œ

### 3.5 ç™»å‡ºç¢ºèªWidgetæ¸¬è©¦

#### 3.5.1 AUTH_buildLogoutPage æ¸¬è©¦é‡é»
- **è¦–è¦ºå…ƒç´ ä½ˆå±€**ï¼šåœ–æ¨™ã€æ¨™é¡Œã€è¨Šæ¯çš„å‚ç›´å±…ä¸­å°é½Š
- **æ¨¡å¼å·®ç•°åŒ–é¸é …**ï¼šControlleræ¨¡å¼é¡¯ç¤ºå…©å€‹é¸é …ï¼Œå…¶ä»–æ¨¡å¼å–®ä¸€é¸é …
- **æŒ‰éˆ•å°ºå¯¸å·®ç•°**ï¼šSleeperæ¨¡å¼ä½¿ç”¨72åƒç´ é«˜åº¦ï¼Œå…¶ä»–56åƒç´ 
- **å–æ¶ˆæŒ‰éˆ•**ï¼šOutlinedButtonæ¨£å¼å’Œé¡è‰²æ­£ç¢º
- **è¼‰å…¥ç‹€æ…‹**ï¼šAUTH_buildLoadingIndicatoråœ¨è¼‰å…¥æ™‚æ­£ç¢ºé¡¯ç¤º

### 3.6 å››æ¨¡å¼UIå·®ç•°åŒ–æ¸¬è©¦

#### 3.6.1 ç²¾æº–æ§åˆ¶è€…æ¨¡å¼UIæ¸¬è©¦
- **å°ˆæ¥­ä¸»é¡Œé…ç½®**ï¼šè—è‰²ä¸»è‰²èª¿ã€æ·±ç°è¼”è‰²èª¿æ‡‰ç”¨æ­£ç¢º
- **å°ˆæ¥­æ¨™é¡Œåˆ—**ï¼šæ·±è—èƒŒæ™¯ã€å·¥ç¨‹åœ–æ¨™ã€è¨­å®šæŒ‰éˆ•ä½ˆå±€
- **å…§å®¹å®¹å™¨è£é£¾**ï¼šå·¦å´è—è‰²é‚Šæ¡†ï¼Œå°ˆæ¥­æ„Ÿå‘ˆç¾
- **åº•éƒ¨ç‹€æ…‹åˆ—**ï¼šå®‰å…¨ç‹€æ…‹è³‡è¨Šé¡¯ç¤º

#### 3.6.2 ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼UIæ¸¬è©¦
- **å„ªé›…ä¸»é¡Œé…ç½®**ï¼šç´«è‰²ä¸»è‰²èª¿ã€æ¼¸å±¤èƒŒæ™¯æ•ˆæœ
- **å‹•ç•«å®¹å™¨**ï¼šAnimatedContainer 800æ¯«ç§’å‹•ç•«æ™‚é•·
- **å„ªé›…æ¨™é¡Œå€åŸŸ**ï¼šå±…ä¸­å°é½Šã€æ˜Ÿå…‰åœ–æ¨™ã€å„ªé›…å­—é«”
- **å…§å®¹å€åŸŸå‹•ç•«**ï¼šAnimatedSwitcheræ·¡å…¥æ»‘å‹•æ•ˆæœ

#### 3.6.3 è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼UIæ¸¬è©¦
- **æ¿€å‹µä¸»é¡Œé…è‰²**ï¼šæ©™è‰²ä¸»è‰²èª¿ã€æº«æš–èƒŒæ™¯æ°›åœ
- **æ¿€å‹µæ¨™é¡Œå€åŸŸ**ï¼šçç›ƒåœ–æ¨™ã€æ¿€å‹µæ¨™èªã€åœ“è§’è¨­è¨ˆ
- **æ¿€å‹µè¨Šæ¯å¡ç‰‡**ï¼šç™½è‰²èƒŒæ™¯ã€æ©™è‰²é‚Šæ¡†ã€è¶¨å‹¢åœ–æ¨™
- **åº•éƒ¨æ¿€å‹µåˆ—**ï¼šæ˜Ÿæ˜Ÿåœ–æ¨™ã€å‹•æ…‹å¤©æ•¸é¡¯ç¤º

#### 3.6.4 æ½›åœ¨è¦ºé†’è€…æ¨¡å¼UIæ¸¬è©¦
- **æ¥µç°¡ä¸»é¡Œé…ç½®**ï¼šç¶ è‰²ä¸»è‰²èª¿ã€èˆ’é©èƒŒæ™¯è‰²å½©
- **ä¸­å¤®å°é½Šä½ˆå±€**ï¼šMainAxisAlignment.centeræ‰€æœ‰å…§å®¹å±…ä¸­
- **æº«å’Œè¦–è¦ºå…ƒç´ **ï¼šç”Ÿæ…‹åœ–æ¨™ã€å‹å–„æ¨™èªã€å¤§å­—é«”
- **æ¥µç°¡å…§å®¹å®¹å™¨**ï¼šåœ“è§’è¨­è¨ˆã€æ·¡ç¶ é™°å½±ã€å¯¬é¬†é–“è·

---

## 4. è©³ç´°æ¸¬è©¦æ¡ˆä¾‹

### 4.1 Widgetå»ºæ§‹æ¸¬è©¦æ¡ˆä¾‹

#### TC-001 æ­¡è¿é é¢Widgetå»ºæ§‹å®Œæ•´æ€§é©—è­‰
- **ç›®çš„**ï¼šé©—è­‰AUTH_buildWelcomePageçš„å®Œæ•´Widgetå»ºæ§‹
- **å‰ç½®æ¢ä»¶**ï¼š
  - Flutteræ¸¬è©¦ç’°å¢ƒå°±ç·’
  - UserModeæšèˆ‰å®šç¾©å®Œæ•´
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. å»ºæ§‹AuthWidgetTestHelpers.createTestWrapper
  2. å‘¼å«AUTH_buildWelcomePageä¸¦å‚³å…¥æ¸¬è©¦åƒæ•¸
  3. ä½¿ç”¨WidgetTester.pumpWidgetæ¸²æŸ“Widget
  4. é©—è­‰Scaffoldå­˜åœ¨
  5. é©—è­‰SafeAreaåŒ…è£
  6. é©—è­‰å“ç‰Œæ¨™èªŒContainerå­˜åœ¨
  7. é©—è­‰ä¸»æ¨™é¡ŒTextå­˜åœ¨ä¸”å…§å®¹æ­£ç¢º
  8. é©—è­‰å‰¯æ¨™é¡ŒTextå­˜åœ¨
  9. é©—è­‰GridViewï¼ˆæ¨¡å¼é¸æ“‡å™¨ï¼‰å­˜åœ¨
  10. é©—è­‰ç¹¼çºŒæŒ‰éˆ•ElevatedButtonå­˜åœ¨
- **é©—è­‰é»**ï¼š
  - `expect(find.byType(Scaffold), findsOneWidget)`
  - `expect(find.byType(SafeArea), findsOneWidget)`
  - `expect(find.text('æ­¡è¿ä½¿ç”¨ LCAS 2.0'), findsOneWidget)`
  - `expect(find.byType(GridView), findsOneWidget)`
  - `expect(find.text('é–‹å§‹ä½¿ç”¨'), findsOneWidget)`
- **é æœŸçµæœ**ï¼šæ‰€æœ‰Widgetå…ƒä»¶æ­£ç¢ºå»ºæ§‹ä¸¦é¡¯ç¤º

#### TC-002 å››æ¨¡å¼é¸æ“‡å™¨Widgetå»ºæ§‹é©—è­‰
- **ç›®çš„**ï¼šé©—è­‰AUTH_buildModeSelectorçš„ç¶²æ ¼ä½ˆå±€å’Œæ¨¡å¼é¡¯ç¤º
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. å»ºæ§‹æ¸¬è©¦åŒ…è£å™¨
  2. å‘¼å«AUTH_buildModeSelector
  3. é©—è­‰GridView.countåƒæ•¸è¨­å®š
  4. é©—è­‰æ‰€æœ‰UserMode.valueséƒ½æœ‰å°æ‡‰çš„é¸é …
  5. æª¢æŸ¥æ¯å€‹æ¨¡å¼çš„åœ–æ¨™å’Œåç¨±é¡¯ç¤º
  6. é©—è­‰é¸æ“‡ç‹€æ…‹çš„è¦–è¦ºå·®ç•°
- **é©—è­‰é»**ï¼š
  - GridView crossAxisCountç‚º2
  - å››å€‹InkWell Widgetå­˜åœ¨
  - æ¯å€‹æ¨¡å¼çš„Iconå’ŒTextæ­£ç¢ºé¡¯ç¤º
  - é¸ä¸­ç‹€æ…‹çš„Containerè£é£¾æ­£ç¢ºæ‡‰ç”¨

#### TC-003 ç™»å…¥é é¢æ¢ä»¶å¼å…§å®¹æ¸²æŸ“é©—è­‰
- **ç›®çš„**ï¼šé©—è­‰ä¸åŒæ¨¡å¼ä¸‹ç™»å…¥é¸é …çš„æ¢ä»¶å¼é¡¯ç¤º
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. æ¸¬è©¦Sleeperæ¨¡å¼ï¼šåªé¡¯ç¤ºOAuthæŒ‰éˆ•ï¼Œéš±è—Emailç™»å…¥
  2. æ¸¬è©¦å…¶ä»–æ¨¡å¼ï¼šé¡¯ç¤ºå®Œæ•´ç™»å…¥é¸é …
  3. é©—è­‰åˆ†éš”ç·šçš„æ¢ä»¶å¼é¡¯ç¤º
  4. é©—è­‰Emailç™»å…¥è¡¨å–®çš„æ¢ä»¶å¼é¡¯ç¤º
- **é©—è­‰é»**ï¼š
  - Sleeperæ¨¡å¼ä¸‹find.text('æˆ–')æ‡‰è©²è¿”å›findsNothing
  - éSleeperæ¨¡å¼ä¸‹æ‡‰è©²æ‰¾åˆ°åˆ†éš”ç·šå’ŒEmailè¡¨å–®
  - OAuthæŒ‰éˆ®åœ¨æ‰€æœ‰æ¨¡å¼éƒ½å­˜åœ¨

### 4.2 ä½¿ç”¨è€…äº’å‹•æ¸¬è©¦æ¡ˆä¾‹

#### TC-004 æ¨¡å¼é¸æ“‡äº’å‹•æµç¨‹é©—è­‰
- **ç›®çš„**ï¼šé©—è­‰ä½¿ç”¨è€…é»æ“Šæ¨¡å¼é¸é …çš„äº’å‹•å›é¥‹
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. æ¸²æŸ“æ­¡è¿é é¢Widget
  2. æŸ¥æ‰¾ç¬¬ä¸€å€‹æ¨¡å¼é¸é …ï¼ˆç²¾æº–æ§åˆ¶è€…ï¼‰
  3. åŸ·è¡Œtapæ‰‹å‹¢
  4. é©—è­‰onModeSelectedå›èª¿è¢«å‘¼å«
  5. é©—è­‰é¸æ“‡ç‹€æ…‹çš„è¦–è¦ºè®ŠåŒ–
  6. é©—è­‰ç¹¼çºŒæŒ‰éˆ•çš„å•Ÿç”¨ç‹€æ…‹è®ŠåŒ–
- **é©—è­‰é»**ï¼š
  ```dart
  await tester.tap(find.text('ç²¾æº–æ§åˆ¶è€…'));
  await tester.pump();
  expect(selectedMode, equals(UserMode.controller));
  expect(find.byType(ElevatedButton), findsOneWidget);
  ```

#### TC-005 è¡¨å–®è¼¸å…¥äº’å‹•é©—è­‰
- **ç›®çš„**ï¼šé©—è­‰Emailç™»å…¥è¡¨å–®çš„ä½¿ç”¨è€…è¼¸å…¥äº’å‹•
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. æ¸²æŸ“ç™»å…¥é é¢ï¼ˆéSleeperæ¨¡å¼ï¼‰
  2. æŸ¥æ‰¾Emailè¼¸å…¥æ¡†
  3. è¼¸å…¥æ¸¬è©¦Emailåœ°å€
  4. æŸ¥æ‰¾å¯†ç¢¼è¼¸å…¥æ¡†
  5. è¼¸å…¥æ¸¬è©¦å¯†ç¢¼
  6. é»æ“Šç™»å…¥æŒ‰éˆ•
  7. é©—è­‰è¡¨å–®æäº¤é‚è¼¯
- **æ¸¬è©¦ä»£ç¢¼ç¯„ä¾‹**ï¼š
  ```dart
  await tester.enterText(
    find.byType(TextFormField).first, 
    'test@example.com'
  );
  await tester.enterText(
    find.byType(TextFormField).last, 
    'password123'
  );
  await tester.tap(find.text('ç™»å…¥'));
  await tester.pump();
  ```

#### TC-006 OAuthæŒ‰éˆ•äº’å‹•æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰ä¸åŒOAuthç™»å…¥æŒ‰éˆ•çš„é»æ“Šäº’å‹•
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. æ¸²æŸ“ç™»å…¥é é¢
  2. é©—è­‰LINEç™»å…¥æŒ‰éˆ•å­˜åœ¨ä¸”å¯é»æ“Š
  3. æ¸¬è©¦Googleç™»å…¥æŒ‰éˆ•ï¼ˆéSleeperæ¨¡å¼ï¼‰
  4. æ¸¬è©¦Appleç™»å…¥æŒ‰éˆ•ï¼ˆåƒ…Controlleræ¨¡å¼ï¼‰
  5. é©—è­‰è¼‰å…¥ç‹€æ…‹æ™‚æŒ‰éˆ•ç¦ç”¨
- **æ¨¡å¼å·®ç•°é©—è­‰**ï¼š
  ```dart
  // Controlleræ¨¡å¼ï¼šæ‡‰è©²æœ‰3å€‹OAuthæŒ‰éˆ•
  final controllerButtons = find.byType(ElevatedButton);
  expect(controllerButtons, findsNWidgets(3));
  
  // Sleeperæ¨¡å¼ï¼šåªæœ‰LINEæŒ‰éˆ•
  final sleeperButtons = find.byType(ElevatedButton);
  expect(sleeperButtons, findsOneWidget);
  ```

### 4.3 è¡¨å–®é©—è­‰æ¸¬è©¦æ¡ˆä¾‹

#### TC-007 Emailæ ¼å¼é©—è­‰æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰Emailè¼¸å…¥æ¡†çš„æ ¼å¼é©—è­‰é‚è¼¯
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. æ¸²æŸ“åŒ…å«Emailè¼¸å…¥æ¡†çš„è¡¨å–®
  2. æ¸¬è©¦æœ‰æ•ˆEmailæ ¼å¼
  3. æ¸¬è©¦ç„¡æ•ˆEmailæ ¼å¼
  4. é©—è­‰éŒ¯èª¤è¨Šæ¯é¡¯ç¤º
  5. é©—è­‰è¡¨å–®æäº¤é˜»æ“‹
- **æ¸¬è©¦æ•¸æ“šé©…å‹•**ï¼š
  ```dart
  final emailTestCases = [
    {'input': 'valid@example.com', 'shouldPass': true},
    {'input': 'invalid-email', 'shouldPass': false},
    {'input': '', 'shouldPass': false},
  ];
  
  for (final testCase in emailTestCases) {
    await tester.enterText(emailField, testCase['input']);
    await tester.pump();
    
    if (testCase['shouldPass']) {
      expect(find.text('Emailæ ¼å¼ä¸æ­£ç¢º'), findsNothing);
    } else {
      expect(find.text('Emailæ ¼å¼ä¸æ­£ç¢º'), findsOneWidget);
    }
  }
  ```

#### TC-008 å¯†ç¢¼å¼·åº¦é©—è­‰æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰å¯†ç¢¼è¼¸å…¥çš„å¼·åº¦è¦æ±‚é©—è­‰
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. æ¸¬è©¦8å­—å…ƒä»¥ä¸‹å¯†ç¢¼ï¼ˆæ‡‰è©²å¤±æ•—ï¼‰
  2. æ¸¬è©¦åªåŒ…å«å­—æ¯çš„å¯†ç¢¼ï¼ˆæ ¹æ“šéœ€æ±‚åˆ¤æ–·ï¼‰
  3. æ¸¬è©¦åªåŒ…å«æ•¸å­—çš„å¯†ç¢¼ï¼ˆæ ¹æ“šéœ€æ±‚åˆ¤æ–·ï¼‰
  4. æ¸¬è©¦ç¬¦åˆè¦æ±‚çš„å¯†ç¢¼ï¼ˆæ‡‰è©²é€šéï¼‰
- **é©—è­‰é‚è¼¯**ï¼š
  ```dart
  // æ¸¬è©¦å¯†ç¢¼å¤ªçŸ­
  await tester.enterText(passwordField, '123');
  await tester.pump();
  expect(find.text('å¯†ç¢¼è‡³å°‘éœ€è¦8å€‹å­—å…ƒ'), findsOneWidget);
  
  // æ¸¬è©¦æœ‰æ•ˆå¯†ç¢¼
  await tester.enterText(passwordField, 'ValidPass123');
  await tester.pump();
  expect(find.textContaining('å¯†ç¢¼'), findsNothing);
  ```

#### TC-009 è¨»å†Šè¡¨å–®ç¢ºèªå¯†ç¢¼é©—è­‰
- **ç›®çš„**ï¼šé©—è­‰è¨»å†Šæ™‚ç¢ºèªå¯†ç¢¼çš„ä¸€è‡´æ€§æª¢æŸ¥
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. æ¸²æŸ“è¨»å†Šè¡¨å–®ï¼ˆéSleeperæ¨¡å¼ï¼‰
  2. åœ¨å¯†ç¢¼æ¬„ä½è¼¸å…¥å¯†ç¢¼
  3. åœ¨ç¢ºèªå¯†ç¢¼æ¬„ä½è¼¸å…¥ä¸åŒå¯†ç¢¼
  4. é©—è­‰éŒ¯èª¤è¨Šæ¯é¡¯ç¤º
  5. è¼¸å…¥ç›¸åŒå¯†ç¢¼é©—è­‰é€šé
- **ä¸€è‡´æ€§æª¢æŸ¥**ï¼š
  ```dart
  await tester.enterText(passwordField, 'password123');
  await tester.enterText(confirmPasswordField, 'different123');
  await tester.pump();
  expect(find.text('å¯†ç¢¼ä¸ä¸€è‡´'), findsOneWidget);
  
  await tester.enterText(confirmPasswordField, 'password123');
  await tester.pump();
  expect(find.text('å¯†ç¢¼ä¸ä¸€è‡´'), findsNothing);
  ```

### 4.4 å››æ¨¡å¼é«”é©—æ¸¬è©¦æ¡ˆä¾‹

#### TC-010 ç²¾æº–æ§åˆ¶è€…æ¨¡å¼å®Œæ•´é«”é©—æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰ç²¾æº–æ§åˆ¶è€…æ¨¡å¼çš„å°ˆæ¥­å®Œæ•´ä»‹é¢
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. è¨­å®šUserMode.controller
  2. æ¸²æŸ“å„èªè­‰é é¢
  3. é©—è­‰å°ˆæ¥­è—è‰²ä¸»é¡Œæ‡‰ç”¨
  4. é©—è­‰å®Œæ•´åŠŸèƒ½é¸é …é¡¯ç¤º
  5. é©—è­‰é€²éšè¨­å®šå¯è¦‹æ€§
  6. é©—è­‰Appleç™»å…¥é¸é …å­˜åœ¨
- **å°ˆæ¥­ç‰¹è‰²é©—è­‰**ï¼š
  ```dart
  // é©—è­‰å°ˆæ¥­ä¸»é¡Œè‰²å½©
  final themeData = tester.widget<Theme>(find.byType(Theme)).data;
  expect(themeData.primaryColor, equals(Color(0xFF1976D2)));
  
  // é©—è­‰Appleç™»å…¥æŒ‰éˆ•å­˜åœ¨ï¼ˆåƒ…Controlleræ¨¡å¼ï¼‰
  expect(find.text('Apple ç™»å…¥'), findsOneWidget);
  
  // é©—è­‰å°ˆæ¥­æ¨™é¡Œåˆ—
  expect(find.text('ğŸ¯ ç²¾æº–æ§åˆ¶è€…æ¨¡å¼'), findsOneWidget);
  ```

#### TC-011 æ½›åœ¨è¦ºé†’è€…æ¨¡å¼æ¥µç°¡é«”é©—æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰æ½›åœ¨è¦ºé†’è€…æ¨¡å¼çš„æ¥µç°¡æ˜“ç”¨ä»‹é¢
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. è¨­å®šUserMode.sleeper
  2. é©—è­‰å¤§æŒ‰éˆ•è¨­è¨ˆï¼ˆ72åƒç´ é«˜åº¦ï¼‰
  3. é©—è­‰ç°¡åŒ–åŠŸèƒ½é¸é …ï¼ˆéš±è—Emailç™»å…¥ï¼‰
  4. é©—è­‰å‹å–„çš„è¦–è¦ºå…ƒç´ 
  5. é©—è­‰æ¥µç°¡çš„è¨»å†Šæµç¨‹
- **æ¥µç°¡ç‰¹è‰²é©—è­‰**ï¼š
  ```dart
  // é©—è­‰å¤§æŒ‰éˆ•é«˜åº¦
  final button = tester.widget<SizedBox>(find.byType(SizedBox));
  expect(button.height, equals(72.0));
  
  // é©—è­‰Emailç™»å…¥è¡¨å–®ä¸å­˜åœ¨
  expect(find.text('æˆ–'), findsNothing);
  expect(find.text('å¿˜è¨˜å¯†ç¢¼ï¼Ÿ'), findsNothing);
  
  // é©—è­‰æ¥µç°¡æ¨™é¡Œ
  expect(find.text('ğŸŒ± è¼•é¬†è¨˜å¸³'), findsOneWidget);
  ```

#### TC-012 æ¨¡å¼åˆ‡æ›ä¸€è‡´æ€§æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰åœ¨ä¸åŒæ¨¡å¼é–“åˆ‡æ›æ™‚çš„ä¸€è‡´æ€§
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. å¾Controlleræ¨¡å¼åˆ‡æ›åˆ°Sleeperæ¨¡å¼
  2. é©—è­‰UIå…ƒç´ çš„æ­£ç¢ºèª¿æ•´
  3. é©—è­‰åŠŸèƒ½é¸é …çš„å‹•æ…‹é¡¯ç¤º/éš±è—
  4. é©—è­‰ä¸»é¡Œè‰²å½©çš„å¹³æ»‘åˆ‡æ›
  5. é©—è­‰ç‹€æ…‹è³‡æ–™çš„ä¿æŒ
- **ä¸€è‡´æ€§ä¿è­‰**ï¼š
  ```dart
  // åˆ‡æ›å‰å¾Œçš„ç‹€æ…‹é©—è­‰
  expect(formData.email, equals(previousEmail));
  expect(formData.isValid, equals(previousValidState));
  
  // UIèª¿æ•´é©—è­‰
  final newTheme = _getModeColor(UserMode.sleeper);
  expect(newTheme, equals(Color(0xFF4CAF50)));
  ```

### 4.5 æ•´åˆæ€§æ¸¬è©¦æ¡ˆä¾‹

#### TC-013 å®Œæ•´èªè­‰æµç¨‹æ•´åˆæ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰å¾æ­¡è¿é é¢åˆ°è¨»å†Šå®Œæˆçš„å®Œæ•´æµç¨‹
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. æ¸²æŸ“æ­¡è¿é é¢
  2. é¸æ“‡ä½¿ç”¨è€…æ¨¡å¼
  3. é»æ“Šè¨»å†Šé¸é …
  4. å¡«å¯«è¨»å†Šè¡¨å–®
  5. æäº¤è¨»å†Šè³‡æ–™
  6. é©—è­‰æˆåŠŸå›é¥‹
- **ç«¯åˆ°ç«¯é©—è­‰**ï¼š
  ```dart
  // å®Œæ•´æµç¨‹æ¸¬è©¦
  await tester.tap(find.text('ç²¾æº–æ§åˆ¶è€…'));
  await tester.pump();
  
  await tester.tap(find.text('è¨»å†Šæ–°å¸³è™Ÿ'));
  await tester.pumpAndSettle();
  
  // å¡«å¯«è¡¨å–®...
  await tester.enterText(emailField, 'newuser@example.com');
  await tester.enterText(passwordField, 'NewPassword123');
  
  // æäº¤ä¸¦é©—è­‰
  await tester.tap(find.text('è¨»å†Š'));
  await tester.pump();
  
  verify(mockAuthService.register(any)).called(1);
  ```

#### TC-014 ç‹€æ…‹ç®¡ç†æ•´åˆæ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰AuthUiDisplayStateèˆ‡Widgetçš„æ•´åˆ
- **æ¸¬è©¦æ­¥é©Ÿ**ï¼š
  1. åˆå§‹åŒ–AuthUiDisplayState
  2. è§¸ç™¼ç‹€æ…‹è®Šæ›´æ“ä½œ
  3. é©—è­‰Widget UIçš„ç›¸æ‡‰æ›´æ–°
  4. æ¸¬è©¦ç‹€æ…‹æŒä¹…æ€§
- **ç‹€æ…‹åŒæ­¥é©—è­‰**ï¼š
  ```dart
  final authState = Provider.of<AuthUiDisplayState>(context, listen: false);
  
  authState.setSelectedMode(UserMode.logger);
  await tester.pump();
  
  expect(find.text('âœ¨ å„ªé›…è¨˜å¸³é«”é©—'), findsOneWidget);
  expect(authState.selectedMode, equals(UserMode.logger));
  ```

---

## 5. æ•ˆèƒ½èˆ‡Widgetæ¸¬è©¦

### 5.1 Widgetæ¸²æŸ“æ•ˆèƒ½

#### TC-015 Widgetå»ºæ§‹æ™‚é–“æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰æ‰€æœ‰Widgetå»ºæ§‹æ™‚é–“ç¬¦åˆ60fpsè¦æ±‚
- **æ¸¬è©¦ç›®æ¨™**ï¼šæ‰€æœ‰Widgetå»ºæ§‹æ™‚é–“ < 16msï¼ˆæ»¿è¶³60fpsè¦æ±‚ï¼‰
- **æ¸¬è©¦æ–¹æ³•**ï¼š
  ```dart
  testWidgets('Widgetå»ºæ§‹æ•ˆèƒ½æ¸¬è©¦', (WidgetTester tester) async {
    final stopwatch = Stopwatch()..start();
    
    await tester.pumpWidget(
      AuthWidgetTestHelpers.createTestWrapper(
        child: AUTH_buildWelcomePage(
          context: tester.element(find.byType(MaterialApp)),
          selectedMode: null,
          onModeSelected: (mode) {},
          onContinue: () {},
        ),
      ),
    );
    
    stopwatch.stop();
    expect(stopwatch.elapsedMilliseconds, lessThan(16));
  });
  ```

#### TC-016 é é¢åˆ‡æ›å‹•ç•«æµæš¢åº¦æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰é é¢åˆ‡æ›å‹•ç•«çš„æµæš¢åº¦è¡¨ç¾
- **æ¸¬è©¦ç›®æ¨™**ï¼šé é¢åˆ‡æ›å‹•ç•«æµæš¢åº¦ > 90%
- **æ¸¬è©¦æ–¹æ³•**ï¼š
  - ä½¿ç”¨`tester.pumpAndSettle()`æ¸¬è©¦å‹•ç•«å®Œæˆ
  - ç›£æ§å‹•ç•«æœŸé–“çš„å¹€ç‡
  - é©—è­‰ç„¡æ‰å¹€æˆ–å¡é “ç¾è±¡

### 5.2 ç‹€æ…‹ç®¡ç†æ•ˆèƒ½

#### TC-017 ç‹€æ…‹æ›´æ–°å›æ‡‰æ™‚é–“æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰ç‹€æ…‹æ›´æ–°å¾ŒUIçš„å›æ‡‰æ™‚é–“æ•ˆèƒ½
- **æ¸¬è©¦ç›®æ¨™**ï¼šç‹€æ…‹æ›´æ–°å¾ŒUIå›æ‡‰æ™‚é–“ < 100ms
- **æ¸¬è©¦æ–¹æ³•**ï¼š
  ```dart
  testWidgets('ç‹€æ…‹æ›´æ–°æ•ˆèƒ½æ¸¬è©¦', (WidgetTester tester) async {
    final authState = AuthUiDisplayState();
    
    await tester.pumpWidget(
      ChangeNotifierProvider.value(
        value: authState,
        child: Consumer<AuthUiDisplayState>(
          builder: (context, state, child) {
            return Text(state.selectedMode?.toString() ?? '');
          },
        ),
      ),
    );
    
    final stopwatch = Stopwatch()..start();
    authState.setSelectedMode(UserMode.controller);
    await tester.pump();
    stopwatch.stop();
    
    expect(stopwatch.elapsedMilliseconds, lessThan(100));
  });
  ```

#### TC-018 è¨˜æ†¶é«”æ´©æ¼æª¢æ¸¬æ¸¬è©¦
- **ç›®çš„**ï¼šç¢ºä¿Widgetç”Ÿå‘½é€±æœŸç®¡ç†æ­£ç¢ºï¼Œç„¡è¨˜æ†¶é«”æ´©æ¼
- **æ¸¬è©¦ç›®æ¨™**ï¼šç¢ºä¿Widget disposeå¾Œç„¡è¨˜æ†¶é«”æ´©æ¼
- **æ¸¬è©¦æ–¹æ³•**ï¼š
  - ç›£æ§Widgetç”Ÿå‘½é€±æœŸ
  - é©—è­‰Controlleræ­£ç¢ºdispose
  - æª¢æŸ¥ChangeNotifieræ­£ç¢ºæ¸…ç†

### 5.3 è¨˜æ†¶é«”ä½¿ç”¨ç›£æ§

#### TC-019 Widgetè¨˜æ†¶é«”ä½¿ç”¨ç›£æ§æ¸¬è©¦
- **ç›®çš„**ï¼šç›£æ§Widgetçš„è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³å’Œé‡‹æ”¾æ©Ÿåˆ¶
- **æ¸¬è©¦æ–¹æ³•**ï¼š
  ```dart
  testWidgets('è¨˜æ†¶é«”ä½¿ç”¨ç›£æ§', (WidgetTester tester) async {
    // è¨˜éŒ„åˆå§‹è¨˜æ†¶é«”ä½¿ç”¨
    final initialMemory = await tester.binding.defaultBinaryMessenger
        .send('_getMemoryUsage', null);
    
    // å»ºæ§‹è¤‡é›œWidget
    await tester.pumpWidget(complexAuthWidget);
    
    // è¨˜éŒ„å³°å€¼è¨˜æ†¶é«”ä½¿ç”¨
    final peakMemory = await tester.binding.defaultBinaryMessenger
        .send('_getMemoryUsage', null);
    
    // æ¸…ç†Widget
    await tester.pumpWidget(Container());
    
    // é©—è­‰è¨˜æ†¶é«”é‡‹æ”¾
    final finalMemory = await tester.binding.defaultBinaryMessenger
        .send('_getMemoryUsage', null);
    
    expect(finalMemory, lessThanOrEqualTo(initialMemory * 1.1));
  });
  ```

---

## 6. ç„¡éšœç¤™èˆ‡ä½¿ç”¨æ€§æ¸¬è©¦

### 6.1 WCAG 2.1 AAæ¨™æº–é©—è­‰

#### TC-020 è‰²å½©å°æ¯”åº¦é©—è­‰æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰å››æ¨¡å¼UIçš„è‰²å½©å°æ¯”åº¦ç¬¦åˆWCAG 2.1 AAæ¨™æº–
- **æ¨™æº–è¦æ±‚**ï¼šæ–‡å­—èˆ‡èƒŒæ™¯å°æ¯”åº¦ â‰¥ 4.5:1
- **æ¸¬è©¦æ–¹æ³•**ï¼š
  ```dart
  testWidgets('è‰²å½©å°æ¯”åº¦é©—è­‰', (WidgetTester tester) async {
    await tester.pumpWidget(
      AUTH_buildControllerModeUI(
        context: tester.element(find.byType(MaterialApp)),
        pageType: AuthPageType.login,
        pageProps: {'child': Container()},
      ),
    );
    
    // é©—è­‰ä¸»è¦æ–‡å­—å°æ¯”åº¦
    final theme = Theme.of(tester.element(find.byType(Theme)));
    final primaryColor = Color(0xFF1976D2);
    final backgroundColor = Colors.white;
    
    final contrastRatio = _calculateContrastRatio(primaryColor, backgroundColor);
    expect(contrastRatio, greaterThanOrEqualTo(4.5));
  });
  ```

#### TC-021 éµç›¤å°èˆªåŠŸèƒ½æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰æ‰€æœ‰äº’å‹•å…ƒç´ çš„éµç›¤å°èˆªå¯ç”¨æ€§
- **æ¸¬è©¦è¦æ±‚**ï¼šæ‰€æœ‰äº’å‹•å…ƒç´ å¯é€šééµç›¤å­˜å–
- **æ¸¬è©¦æ–¹æ³•**ï¼š
  ```dart
  testWidgets('éµç›¤å°èˆªæ¸¬è©¦', (WidgetTester tester) async {
    await tester.pumpWidget(authWidget);
    
    // Tabéµå°èˆªæ¸¬è©¦
    await tester.sendKeyEvent(LogicalKeyboardKey.tab);
    expect(tester.binding.focusManager.primaryFocus, isNotNull);
    
    // Enteréµå•Ÿç”¨æ¸¬è©¦
    await tester.sendKeyEvent(LogicalKeyboardKey.enter);
    verify(mockCallback()).called(1);
  });
  ```

### 6.2 è¢å¹•é–±è®€å™¨æ¸¬è©¦

#### TC-022 Semanticsæ¨™ç±¤é©—è­‰æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰æ‰€æœ‰é‡è¦UIå…ƒç´ éƒ½æœ‰é©ç•¶çš„è¢å¹•é–±è®€å™¨æ¨™ç±¤
- **æ¸¬è©¦ç›®æ¨™**ï¼šæ‰€æœ‰é‡è¦UIå…ƒç´ éƒ½æœ‰é©ç•¶çš„Semanticsæ¨™ç±¤
- **æ¸¬è©¦æ–¹æ³•**ï¼š
  ```dart
  testWidgets('Semanticsæ¨™ç±¤é©—è­‰', (WidgetTester tester) async {
    await tester.pumpWidget(authWidget);
    
    // é©—è­‰ç™»å…¥æŒ‰éˆ•çš„èªç¾©æ¨™ç±¤
    expect(
      tester.getSemantics(find.text('ç™»å…¥')),
      matchesSemantics(
        label: 'ç™»å…¥',
        hint: 'é»æ“Šç™»å…¥',
        isButton: true,
        isEnabled: true,
      ),
    );
  });
  ```

#### TC-023 æœ—è®€é †åºé‚è¼¯æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰è¢å¹•é–±è®€å™¨çš„å…ƒç´ æœ—è®€é †åºåˆç†æ€§
- **æ¸¬è©¦è¦æ±‚**ï¼šå…ƒç´ æœ—è®€é †åºç¬¦åˆé‚è¼¯æµç¨‹
- **æ¸¬è©¦æ–¹æ³•**ï¼šé©—è­‰TabIndexå’ŒFocusé †åºçš„åˆç†æ€§

### 6.3 éµç›¤å°èˆªæ¸¬è©¦

#### TC-024 Tabé †åºå°èˆªæ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰Tabéµå°èˆªé †åºçš„é‚è¼¯æ€§å’Œè¦–è¦ºä¸€è‡´æ€§
- **æ¸¬è©¦ç›®æ¨™**ï¼šTabéµå°èˆªé †åºç¬¦åˆè¦–è¦ºæµç¨‹
- **æ¸¬è©¦æ–¹æ³•**ï¼šæ¨¡æ“¬TabéµæŒ‰å£“ï¼Œé©—è­‰ç„¦é»ç§»å‹•é †åº

#### TC-025 å¿«æ·éµæ”¯æ´åŠŸèƒ½æ¸¬è©¦
- **ç›®çš„**ï¼šé©—è­‰é—œéµå¿«æ·éµçš„åŠŸèƒ½æ­£ç¢ºæ€§
- **æ¸¬è©¦å…§å®¹**ï¼š
  - Enteréµæäº¤è¡¨å–®
  - Escapeéµå–æ¶ˆæ“ä½œ
  - æ–¹å‘éµå°èˆªï¼ˆå¦‚é©ç”¨ï¼‰

---

## 7. æ¸¬è©¦åŸ·è¡Œèˆ‡é©—æ”¶æ¨™æº–

### 7.1 æ¸¬è©¦æ’ç¨‹è¨ˆç•«

#### 7.1.1 Phase 1: åŸºç¤Widgetæ¸¬è©¦ (Week 1-2)
**Week 1: æ ¸å¿ƒWidgetå»ºæ§‹æ¸¬è©¦**
- Day 1-2: æ­¡è¿é é¢å’Œæ¨¡å¼é¸æ“‡å™¨Widgetæ¸¬è©¦
- Day 3-4: ç™»å…¥å’Œè¨»å†Šé é¢Widgetæ¸¬è©¦
- Day 5: å¯†ç¢¼é‡è¨­å’Œç™»å‡ºç¢ºèªWidgetæ¸¬è©¦

**Week 2: äº’å‹•å’Œé©—è­‰æ¸¬è©¦**
- Day 1-2: ä½¿ç”¨è€…äº’å‹•æµç¨‹æ¸¬è©¦
- Day 3-4: è¡¨å–®é©—è­‰é‚è¼¯æ¸¬è©¦
- Day 5: åŸºç¤æ¸¬è©¦çµæœåˆ†æèˆ‡å•é¡Œä¿®æ­£

#### 7.1.2 Phase 2: å››æ¨¡å¼å·®ç•°åŒ–æ¸¬è©¦ (Week 3)
- Day 1: ç²¾æº–æ§åˆ¶è€…å’Œç´€éŒ„ç¿’æ…£è€…æ¨¡å¼æ¸¬è©¦
- Day 2: è½‰å‹æŒ‘æˆ°è€…å’Œæ½›åœ¨è¦ºé†’è€…æ¨¡å¼æ¸¬è©¦
- Day 3-4: æ¨¡å¼åˆ‡æ›å’Œä¸€è‡´æ€§æ¸¬è©¦
- Day 5: æ¨¡å¼å·®ç•°åŒ–é©—è­‰å’Œèª¿å„ª

#### 7.1.3 Phase 3: æ•´åˆå’Œæ•ˆèƒ½æ¸¬è©¦ (Week 4)
- Day 1-2: Application Layeræ•´åˆæ¸¬è©¦
- Day 3-4: Widgetæ•ˆèƒ½å’Œè¨˜æ†¶é«”æ¸¬è©¦
- Day 5: æ•´åˆæ¸¬è©¦å•é¡Œä¿®æ­£

#### 7.1.4 Phase 4: ç„¡éšœç¤™å’Œé©—æ”¶æ¸¬è©¦ (Week 5)
- Day 1-2: WCAG 2.1 AAæ¨™æº–é©—è­‰æ¸¬è©¦
- Day 3-4: ä½¿ç”¨è€…é«”é©—å’Œå¯ç”¨æ€§æ¸¬è©¦
- Day 5: æœ€çµ‚æ¸¬è©¦å ±å‘Šå’Œç™¼å¸ƒå»ºè­°

### 7.2 é©—æ”¶æ¨™æº–å®šç¾©

#### 7.2.1 WidgetåŠŸèƒ½å®Œæ•´æ€§æ¨™æº– (å¿…é ˆé”æˆ)
- âœ… **15å€‹æ ¸å¿ƒå‡½æ•¸100%é€šéWidgetå»ºæ§‹æ¸¬è©¦**
- âœ… **å››æ¨¡å¼UIå·®ç•°åŒ–100%è¦–è¦ºé©—è­‰é€šé**
- âœ… **è¡¨å–®é©—è­‰é‚è¼¯100%æº–ç¢ºæ€§é©—è­‰**
- âœ… **ä½¿ç”¨è€…äº’å‹•æµç¨‹100%æµæš¢æ€§é©—è­‰**
- âœ… **æ•´åˆæ¸¬è©¦100%é€šé**

#### 7.2.2 æ•ˆèƒ½æŒ‡æ¨™æ¨™æº– (å¿…é ˆé”æˆ)
- âœ… **Widgetå»ºæ§‹æ™‚é–“ < 16ms (90%æ¸¬è©¦æ¡ˆä¾‹)**
- âœ… **ç‹€æ…‹æ›´æ–°å›æ‡‰æ™‚é–“ < 100ms (95%æ¸¬è©¦æ¡ˆä¾‹)**
- âœ… **è¨˜æ†¶é«”ä½¿ç”¨ç©©å®šï¼Œç„¡æ´©æ¼**
- âœ… **é é¢åˆ‡æ›å‹•ç•«æµæš¢åº¦ > 90%**

#### 7.2.3 ç„¡éšœç¤™æ¨™æº– (å¿…é ˆé”æˆ)
- âœ… **WCAG 2.1 AAæ¨™æº–100%åˆè¦**
- âœ… **è‰²å½©å°æ¯”åº¦ â‰¥ 4.5:1**
- âœ… **éµç›¤å°èˆª100%æ”¯æ´**
- âœ… **è¢å¹•é–±è®€å™¨ç›¸å®¹æ€§100%**
- âœ… **Semanticsæ¨™ç±¤å®Œæ•´æ€§100%**

#### 7.2.4 ä½¿ç”¨è€…é«”é©—æ¨™æº– (å¿…é ˆé”æˆ)
- âœ… **å››æ¨¡å¼ä½¿ç”¨è€…é«”é©—å·®ç•°åŒ–æ˜ç¢º**
- âœ… **è¡¨å–®æ“ä½œæˆåŠŸç‡ > 95%**
- âœ… **éŒ¯èª¤è™•ç†è¦†è“‹ç‡100%**
- âœ… **è¦–è¦ºä¸€è‡´æ€§100%**

### 7.3 å“è³ªé–€æª»

#### 7.3.1 Go/No-Goæ¨™æº–
**Goæ¢ä»¶ (å…¨éƒ¨æ»¿è¶³æ‰å¯ç™¼å¸ƒ):**
1. æ‰€æœ‰å¿…é ˆé”æˆæ¨™æº–100%é€šé
2. ç„¡Criticalç´šåˆ¥ç¼ºé™·
3. Highç´šåˆ¥ç¼ºé™· < 3å€‹ä¸”å·²æœ‰è§£æ±ºæ–¹æ¡ˆ
4. Widgetæ•ˆèƒ½æ¸¬è©¦é€šéSAåœ˜éšŠå¯©æ ¸
5. ç„¡éšœç¤™æ¸¬è©¦ç²å¾—UXåœ˜éšŠç°½æ ¸
6. å››æ¨¡å¼é«”é©—æ¸¬è©¦ç²å¾—ç”¢å“åœ˜éšŠèªå¯

**No-Goæ¢ä»¶ (ä»»ä¸€æ¢ä»¶å³å»¶æœŸç™¼å¸ƒ):**
1. ä»»ä¸€å¿…é ˆé”æˆæ¨™æº–æœªé€šé
2. å­˜åœ¨Criticalç´šåˆ¥ç¼ºé™·
3. WCAG 2.1 AAæ¨™æº–ä¸åˆè¦
4. Widgetæ•ˆèƒ½åš´é‡ä¸é”æ¨™
5. å››æ¨¡å¼é«”é©—å·®ç•°ä¸æ˜ç¢º
6. è¡¨å–®é©—è­‰å­˜åœ¨å®‰å…¨æ¼æ´

#### 7.3.2 ç™¼å¸ƒå¾Œç›£æ§æŒ‡æ¨™
- **æŠ€è¡“æŒ‡æ¨™**: Widgetæ¸²æŸ“æ™‚é–“ã€è¨˜æ†¶é«”ä½¿ç”¨ã€å´©æ½°ç‡
- **ä½¿ç”¨è€…é«”é©—æŒ‡æ¨™**: å®Œæˆç‡ã€éŒ¯èª¤ç‡ã€æ»¿æ„åº¦
- **ç„¡éšœç¤™æŒ‡æ¨™**: è¼”åŠ©æŠ€è¡“ä½¿ç”¨æˆåŠŸç‡

---

## 8. é¢¨éšªç®¡æ§èˆ‡ç·©è§£æªæ–½

### 8.1 é«˜é¢¨éšªé …ç›®ç®¡æ§

#### 8.1.1 å››æ¨¡å¼UIä¸€è‡´æ€§é¢¨éšª
**ç·©è§£æªæ–½**:
1. **UIè¦ç¯„æª¢æŸ¥æ¸…å–®**
   - å»ºç«‹å››æ¨¡å¼UIå…ƒç´ å°ç…§è¡¨
   - æ ¸å¿ƒåŠŸèƒ½åœ¨æ‰€æœ‰æ¨¡å¼éƒ½å¯ç”¨
   - è¦–è¦ºå·®ç•°æ˜ç¢ºä½†ä¸å½±éŸ¿åŠŸèƒ½

2. **è‡ªå‹•åŒ–è¦–è¦ºå›æ­¸æ¸¬è©¦**
   - æˆªåœ–æ¯”è¼ƒæ¸¬è©¦
   - åƒç´ ç´šå·®ç•°æª¢æ¸¬
   - è·¨æ¨¡å¼ä¸€è‡´æ€§é©—è­‰

#### 8.1.2 Widgetç‹€æ…‹ç®¡ç†é¢¨éšª
**ç·©è§£æªæ–½**:
1. **ç°¡åŒ–ç‹€æ…‹æ¶æ§‹**
   - ç§»é™¤ä¸å¿…è¦çš„ç‹€æ…‹å±¤ç´š
   - æ˜ç¢ºç‹€æ…‹ç”Ÿå‘½é€±æœŸ
   - åŠ å¼·disposeæ©Ÿåˆ¶

2. **è¨˜æ†¶é«”æ´©æ¼ç›£æ§**
   - å®šæœŸè¨˜æ†¶é«”ä½¿ç”¨æª¢æŸ¥
   - Controlleræ¸…ç†é©—è­‰
   - é•·æ™‚é–“é‹è¡Œæ¸¬è©¦

### 8.2 æ‡‰æ€¥é æ¡ˆ

#### 8.2.1 Widgetæ¸²æŸ“æ•…éšœæ‡‰å°
1. **é™ç´šæ¸²æŸ“æ©Ÿåˆ¶**
   - åŸºç¤Widgetå¾Œå‚™æ–¹æ¡ˆ
   - éŒ¯èª¤é‚Šç•Œè™•ç†
   - å„ªé›…é™ç´šç­–ç•¥

2. **å¿«é€Ÿä¿®å¾©æµç¨‹**
   - ç†±é‡è¼‰ä¿®å¾©æ©Ÿåˆ¶
   - ç·Šæ€¥ç‰ˆæœ¬ç™¼å¸ƒæµç¨‹
   - ä½¿ç”¨è€…é€šçŸ¥æ©Ÿåˆ¶

---

## 9. æ¸¬è©¦å ±å‘Šèˆ‡æ–‡ä»¶ç®¡ç†

### 9.1 æ¸¬è©¦å ±å‘Šçµæ§‹

#### 9.1.1 æ—¥å¸¸æ¸¬è©¦å ±å‘Š
**æª”æ¡ˆå‘½å**: `AUTH-daily-test-report-YYYYMMDD.md`
**å…§å®¹åŒ…å«**:
- Widgetæ¸¬è©¦åŸ·è¡Œçµæœ
- ç™¼ç¾çš„UIå•é¡Œ
- æ•ˆèƒ½æŒ‡æ¨™è¨˜éŒ„
- ä¸‹ä¸€æ­¥æ¸¬è©¦è¨ˆç•«

#### 9.1.2 æœ€çµ‚æ¸¬è©¦å ±å‘Š
**æª”æ¡ˆå‘½å**: `AUTH-final-test-report-v1.0.0.md`
**å…§å®¹åŒ…å«**:
- å®Œæ•´Widgetæ¸¬è©¦æ‘˜è¦
- å››æ¨¡å¼é«”é©—é©—è­‰çµæœ
- ç„¡éšœç¤™åˆè¦æ€§å ±å‘Š
- ç™¼å¸ƒå»ºè­°èˆ‡ç›£æ§è¨ˆç•«

### 9.2 æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶

#### 9.2.1 æ¸¬è©¦è¨ˆç•«ç‰ˆæœ¬
- **v1.0.0**: å®Œæ•´ç‰ˆèªè­‰åŠŸèƒ½ç¾¤çµ„æ¸¬è©¦è¨ˆç•« (ç•¶å‰ç‰ˆæœ¬)

#### 9.2.2 æ–‡ä»¶å„²å­˜ä½ç½®
- **æ¸¬è©¦è¨ˆç•«**: `97. Flutter_Test plan_Presentation layer/9701. èªè­‰åŠŸèƒ½ç¾¤çµ„_TP.md`
- **æ¸¬è©¦ç¨‹å¼ç¢¼**: `98. Flutter_Test code_Presentation layer/9801. AUTH_Tests.dart`
- **æ¸¬è©¦å ±å‘Š**: `95. Flutter_Test report/AUTH-test-report-*.md`

---

## é™„éŒ„

### A. Widgetæ¸¬è©¦è¼”åŠ©å·¥å…·æ¸…å–®
- [ ] AuthWidgetTestHelpersæ¸¬è©¦åŒ…è£å™¨
- [ ] Mock AuthServiceè¨­å®š
- [ ] å››æ¨¡å¼æ¸¬è©¦è³‡æ–™é›†
- [ ] è¡¨å–®é©—è­‰æ¸¬è©¦æ¡ˆä¾‹
- [ ] ç„¡éšœç¤™æ¸¬è©¦å·¥å…·
- [ ] æ•ˆèƒ½ç›£æ§å„€è¡¨æ¿

### B. æ¸¬è©¦ç’°å¢ƒæª¢æŸ¥æ¸…å–®
- [ ] Flutter SDK 3.10.0+å®‰è£
- [ ] æ¸¬è©¦è£ç½®ç’°å¢ƒæº–å‚™
- [ ] Mockæœå‹™è¨­å®šå®Œæˆ
- [ ] æ¸¬è©¦è³‡æ–™æº–å‚™å®Œæ•´
- [ ] CI/CDæ•´åˆé…ç½®

### C. é©—æ”¶æª¢æŸ¥æ¸…å–®
- [ ] 15å€‹æ ¸å¿ƒå‡½æ•¸æ¸¬è©¦é€šé
- [ ] å››æ¨¡å¼UIå·®ç•°é©—è­‰å®Œæˆ
- [ ] WCAG 2.1 AAæ¨™æº–åˆè¦
- [ ] æ•ˆèƒ½æŒ‡æ¨™é”æ¨™
- [ ] æ•´åˆæ¸¬è©¦é€šé

---

**æ–‡ä»¶ç‹€æ…‹**: Ready for Implementation  
**ç‰ˆæœ¬**: v1.0.0  
**å»ºç«‹æ—¥æœŸ**: 2025-01-21  
**å»ºç«‹è€…**: LCAS SQA Team  
**é©ç”¨æ¨¡çµ„**: 8601 èªè­‰åŠŸèƒ½ç¾¤çµ„ v2.6.0  

**ä¸‹ä¸€æ­¥è¡Œå‹•**:
1. âœ… SAåœ˜éšŠç¢ºèªæ¸¬è©¦é‡é»å®Œæ•´æ€§
2. â³ é–‹ç™¼åœ˜éšŠå»ºç«‹æ¸¬è©¦ç’°å¢ƒ
3. â³ åŸ·è¡ŒPhase 1åŸºç¤Widgetæ¸¬è©¦
4. â³ å»ºç«‹å››æ¨¡å¼å·®ç•°åŒ–æ¸¬è©¦åŸºç·š
5. â³ æ•´åˆæ¸¬è©¦èˆ‡ç„¡éšœç¤™é©—è­‰

---

**å“è³ªä¿è­‰è²æ˜**: æœ¬æ¸¬è©¦è¨ˆåŠƒé‡å°8601èªè­‰åŠŸèƒ½ç¾¤çµ„çš„15å€‹æ ¸å¿ƒå‡½æ•¸é€²è¡Œå…¨é¢Widgetæ¸¬è©¦è¨­è¨ˆï¼Œæ¶µè“‹å››æ¨¡å¼å·®ç•°åŒ–ã€ç„¡éšœç¤™åˆè¦æ€§ã€æ•ˆèƒ½å„ªåŒ–ç­‰é—œéµå“è³ªç¶­åº¦ï¼Œç¢ºä¿Flutter Presentation Layerçš„èªè­‰åŠŸèƒ½ç¬¦åˆLCAS 2.0ç³»çµ±è¦æ±‚ã€‚
