

# 8801. TDD_èªè­‰åŠŸèƒ½ç¾¤çµ„_v2.3.0

## æ–‡ä»¶è³‡è¨Š
- **æ–‡ä»¶æ¨™é¡Œ**: èªè­‰åŠŸèƒ½ç¾¤çµ„æŠ€è¡“è¨­è¨ˆæ–‡ä»¶
- **æ–‡ä»¶ç‰ˆæœ¬**: v2.3.0
- **å‰µå»ºæ—¥æœŸ**: 2025-08-11 14:00:00 +08:00 (å°ç£æ™‚é–“)
- **å‰µå»ºè€…**: LCAS SA Team
- **æœ€å¾Œæ›´æ–°**: 2025-08-11 16:00:00 +08:00 (å°ç£æ™‚é–“)
- **å°æ‡‰éœ€æ±‚æ–‡ä»¶**: 8701. èªè­‰æµç¨‹ç¾¤çµ„_SRS.md
- **æ¨¡çµ„ä»£ç¢¼**: AUTH (Authentication)

---

## ğŸ“‘ ç›®æ¬¡ (Table of Contents)

1. æŠ€è¡“æ¶æ§‹æ¦‚è¿°
   - 1.1 æ¨¡çµ„å®šä½
   - 1.2 æŠ€è¡“å †ç–Š
   - 1.3 æ¨¡çµ„æ¶æ§‹

2. å‡½æ•¸æ¸…å–®
   - 2.1 å®Œæ•´å‡½æ•¸ç´¢å¼•è¡¨
   - 2.2 å‡½æ•¸åˆ†å±¤æ¶æ§‹

3. æ ¸å¿ƒå‡½æ•¸è¨­è¨ˆ
   - 3.1 æ­¡è¿é é¢UIå±¤å‡½æ•¸
   - 3.2 ç™»å…¥é é¢UIå±¤å‡½æ•¸
   - 3.3 è¨»å†Šé é¢UIå±¤å‡½æ•¸
   - 3.4 å¯†ç¢¼é‡è¨­UIå±¤å‡½æ•¸
   - 3.5 ç™»å‡ºç¢ºèªUIå±¤å‡½æ•¸

4. å››æ¨¡å¼UIå·®ç•°åŒ–è¨­è¨ˆ
   - 4.1 ç²¾æº–æ§åˆ¶è€…æ¨¡å¼UIå¯¦ä½œ
   - 4.2 ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼UIå¯¦ä½œ
   - 4.3 è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼UIå¯¦ä½œ
   - 4.4 æ½›åœ¨è¦ºé†’è€…æ¨¡å¼UIå¯¦ä½œ

5. Widgetæ¶æ§‹è¨­è¨ˆ
   - 5.1 é é¢Widgetçµæ§‹
   - 5.2 å…±ç”¨Widgetå…ƒä»¶
   - 5.3 è¡¨å–®Widgetçµ„ä»¶

6. APIèª¿ç”¨æ˜ å°„
   - 6.1 F001-F005 APIå°æ‡‰é—œä¿‚
   - 6.2 APIèª¿ç”¨ä»‹é¢è¨­è¨ˆ
   - 6.3 éŒ¯èª¤è™•ç†UIå›é¥‹

7. ç‹€æ…‹ç®¡ç†è¨­è¨ˆ
   - 7.1 UIç‹€æ…‹ç®¡ç†
   - 7.2 è¡¨å–®ç‹€æ…‹ç®¡ç†
   - 7.3 å°èˆªç‹€æ…‹ç®¡ç†

8. æ¸¬è©¦ç­–ç•¥
   - 8.1 Widgetæ¸¬è©¦è¦†è“‹
   - 8.2 UIäº’å‹•æ¸¬è©¦
   - 8.3 å››æ¨¡å¼é«”é©—æ¸¬è©¦

9. æ–‡ä»¶ç¶­è­·è¨˜éŒ„

---

## 1.0 æŠ€è¡“æ¶æ§‹æ¦‚è¿°

### 1.1 æ¨¡çµ„å®šä½
èªè­‰åŠŸèƒ½ç¾¤çµ„ä½œç‚º LCAS 2.0 Flutteræ‡‰ç”¨ç¨‹å¼çš„**ç´”Presentation Layerå¯¦ä½œ**ï¼Œå°ˆæ³¨æ–¼UI Widgetè¨­è¨ˆã€ä½¿ç”¨è€…äº’å‹•é«”é©—ï¼Œä»¥åŠå››æ¨¡å¼å·®ç•°åŒ–ä»‹é¢å¯¦ç¾ã€‚æ‰€æœ‰æ¥­å‹™é‚è¼¯ç”±Application Layerè™•ç†ï¼Œæ‰€æœ‰è³‡æ–™å­˜å–ç”±AP Layeræä¾›ã€‚

### 1.2 æŠ€è¡“å †ç–Š
- **UIæ¡†æ¶**: Flutter/Dart Widgetç³»çµ±
- **ç‹€æ…‹ç®¡ç†**: Provider + ChangeNotifier (åƒ…UIç‹€æ…‹)
- **è¡¨å–®è™•ç†**: Flutter Form + TextFormField
- **å°èˆªç®¡ç†**: Flutter Navigator 2.0
- **ä¸»é¡Œç®¡ç†**: Flutter ThemeData
- **åœ‹éš›åŒ–**: flutter_localizations
- **å‹•ç•«**: flutter/animation

### 1.3 æ¨¡çµ„æ¶æ§‹
```dart
/**
 * AUTH_èªè­‰UIç¾¤çµ„_2.2.0
 * @module AUTH-UIæ¨¡çµ„
 * @description Flutterèªè­‰ä»‹é¢ç¾¤çµ„ - ç´”Presentation Layerå¯¦ä½œ
 * @update 2025-01-20: ç¯„åœæ”¶æ–‚è‡³UIå±¤ï¼Œç§»é™¤æ¥­å‹™é‚è¼¯èˆ‡è·¨å±¤æœå‹™
 */
```

---

## 2.0 å‡½æ•¸æ¸…å–®

### 2.1 å®Œæ•´å‡½æ•¸ç´¢å¼•è¡¨

| # | å‡½æ•¸åç¨± | ç‰ˆæœ¬ | æ‰€å±¬å±¤ç´š | åŠŸèƒ½æè¿° | å°æ‡‰API |
|---|----------|------|----------|----------|---------|
| 01 | AUTH_buildWelcomePage | V2.3.0 | æ­¡è¿é é¢UI | å»ºæ§‹æ­¡è¿é é¢Widget | F004 |
| 02 | AUTH_buildModeSelector | V2.3.0 | æ­¡è¿é é¢UI | å»ºæ§‹æ¨¡å¼é¸æ“‡Widget | - |
| 03 | AUTH_buildLoginPage | V2.3.0 | ç™»å…¥é é¢UI | å»ºæ§‹ç™»å…¥é é¢Widget | F002 |
| 04 | AUTH_buildOAuthButtons | V2.3.0 | ç™»å…¥é é¢UI | å»ºæ§‹OAuthç™»å…¥æŒ‰éˆ• | F002 |
| 05 | AUTH_buildEmailLoginForm | V2.3.0 | ç™»å…¥é é¢UI | å»ºæ§‹Emailç™»å…¥è¡¨å–® | F002 |
| 06 | AUTH_buildRegisterPage | V2.3.0 | è¨»å†Šé é¢UI | å»ºæ§‹è¨»å†Šé é¢Widget | F001 |
| 07 | AUTH_buildRegistrationForm | V2.3.0 | è¨»å†Šé é¢UI | å»ºæ§‹è¨»å†Šè¡¨å–®Widget | F001 |
| 08 | AUTH_buildPasswordResetPage | V2.3.0 | å¯†ç¢¼é‡è¨­UI | å»ºæ§‹å¯†ç¢¼é‡è¨­é é¢ | F005 |
| 09 | AUTH_buildResetSteps | V2.3.0 | å¯†ç¢¼é‡è¨­UI | å»ºæ§‹é‡è¨­æ­¥é©ŸWidget | F005 |
| 10 | AUTH_buildLogoutPage | V2.3.0 | ç™»å‡ºç¢ºèªUI | å»ºæ§‹ç™»å‡ºç¢ºèªé é¢ | F003 |
| 11 | AUTH_buildControllerModeUI | V2.3.0 | å››æ¨¡å¼UI | å»ºæ§‹ç²¾æº–æ§åˆ¶è€…ä»‹é¢ | - |
| 12 | AUTH_buildLoggerModeUI | V2.3.0 | å››æ¨¡å¼UI | å»ºæ§‹ç´€éŒ„ç¿’æ…£è€…ä»‹é¢ | - |
| 13 | AUTH_buildStruggleModeUI | V2.3.0 | å››æ¨¡å¼UI | å»ºæ§‹è½‰å‹æŒ‘æˆ°è€…ä»‹é¢ | - |
| 14 | AUTH_buildSleeperModeUI | V2.3.0 | å››æ¨¡å¼UI | å»ºæ§‹æ½›åœ¨è¦ºé†’è€…ä»‹é¢ | - |
| 15 | AUTH_buildLoadingIndicator | V2.3.0 | å…±ç”¨UIå…ƒä»¶ | å»ºæ§‹è¼‰å…¥æŒ‡ç¤ºå™¨ | - |

### 2.2 å‡½æ•¸åˆ†å±¤æ¶æ§‹

```
AUTHèªè­‰UIç¾¤çµ„ (v2.2.0)
â”œâ”€â”€ æ­¡è¿é é¢UIå±¤ (2å€‹å‡½æ•¸)
â”‚   â”œâ”€â”€ AUTH_buildWelcomePage() - æ­¡è¿é é¢ä¸»é«”
â”‚   â””â”€â”€ AUTH_buildModeSelector() - æ¨¡å¼é¸æ“‡å™¨
â”œâ”€â”€ ç™»å…¥é é¢UIå±¤ (3å€‹å‡½æ•¸)
â”‚   â”œâ”€â”€ AUTH_buildLoginPage() - ç™»å…¥é é¢ä¸»é«”
â”‚   â”œâ”€â”€ AUTH_buildOAuthButtons() - OAuthæŒ‰éˆ•çµ„
â”‚   â””â”€â”€ AUTH_buildEmailLoginForm() - Emailç™»å…¥è¡¨å–®
â”œâ”€â”€ è¨»å†Šé é¢UIå±¤ (2å€‹å‡½æ•¸)
â”‚   â”œâ”€â”€ AUTH_buildRegisterPage() - è¨»å†Šé é¢ä¸»é«”
â”‚   â””â”€â”€ AUTH_buildRegistrationForm() - è¨»å†Šè¡¨å–®
â”œâ”€â”€ å¯†ç¢¼é‡è¨­UIå±¤ (2å€‹å‡½æ•¸)
â”‚   â”œâ”€â”€ AUTH_buildPasswordResetPage() - é‡è¨­é é¢ä¸»é«”
â”‚   â””â”€â”€ AUTH_buildResetSteps() - é‡è¨­æ­¥é©Ÿçµ„ä»¶
â”œâ”€â”€ ç™»å‡ºç¢ºèªUIå±¤ (1å€‹å‡½æ•¸)
â”‚   â””â”€â”€ AUTH_buildLogoutPage() - ç™»å‡ºç¢ºèªé é¢
â”œâ”€â”€ å››æ¨¡å¼UIå±¤ (4å€‹å‡½æ•¸)
â”‚   â”œâ”€â”€ AUTH_buildControllerModeUI() - ç²¾æº–æ§åˆ¶è€…UI
â”‚   â”œâ”€â”€ AUTH_buildLoggerModeUI() - ç´€éŒ„ç¿’æ…£è€…UI
â”‚   â”œâ”€â”€ AUTH_buildStruggleModeUI() - è½‰å‹æŒ‘æˆ°è€…UI
â”‚   â””â”€â”€ AUTH_buildSleeperModeUI() - æ½›åœ¨è¦ºé†’è€…UI
â””â”€â”€ å…±ç”¨UIå…ƒä»¶ (1å€‹å‡½æ•¸)
    â””â”€â”€ AUTH_buildLoadingIndicator() - è¼‰å…¥æŒ‡ç¤ºå™¨
```

---

## 3.0 æ ¸å¿ƒå‡½æ•¸è¨­è¨ˆ

### 3.1 æ­¡è¿é é¢UIå±¤å‡½æ•¸

/**
 * 01. å»ºæ§‹æ­¡è¿é é¢Widget
 * @version 2025-01-20-V2.2.0
 * @date 2025-01-20 15:30:00
 * @description å»ºæ§‹æ­¡è¿é é¢çš„å®Œæ•´UIçµæ§‹
 * @param context - Flutter BuildContext
 * @param selectedMode - ç•¶å‰é¸æ“‡çš„ä½¿ç”¨è€…æ¨¡å¼
 * @param onModeSelected - æ¨¡å¼é¸æ“‡å›èª¿å‡½æ•¸
 * @param onContinue - ç¹¼çºŒæŒ‰éˆ•å›èª¿å‡½æ•¸
 * @param isLoading - è¼‰å…¥ç‹€æ…‹æ¨™è¨˜
 * @returns Widget - æ­¡è¿é é¢Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **å‡½æ•¸çµæ§‹è¨­è¨ˆ**
   - ä½¿ç”¨Scaffoldä½œç‚ºé é¢åŸºç¤çµæ§‹
   - SafeAreaç¢ºä¿å…§å®¹ä¸è¢«ç³»çµ±UIé®æ“‹
   - ä½¿ç”¨Columné€²è¡Œå‚ç›´ä½ˆå±€ï¼Œè¨­ç½®MainAxisAlignment.centerå±…ä¸­å°é½Š

2. **UIçµ„ä»¶ç·¨æ’**
   - é ‚éƒ¨æ”¾ç½®å“ç‰Œæ¨™èªŒï¼ˆImage.assetï¼‰ï¼Œè¨­å®šå›ºå®šå°ºå¯¸120x120
   - æ·»åŠ ä¸»æ¨™é¡Œã€Œæ­¡è¿ä½¿ç”¨ LCAS 2.0ã€ï¼Œä½¿ç”¨Themeçš„headlineMediumæ¨£å¼
   - å‰¯æ¨™é¡Œèªªæ˜æ–‡å­—ï¼Œå¼•å°ä½¿ç”¨è€…é¸æ“‡æ¨¡å¼ï¼Œä½¿ç”¨bodyLargeæ¨£å¼
   - å‘¼å«AUTH_buildModeSelectorå‡½æ•¸å»ºæ§‹æ¨¡å¼é¸æ“‡å™¨
   - åº•éƒ¨æ”¾ç½®ã€Œé–‹å§‹ä½¿ç”¨ã€æŒ‰éˆ•

3. **äº’å‹•é‚è¼¯è™•ç†**
   - ç¹¼çºŒæŒ‰éˆ•çš„å•Ÿç”¨ç‹€æ…‹ä¾æ“šselectedModeæ˜¯å¦ç‚ºnullå’ŒisLoadingç‹€æ…‹
   - è¼‰å…¥æ™‚é¡¯ç¤ºè¼‰å…¥æŒ‡ç¤ºå™¨ï¼Œå¦å‰‡é¡¯ç¤ºæŒ‰éˆ•æ–‡å­—
   - ä½¿ç”¨SizedBoxè¨­å®šæŒ‰éˆ•ç‚ºå…¨å¯¬åº¦ï¼Œé«˜åº¦56åƒç´ 

4. **é–“è·èˆ‡ä½ˆå±€**
   - æ•´é«”å…§å®¹å€åŸŸpaddingè¨­ç‚º24åƒç´ 
   - å„çµ„ä»¶é–“ä½¿ç”¨SizedBoxè¨­å®šé©ç•¶é–“è·ï¼ˆ16-48åƒç´ ï¼‰
   - ä¿æŒè¦–è¦ºå¹³è¡¡å’Œä¸€è‡´æ€§

/**
 * 02. å»ºæ§‹æ¨¡å¼é¸æ“‡Widget
 * @version 2025-01-20-V2.2.0
 * @date 2025-01-20 15:30:00
 * @description å»ºæ§‹å››æ¨¡å¼é¸æ“‡ç¶²æ ¼ä»‹é¢
 * @param context - Flutter BuildContext
 * @param selectedMode - ç•¶å‰é¸æ“‡çš„æ¨¡å¼
 * @param onModeSelected - æ¨¡å¼é¸æ“‡å›èª¿å‡½æ•¸
 * @returns Widget - æ¨¡å¼é¸æ“‡ç¶²æ ¼Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **ç¶²æ ¼ä½ˆå±€è¨­è¨ˆ**
   - ä½¿ç”¨GridView.countå»ºæ§‹2x2ç¶²æ ¼ä½ˆå±€
   - è¨­å®šshrinkWrapç‚ºtrueè®“GridViewæ ¹æ“šå…§å®¹èª¿æ•´é«˜å°
   - crossAxisCountè¨­ç‚º2ï¼Œå»ºæ§‹å…©æ¬„ä½ˆå±€
   - crossAxisSpacingå’ŒmainAxisSpacingè¨­ç‚º16ï¼Œæä¾›é©ç•¶é–“è·
   - childAspectRatioè¨­ç‚º1.0ï¼Œç¢ºä¿æ¯å€‹é¸é …ç‚ºæ­£æ–¹å½¢

2. **é¸é …å¡ç‰‡è¨­è¨ˆ**
   - éæ­·UserMode.valueså»ºæ§‹æ¯å€‹æ¨¡å¼é¸é …
   - ä½¿ç”¨InkWellåŒ…è£æä¾›è§¸æ§å›é¥‹æ•ˆæœ
   - Containerä½œç‚ºå¡ç‰‡å®¹å™¨ï¼Œè¨­ç½®åœ“è§’é‚Šæ¡†
   - æ ¹æ“šé¸æ“‡ç‹€æ…‹å‹•æ…‹èª¿æ•´èƒŒæ™¯è‰²å’Œé‚Šæ¡†æ¨£å¼

3. **è¦–è¦ºç‹€æ…‹è™•ç†**
   - é¸ä¸­ç‹€æ…‹ï¼šä½¿ç”¨æ¨¡å¼ä¸»è‰²çš„æ·ºè‰²èƒŒæ™¯ï¼Œè¼ƒç²—é‚Šæ¡†
   - æœªé¸ä¸­ç‹€æ…‹ï¼šç™½è‰²èƒŒæ™¯ï¼Œç°è‰²ç´°é‚Šæ¡†
   - å‘¼å«è¼”åŠ©å‡½æ•¸ç²å–æ¨¡å¼å°ˆå±¬é¡è‰²ã€åœ–æ¨™å’Œåç¨±

4. **å…§å®¹ä½ˆå±€**
   - ä½¿ç”¨Columnå‚ç›´æ’åˆ—åœ–æ¨™å’Œæ–‡å­—
   - MainAxisAlignment.centerä½¿å…§å®¹å±…ä¸­å°é½Š
   - åœ–æ¨™å¤§å°è¨­ç‚º32åƒç´ ï¼Œä½¿ç”¨æ¨¡å¼å°ˆå±¬é¡è‰²
   - æ–‡å­—æ¨£å¼è¨­å®šfont-weightç‚º600ï¼Œå­—é«”å¤§å°14
```

### 3.2 ç™»å…¥é é¢UIå±¤å‡½æ•¸

/**
 * 03. å»ºæ§‹ç™»å…¥é é¢Widget
 * @version 2025-01-20-V2.2.0
 * @date 2025-01-20 15:30:00
 * @description å»ºæ§‹ç™»å…¥é é¢çš„å®Œæ•´UIçµæ§‹ï¼Œæ”¯æ´å››æ¨¡å¼å·®ç•°åŒ–
 * @param context - Flutter BuildContext
 * @param userMode - ä½¿ç”¨è€…æ¨¡å¼
 * @param onLineLogin - LINEç™»å…¥å›èª¿
 * @param onGoogleLogin - Googleç™»å…¥å›èª¿
 * @param onAppleLogin - Appleç™»å…¥å›èª¿
 * @param onEmailLogin - Emailç™»å…¥å›èª¿ï¼Œæ¥æ”¶emailå’Œpasswordåƒæ•¸
 * @param onForgotPassword - å¿˜è¨˜å¯†ç¢¼å›èª¿
 * @param onRegister - è¨»å†Šå›èª¿
 * @param isLoading - è¼‰å…¥ç‹€æ…‹
 * @returns Widget - ç™»å…¥é é¢Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **é é¢çµæ§‹è¨­è¨ˆ**
   - ä½¿ç”¨Scaffoldå»ºæ§‹åŸºæœ¬é é¢çµæ§‹
   - AppBaré¡¯ç¤ºæ¨¡å¼ç‰¹å®šæ¨™é¡Œï¼ŒèƒŒæ™¯è‰²ä½¿ç”¨æ¨¡å¼ä¸»è‰²
   - SafeAreaå’ŒSingleChildScrollViewç¢ºä¿å…§å®¹å®‰å…¨é¡¯ç¤ºå’Œå¯æ»¾å‹•
   - æ•´é«”paddingè¨­ç‚º24åƒç´ 

2. **å…§å®¹å€åŸŸä½ˆå±€**
   - ä½¿ç”¨Columné€²è¡Œå‚ç›´ä½ˆå±€ï¼ŒCrossAxisAlignment.stretchè®“å­çµ„ä»¶æ’æ»¿å¯¬åº¦
   - é ‚éƒ¨é–“è·32åƒç´ å¾Œæ”¾ç½®æ¨¡å¼ç‰¹å®šçš„æ­¡è¿è¨Šæ¯
   - æ¨™é¡Œä½¿ç”¨headlineSmallæ¨£å¼ï¼Œé¡è‰²ç‚ºæ¨¡å¼ä¸»è‰²

3. **OAuthç™»å…¥å€åŸŸ**
   - å‘¼å«AUTH_buildOAuthButtonså»ºæ§‹OAuthç™»å…¥æŒ‰éˆ•çµ„
   - å‚³å…¥æ‰€æœ‰å¿…è¦çš„ç™»å…¥å›èª¿å‡½æ•¸å’Œè¼‰å…¥ç‹€æ…‹

4. **æ¢ä»¶å¼å…§å®¹æ¸²æŸ“**
   - ä½¿ç”¨ifèªå¥åˆ¤æ–·ï¼ŒéSleeperæ¨¡å¼æ‰é¡¯ç¤ºåˆ†éš”ç·šå’ŒEmailç™»å…¥è¡¨å–®
   - åˆ†éš”ç·šä½¿ç”¨Rowä½ˆå±€ï¼Œå…©å´Expandedçš„Dividerï¼Œä¸­é–“ã€Œæˆ–ã€å­—æ–‡å­—
   - Emailè¡¨å–®å€åŸŸå‘¼å«AUTH_buildEmailLoginFormå‡½æ•¸

5. **åº•éƒ¨å°èˆª**
   - æ·»åŠ ã€Œé‚„æ²’æœ‰å¸³è™Ÿï¼Ÿç«‹å³è¨»å†Šã€TextButton
   - ç¶å®šonRegisterå›èª¿å‡½æ•¸

6. **æ¨¡å¼å·®ç•°åŒ–è™•ç†**
   - Sleeperæ¨¡å¼ç°¡åŒ–ä»‹é¢ï¼Œéš±è—Emailç™»å…¥é¸é …
   - å…¶ä»–æ¨¡å¼æä¾›å®Œæ•´ç™»å…¥é¸é …

/**
 * 04. å»ºæ§‹OAuthç™»å…¥æŒ‰éˆ•çµ„
 * @version 2025-01-20-V2.2.0
 * @date 2025-01-20 15:30:00
 * @description å»ºæ§‹OAuthç™»å…¥æŒ‰éˆ•ï¼Œæ”¯æ´å››æ¨¡å¼æ¨£å¼å·®ç•°
 * @param context - Flutter BuildContext
 * @param userMode - ä½¿ç”¨è€…æ¨¡å¼
 * @param onLineLogin - LINEç™»å…¥å›èª¿
 * @param onGoogleLogin - Googleç™»å…¥å›èª¿
 * @param onAppleLogin - Appleç™»å…¥å›èª¿
 * @param isLoading - è¼‰å…¥ç‹€æ…‹
 * @returns Widget - OAuthæŒ‰éˆ•çµ„Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **æ¨¡å¼å·®ç•°åŒ–åƒæ•¸è¨­å®š**
   - æ ¹æ“šuserModeè¨­å®šbuttonHeightï¼šSleeperæ¨¡å¼72åƒç´ ï¼Œå…¶ä»–æ¨¡å¼56åƒç´ 
   - æ ¹æ“šuserModeè¨­å®šbuttonSpacingï¼šSleeperæ¨¡å¼16åƒç´ ï¼Œå…¶ä»–æ¨¡å¼12åƒç´ 
   - å­—é«”å¤§å°ä¹Ÿæ ¹æ“šæ¨¡å¼èª¿æ•´ï¼šSleeperæ¨¡å¼18ï¼Œå…¶ä»–æ¨¡å¼16

2. **æŒ‰éˆ•å®¹å™¨çµæ§‹**
   - ä½¿ç”¨Columné€²è¡Œå‚ç›´æ’åˆ—æ‰€æœ‰OAuthæŒ‰éˆ•
   - æ¯å€‹æŒ‰éˆ•ä½¿ç”¨SizedBoxè¨­å®šç‚ºå…¨å¯¬åº¦å’ŒæŒ‡å®šé«˜åº¦

3. **LINEç™»å…¥æŒ‰éˆ•ï¼ˆæ‰€æœ‰æ¨¡å¼ï¼‰**
   - ä½¿ç”¨ElevatedButton.iconå»ºæ§‹å¸¶åœ–æ¨™çš„æŒ‰éˆ•
   - èƒŒæ™¯è‰²è¨­ç‚ºLINEå“ç‰Œç¶ è‰²(#00C300)ï¼Œå‰æ™¯è‰²ç™½è‰²
   - åœ–æ¨™ä½¿ç”¨Icons.chatï¼Œæ–‡å­—é¡¯ç¤ºã€ŒLINE ç™»å…¥ã€
   - è¼‰å…¥æ™‚ç¦ç”¨æŒ‰éˆ•ï¼ˆonPressedè¨­ç‚ºnullï¼‰

4. **Googleç™»å…¥æŒ‰éˆ•ï¼ˆéSleeperæ¨¡å¼ï¼‰**
   - ä½¿ç”¨æ¢ä»¶å¼æ¸²æŸ“ï¼Œåƒ…åœ¨éSleeperæ¨¡å¼é¡¯ç¤º
   - ä½¿ç”¨OutlinedButton.iconå»ºæ§‹é‚Šæ¡†æŒ‰éˆ•æ¨£å¼
   - åœ–æ¨™ä½¿ç”¨Icons.g_mobiledataï¼Œæ–‡å­—é¡¯ç¤ºã€ŒGoogle ç™»å…¥ã€
   - ä¸Šæ–¹æ·»åŠ é–“è·SizedBox

5. **Appleç™»å…¥æŒ‰éˆ•ï¼ˆåƒ…Controlleræ¨¡å¼ï¼‰**
   - ä½¿ç”¨æ¢ä»¶å¼æ¸²æŸ“ï¼Œåƒ…åœ¨Controlleræ¨¡å¼é¡¯ç¤º
   - ä½¿ç”¨OutlinedButton.iconï¼Œä½†è¨­å®šé»‘è‰²èƒŒæ™¯å’Œç™½è‰²å‰æ™¯
   - åœ–æ¨™ä½¿ç”¨Icons.appleï¼Œæ–‡å­—é¡¯ç¤ºã€ŒApple ç™»å…¥ã€
   - é«”ç¾ç²¾æº–æ§åˆ¶è€…éœ€è¦å®Œæ•´é¸é …çš„ç‰¹æ€§

/**
 * 05. å»ºæ§‹Emailç™»å…¥è¡¨å–®
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹Emailç™»å…¥è¡¨å–®ï¼Œåƒ…éSleeperæ¨¡å¼é¡¯ç¤º
 * @param context - Flutter BuildContext
 * @param userMode - ä½¿ç”¨è€…æ¨¡å¼
 * @param onEmailLogin - Emailç™»å…¥å›èª¿ï¼Œæ¥æ”¶emailå’Œpasswordåƒæ•¸
 * @param onForgotPassword - å¿˜è¨˜å¯†ç¢¼å›èª¿
 * @param isLoading - è¼‰å…¥ç‹€æ…‹
 * @returns Widget - Emailç™»å…¥è¡¨å–®Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **è¡¨å–®çµæ§‹è¨­è¨ˆ**
   - ä½¿ç”¨Form Widgeté…åˆGlobalKeyé€²è¡Œè¡¨å–®é©—è­‰
   - å»ºç«‹emailå’Œpasswordçš„TextEditingControllerç®¡ç†è¼¸å…¥å…§å®¹
   - ä½¿ç”¨Columné€²è¡Œå‚ç›´ä½ˆå±€ï¼Œè¨­å®šé©ç•¶é–“è·

2. **Emailè¼¸å…¥æ¡†è¨­è¨ˆ**
   - ä½¿ç”¨TextFormFieldå»ºæ§‹Emailè¼¸å…¥æ¡†
   - è¨­å®škeyboardTypeç‚ºemailAddressï¼Œæä¾›æœ€ä½³éµç›¤é«”é©—
   - æ·»åŠ prefixIconç‚ºIcons.emailï¼Œæå‡è¦–è¦ºè­˜åˆ¥
   - å¯¦ä½œvalidatoré€²è¡ŒEmailæ ¼å¼é©—è­‰ï¼Œä½¿ç”¨æ­£å‰‡è¡¨é”å¼æª¢æŸ¥

3. **å¯†ç¢¼è¼¸å…¥æ¡†è¨­è¨ˆ**
   - ä½¿ç”¨TextFormFieldå»ºæ§‹å¯†ç¢¼è¼¸å…¥æ¡†ï¼Œè¨­å®šobscureTextç‚ºtrue
   - æ·»åŠ prefixIconç‚ºIcons.lockï¼Œè¦–è¦ºä¸€è‡´æ€§
   - å¯¦ä½œvalidatoræª¢æŸ¥å¯†ç¢¼ä¸ç‚ºç©º

4. **å¿˜è¨˜å¯†ç¢¼é€£çµ**
   - ä½¿ç”¨Align.centerRightå°‡TextButtonå³å°é½Š
   - ç¶å®šonForgotPasswordå›èª¿å‡½æ•¸

5. **ç™»å…¥æŒ‰éˆ•è¨­è¨ˆ**
   - ä½¿ç”¨SizedBoxè¨­å®šæŒ‰éˆ•ç‚ºå…¨å¯¬åº¦ï¼Œé«˜åº¦56åƒç´ 
   - èƒŒæ™¯è‰²æ ¹æ“šuserModeå‹•æ…‹èª¿æ•´ï¼Œå‘¼å«_getModeColorè¼”åŠ©å‡½æ•¸
   - è¼‰å…¥ç‹€æ…‹æ™‚é¡¯ç¤ºAUTH_buildLoadingIndicatorï¼Œå¦å‰‡é¡¯ç¤ºã€Œç™»å…¥ã€æ–‡å­—
   - æŒ‰éˆ•å•Ÿç”¨ç‹€æ…‹åŒæ™‚æª¢æŸ¥isLoadingå’Œè¡¨å–®é©—è­‰çµæœ
```

### 3.3 è¨»å†Šé é¢UIå±¤å‡½æ•¸

/**
 * 06. å»ºæ§‹è¨»å†Šé é¢Widget
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹è¨»å†Šé é¢çš„å®Œæ•´UIçµæ§‹
 * @param context - Flutter BuildContext
 * @param userMode - ä½¿ç”¨è€…æ¨¡å¼
 * @param onRegister - è¨»å†Šå›èª¿ï¼Œæ¥æ”¶RegistrationDataç‰©ä»¶
 * @param onLogin - ç™»å…¥é é¢å›èª¿
 * @param isLoading - è¼‰å…¥ç‹€æ…‹
 * @returns Widget - è¨»å†Šé é¢Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **é é¢åŸºç¤çµæ§‹**
   - ä½¿ç”¨Scaffoldå»ºæ§‹åŸºæœ¬é é¢æ¶æ§‹
   - AppBaræ¨™é¡Œæ ¹æ“šuserModeå‹•æ…‹é¡¯ç¤ºï¼ŒèƒŒæ™¯è‰²ä½¿ç”¨æ¨¡å¼ä¸»è‰²
   - SafeAreaç¢ºä¿å…§å®¹ä¸è¢«ç³»çµ±UIé®æ“‹
   - SingleChildScrollViewæä¾›æ»¾å‹•æ”¯æ´

2. **å…§å®¹å€åŸŸè¨­è¨ˆ**
   - æ•´é«”paddingè¨­ç‚º24åƒç´ ï¼Œæä¾›èˆ’é©é‚Šè·
   - ä½¿ç”¨Columnå‚ç›´ä½ˆå±€ï¼ŒCrossAxisAlignment.stretchè®“å­çµ„ä»¶æ’æ»¿å¯¬åº¦
   - é ‚éƒ¨é–“è·32åƒç´ å¾Œé¡¯ç¤ºæ¨¡å¼ç‰¹å®šçš„æ­¡è¿è¨Šæ¯

3. **æ¨™é¡Œå€åŸŸ**
   - å‘¼å«_getModeRegistrationMessageè¼”åŠ©å‡½æ•¸ç²å–æ¨¡å¼ç‰¹å®šè¨Šæ¯
   - ä½¿ç”¨headlineSmallæ¨£å¼ï¼Œé¡è‰²è¨­ç‚ºæ¨¡å¼ä¸»è‰²
   - æ–‡å­—å±…ä¸­å°é½Š

4. **è¡¨å–®å€åŸŸ**
   - å‘¼å«AUTH_buildRegistrationFormå‡½æ•¸å»ºæ§‹è¨»å†Šè¡¨å–®
   - å‚³å…¥å¿…è¦çš„åƒæ•¸ï¼šcontextã€userModeã€onRegisterå›èª¿ã€isLoadingç‹€æ…‹

5. **åº•éƒ¨å°èˆª**
   - æ·»åŠ ã€Œå·²æœ‰å¸³è™Ÿï¼Ÿç«‹å³ç™»å…¥ã€TextButton
   - ç¶å®šonLoginå›èª¿å‡½æ•¸ï¼Œæä¾›é é¢é–“å°èˆª

/**
 * 07. å»ºæ§‹è¨»å†Šè¡¨å–®Widget
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹è¨»å†Šè¡¨å–®ï¼Œæ”¯æ´å››æ¨¡å¼æ¬„ä½å·®ç•°
 * @param context - Flutter BuildContext
 * @param userMode - ä½¿ç”¨è€…æ¨¡å¼
 * @param onRegister - è¨»å†Šå›èª¿ï¼Œæ¥æ”¶RegistrationDataç‰©ä»¶
 * @param isLoading - è¼‰å…¥ç‹€æ…‹
 * @returns Widget - è¨»å†Šè¡¨å–®Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **è¡¨å–®ç‹€æ…‹ç®¡ç†**
   - å»ºç«‹TextEditingControllerç®¡ç†å„è¼¸å…¥æ¬„ä½ï¼šemailã€passwordã€confirmPasswordã€displayName
   - ä½¿ç”¨boolè®Šæ•¸ç®¡ç†checkboxç‹€æ…‹ï¼štermsAcceptedã€privacyAccepted
   - ä½¿ç”¨StatefulBuilderåŒ…è£ï¼Œæ”¯æ´å‹•æ…‹ç‹€æ…‹æ›´æ–°

2. **Emailè¼¸å…¥æ¡†ï¼ˆæ‰€æœ‰æ¨¡å¼ï¼‰**
   - ä½¿ç”¨TextFormFieldï¼Œè¨­å®škeyboardTypeç‚ºemailAddress
   - æ·»åŠ å¿…å¡«æ¨™ç¤ºï¼ˆ*ï¼‰ï¼ŒprefixIconç‚ºIcons.email
   - å¯¦ä½œvalidatorï¼šæª¢æŸ¥ä¸ç‚ºç©ºå’ŒEmailæ ¼å¼æ­£å‰‡è¡¨é”å¼é©—è­‰

3. **å¯†ç¢¼è¼¸å…¥æ¡†ï¼ˆæ‰€æœ‰æ¨¡å¼ï¼‰**
   - è¨­å®šobscureTextç‚ºtrueï¼ŒprefixIconç‚ºIcons.lock
   - validatoræª¢æŸ¥ä¸ç‚ºç©ºä¸”é•·åº¦è‡³å°‘8å€‹å­—å…ƒ

4. **æ¢ä»¶å¼æ¬„ä½æ¸²æŸ“**
   - ç¢ºèªå¯†ç¢¼è¼¸å…¥æ¡†ï¼šéSleeperæ¨¡å¼æ‰é¡¯ç¤ºï¼Œvalidatoræª¢æŸ¥èˆ‡å¯†ç¢¼ä¸€è‡´æ€§
   - é¡¯ç¤ºåç¨±è¼¸å…¥æ¡†ï¼šéSleeperæ¨¡å¼æ‰é¡¯ç¤ºï¼Œvalidatoræª¢æŸ¥ä¸ç‚ºç©ºä¸”è‡³å°‘2å€‹å­—å…ƒ

5. **æ¢æ¬¾åŒæ„å€åŸŸ**
   - ä½¿ç”¨CheckboxListTileå»ºæ§‹æœå‹™æ¢æ¬¾å’Œéš±ç§æ”¿ç­–åŒæ„é¸é …
   - activeColoræ ¹æ“šuserModeè¨­å®šï¼ŒcontrolAffinityè¨­ç‚ºleading

6. **è¨»å†ŠæŒ‰éˆ•**
   - æŒ‰éˆ•é«˜åº¦æ ¹æ“šæ¨¡å¼èª¿æ•´ï¼šSleeperæ¨¡å¼72åƒç´ ï¼Œå…¶ä»–56åƒç´ 
   - å•Ÿç”¨æ¢ä»¶ï¼šéè¼‰å…¥ç‹€æ…‹ä¸”å…©å€‹æ¢æ¬¾éƒ½å·²åŒæ„
   - é»æ“Šæ™‚å…ˆé©—è­‰è¡¨å–®ï¼Œå†å»ºæ§‹RegistrationDataç‰©ä»¶å‘¼å«onRegisterå›èª¿

### 3.4 å¯†ç¢¼é‡è¨­UIå±¤å‡½æ•¸

/**
 * 08. å»ºæ§‹å¯†ç¢¼é‡è¨­é é¢Widget
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹å¯†ç¢¼é‡è¨­é é¢çš„å®Œæ•´UIçµæ§‹
 * @param context - Flutter BuildContext
 * @param userMode - ä½¿ç”¨è€…æ¨¡å¼
 * @param currentStep - ç•¶å‰æ­¥é©Ÿï¼ˆ0-2ï¼‰
 * @param onSendCode - ç™¼é€é©—è­‰ç¢¼å›èª¿
 * @param onVerifyCode - é©—è­‰ç¢¼ç¢ºèªå›èª¿
 * @param onResetPassword - é‡è¨­å¯†ç¢¼å›èª¿
 * @param isLoading - è¼‰å…¥ç‹€æ…‹
 * @returns Widget - å¯†ç¢¼é‡è¨­é é¢Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **é é¢çµæ§‹è¨­è¨ˆ**
   - ä½¿ç”¨Scaffoldå»ºæ§‹åŸºæœ¬é é¢çµæ§‹
   - AppBaræ¨™é¡Œæ ¹æ“šuserModeå‹•æ…‹é¡¯ç¤ºã€Œé‡è¨­å¯†ç¢¼ã€ï¼ŒèƒŒæ™¯è‰²ä½¿ç”¨æ¨¡å¼ä¸»è‰²
   - SafeAreaç¢ºä¿å…§å®¹ä¸è¢«ç³»çµ±UIé®æ“‹

2. **é€²åº¦æŒ‡ç¤ºå™¨ï¼ˆæ¢ä»¶å¼é¡¯ç¤ºï¼‰**
   - éSleeperæ¨¡å¼æ‰é¡¯ç¤ºLinearProgressIndicator
   - é€²åº¦å€¼è¨ˆç®—ï¼š(currentStep + 1) / 3ï¼Œè¡¨ç¤ºä¸‰æ­¥é©Ÿé€²åº¦
   - valueColorä½¿ç”¨æ¨¡å¼ä¸»è‰²ï¼ŒbackgroundColorç‚ºç°è‰²

3. **ä¸»è¦å…§å®¹å€åŸŸ**
   - ä½¿ç”¨ExpandedåŒ…è£AUTH_buildResetStepså‡½æ•¸
   - å‚³å…¥æ‰€æœ‰å¿…è¦åƒæ•¸ï¼šcontextã€userModeã€currentStepã€ä¸‰å€‹å›èª¿å‡½æ•¸ã€isLoadingç‹€æ…‹

4. **é–“è·èˆ‡ä½ˆå±€**
   - æ•´é«”paddingè¨­ç‚º24åƒç´ 
   - é€²åº¦æŒ‡ç¤ºå™¨ä¸‹æ–¹é–“è·32åƒç´ 

/**
 * 09. å»ºæ§‹é‡è¨­æ­¥é©ŸWidget
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹å¯†ç¢¼é‡è¨­çš„ä¸‰æ­¥é©Ÿä»‹é¢
 * @param context - Flutter BuildContext
 * @param userMode - ä½¿ç”¨è€…æ¨¡å¼
 * @param currentStep - ç•¶å‰æ­¥é©Ÿï¼ˆ0-2ï¼‰
 * @param onSendCode - ç™¼é€é©—è­‰ç¢¼å›èª¿
 * @param onVerifyCode - é©—è­‰ç¢¼ç¢ºèªå›èª¿
 * @param onResetPassword - é‡è¨­å¯†ç¢¼å›èª¿
 * @param isLoading - è¼‰å…¥ç‹€æ…‹
 * @returns Widget - æ­¥é©Ÿå…§å®¹Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **æ­¥é©Ÿè·¯ç”±é‚è¼¯**
   - ä½¿ç”¨switchèªå¥æ ¹æ“šcurrentStepåƒæ•¸æ±ºå®šé¡¯ç¤ºçš„æ­¥é©Ÿå…§å®¹
   - case 0ï¼šå‘¼å«_buildEmailStepå»ºæ§‹Emailè¼¸å…¥æ­¥é©Ÿ
   - case 1ï¼šå‘¼å«_buildVerificationStepå»ºæ§‹é©—è­‰ç¢¼è¼¸å…¥æ­¥é©Ÿ
   - case 2ï¼šå‘¼å«_buildPasswordStepå»ºæ§‹æ–°å¯†ç¢¼è¨­å®šæ­¥é©Ÿ
   - defaultï¼šå›å‚³ç©ºContainer

2. **æ­¥é©Ÿä¸€ - Emailè¼¸å…¥è¨­è¨ˆ**
   - ä½¿ç”¨Columnå‚ç›´ä½ˆå±€ï¼ŒMainAxisAlignment.centerå±…ä¸­å°é½Š
   - é ‚éƒ¨é¡¯ç¤ºIcons.email_outlinedåœ–æ¨™ï¼Œå¤§å°64åƒç´ ï¼Œé¡è‰²ä½¿ç”¨æ¨¡å¼ä¸»è‰²
   - ä¸»æ¨™é¡Œã€Œè¼¸å…¥æ‚¨çš„Emailåœ°å€ã€ä½¿ç”¨headlineSmallæ¨£å¼
   - å‰¯æ¨™é¡Œèªªæ˜ã€Œæˆ‘å€‘å°‡ç™¼é€é©—è­‰ç¢¼åˆ°æ‚¨çš„ä¿¡ç®±ã€ä½¿ç”¨bodyLargeæ¨£å¼
   - Emailè¼¸å…¥æ¡†ä½¿ç”¨TextFormFieldï¼Œè¨­å®šé©ç•¶çš„decorationå’ŒkeyboardType
   - ç™¼é€æŒ‰éˆ•é«˜åº¦æ ¹æ“šæ¨¡å¼èª¿æ•´ï¼Œè¼‰å…¥æ™‚é¡¯ç¤ºæŒ‡ç¤ºå™¨

3. **æ­¥é©ŸäºŒ - é©—è­‰ç¢¼è¼¸å…¥è¨­è¨ˆ**
   - é¡ä¼¼æ­¥é©Ÿä¸€çš„ä½ˆå±€ï¼Œä½†åœ–æ¨™æ”¹ç‚ºIcons.security
   - ä¸»æ¨™é¡Œã€Œè«‹è¼¸å…¥é©—è­‰ç¢¼ã€
   - é©—è­‰ç¢¼è¼¸å…¥æ¡†ï¼Œå¯è€ƒæ…®ä½¿ç”¨OTPè¼¸å…¥æ ¼å¼
   - æä¾›é‡æ–°ç™¼é€é©—è­‰ç¢¼é¸é …

4. **æ­¥é©Ÿä¸‰ - æ–°å¯†ç¢¼è¨­å®š**
   - åœ–æ¨™ä½¿ç”¨Icons.lock_reset
   - ä¸»æ¨™é¡Œã€Œè¨­å®šæ–°å¯†ç¢¼ã€
   - æ–°å¯†ç¢¼å’Œç¢ºèªå¯†ç¢¼è¼¸å…¥æ¡†
   - å¯†ç¢¼å¼·åº¦æç¤º
   - å®Œæˆé‡è¨­æŒ‰éˆ•

### 3.5 ç™»å‡ºç¢ºèªUIå±¤å‡½æ•¸

/**
 * 10. å»ºæ§‹ç™»å‡ºç¢ºèªé é¢Widget
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹ç™»å‡ºç¢ºèªé é¢ï¼Œæ”¯æ´å››æ¨¡å¼å·®ç•°åŒ–é¸é …
 * @param context - Flutter BuildContext
 * @param userMode - ä½¿ç”¨è€…æ¨¡å¼
 * @param onLogout - ç™»å‡ºå›èª¿ï¼Œæ¥æ”¶LogoutTypeåƒæ•¸
 * @param onCancel - å–æ¶ˆå›èª¿
 * @param isLoading - è¼‰å…¥ç‹€æ…‹
 * @returns Widget - ç™»å‡ºç¢ºèªé é¢Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **é é¢åŸºç¤çµæ§‹**
   - ä½¿ç”¨Scaffoldå»ºæ§‹åŸºæœ¬é é¢æ¶æ§‹
   - AppBaræ¨™é¡Œæ ¹æ“šuserModeå‹•æ…‹é¡¯ç¤ºã€Œç™»å‡ºã€ï¼ŒèƒŒæ™¯è‰²ä½¿ç”¨æ¨¡å¼ä¸»è‰²
   - SafeAreaç¢ºä¿å…§å®¹å®‰å…¨é¡¯ç¤º

2. **è¦–è¦ºå…ƒç´ è¨­è¨ˆ**
   - ä½¿ç”¨Columnå‚ç›´ä½ˆå±€ï¼ŒMainAxisAlignment.centerå±…ä¸­å°é½Š
   - é ‚éƒ¨é¡¯ç¤ºIcons.logoutåœ–æ¨™ï¼Œå¤§å°64åƒç´ ï¼Œé¡è‰²ä½¿ç”¨æ¨¡å¼ä¸»è‰²
   - ä¸»æ¨™é¡Œã€Œç¢ºå®šè¦ç™»å‡ºå—ï¼Ÿã€ä½¿ç”¨headlineSmallæ¨£å¼
   - å‰¯æ¨™é¡Œå‘¼å«_getModeLogoutMessageè¼”åŠ©å‡½æ•¸ç²å–æ¨¡å¼ç‰¹å®šè¨Šæ¯

3. **æ¨¡å¼å·®ç•°åŒ–ç™»å‡ºé¸é …**
   - **ç²¾æº–æ§åˆ¶è€…æ¨¡å¼**ï¼šæä¾›å…©å€‹é¸é …æŒ‰éˆ•
     - å¿«é€Ÿç™»å‡ºæŒ‰éˆ•ï¼ˆæ©™è‰²èƒŒæ™¯ï¼‰ï¼šä¿ç•™æœ¬åœ°è¨­å®š
     - å®Œå…¨ç™»å‡ºæŒ‰éˆ•ï¼ˆç´…è‰²èƒŒæ™¯ï¼‰ï¼šæ¸…é™¤æ‰€æœ‰è³‡æ–™
   - **å…¶ä»–æ¨¡å¼**ï¼šç°¡åŒ–ç‚ºå–®ä¸€ã€Œç¢ºå®šç™»å‡ºã€æŒ‰éˆ•
     - æŒ‰éˆ•é«˜åº¦æ ¹æ“šæ¨¡å¼èª¿æ•´ï¼šSleeperæ¨¡å¼72åƒç´ ï¼Œå…¶ä»–56åƒç´ 
     - èƒŒæ™¯è‰²ä½¿ç”¨æ¨¡å¼ä¸»è‰²

4. **å–æ¶ˆæŒ‰éˆ•è¨­è¨ˆ**
   - ä½¿ç”¨OutlinedButtonæ¨£å¼ï¼Œé‚Šæ¡†é¡è‰²ç‚ºæ¨¡å¼ä¸»è‰²
   - æ–‡å­—é¡è‰²å’Œå­—é«”å¤§å°æ ¹æ“šæ¨¡å¼èª¿æ•´
   - èˆ‡ç™»å‡ºæŒ‰éˆ•ä¿æŒç›¸åŒçš„é«˜åº¦è¨­å®š

5. **è¼‰å…¥ç‹€æ…‹è™•ç†**
   - è¼‰å…¥æ™‚ç¦ç”¨æ‰€æœ‰æŒ‰éˆ•ï¼ˆonPressedè¨­ç‚ºnullï¼‰
   - ç™»å‡ºæŒ‰éˆ•è¼‰å…¥æ™‚é¡¯ç¤ºAUTH_buildLoadingIndicator

---

## 4.0 å››æ¨¡å¼UIå·®ç•°åŒ–è¨­è¨ˆ

### 4.1 ç²¾æº–æ§åˆ¶è€…æ¨¡å¼UIå¯¦ä½œ

/**
 * 11. å»ºæ§‹ç²¾æº–æ§åˆ¶è€…æ¨¡å¼UI
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹å°ˆæ¥­å®Œæ•´çš„èªè­‰ä»‹é¢
 * @param context - Flutter BuildContext
 * @param pageType - é é¢é¡å‹
 * @param pageProps - é é¢å±¬æ€§åƒæ•¸
 * @returns Widget - ç²¾æº–æ§åˆ¶è€…æ¨¡å¼UI
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **ä¸»é¡Œé…ç½®**
   - ä½¿ç”¨Theme.copyWithè¦†è“‹é è¨­ä¸»é¡Œ
   - primaryColorè¨­ç‚ºè—è‰²(#1976D2)ï¼Œé«”ç¾å°ˆæ¥­æ„Ÿ
   - colorSchemeçš„secondaryè¨­ç‚ºæ·±ç°è‰²(#37474F)

2. **å®¹å™¨è£é£¾è¨­è¨ˆ**
   - èƒŒæ™¯è‰²è¨­ç‚ºæ·ºç°è‰²(#FAFAFA)
   - å·¦å´é‚Šæ¡†è¨­ç‚ºè—è‰²å¯¦ç·šï¼Œå¯¬åº¦4åƒç´ ï¼Œå¼·èª¿å°ˆæ¥­é‚Šç•Œ

3. **å°ˆæ¥­æ¨™é¡Œåˆ—**
   - æ·±è—è‰²èƒŒæ™¯å®¹å™¨ï¼Œpaddingè¨­ç‚º16åƒç´ 
   - Rowä½ˆå±€ï¼šå·¦å´å·¥ç¨‹åœ–æ¨™ï¼Œä¸­é–“ã€ŒğŸ¯ ç²¾æº–æ§åˆ¶è€…æ¨¡å¼ã€æ¨™é¡Œï¼Œå³å´è¨­å®šæŒ‰éˆ•
   - æ¨™é¡Œå­—é«”å¤§å°18ï¼Œå­—é‡w600ï¼Œç™½è‰²æ–‡å­—

4. **ä¸»è¦å…§å®¹å€åŸŸ**
   - ä½¿ç”¨ExpandedåŒ…è£ï¼Œå‘¼å«_buildPageContentå‡½æ•¸
   - æ ¹æ“špageTypeå‹•æ…‹è¼‰å…¥å°æ‡‰çš„é é¢å…§å®¹

5. **åº•éƒ¨ç‹€æ…‹åˆ—**
   - æ·ºè—è‰²èƒŒæ™¯(#E3F2FD)ï¼Œé¡¯ç¤ºå®‰å…¨ç‹€æ…‹
   - å·¦å´å®‰å…¨åœ–æ¨™ï¼Œæ–‡å­—ã€Œé«˜å®‰å…¨æ€§æ¨¡å¼å·²å•Ÿç”¨ã€
   - å­—é«”å¤§å°12ï¼Œè—è‰²æ–‡å­—

### 4.2 ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼UIå¯¦ä½œ

/**
 * 12. å»ºæ§‹ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼UI
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹å„ªé›…ç¾è§€çš„èªè­‰ä»‹é¢
 * @param context - Flutter BuildContext
 * @param pageType - é é¢é¡å‹
 * @param pageProps - é é¢å±¬æ€§åƒæ•¸
 * @returns Widget - ç´€éŒ„ç¿’æ…£è€…æ¨¡å¼UI
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **ä¸»é¡Œèˆ‡å‹•ç•«é…ç½®**
   - primaryColorè¨­ç‚ºç´«è‰²(#6A1B9A)ï¼Œé«”ç¾å„ªé›…æ„Ÿ
   - ä½¿ç”¨AnimatedContainerï¼Œå‹•ç•«æ™‚é•·800æ¯«ç§’

2. **æ¼¸å±¤èƒŒæ™¯è¨­è¨ˆ**
   - LinearGradientå¾å·¦ä¸Šåˆ°å³ä¸‹
   - èµ·å§‹è‰²ç‚ºæ·ºç´«è‰²(#F3E5F5)ï¼ŒçµæŸè‰²ç‚ºç™½è‰²
   - ç‡Ÿé€ æŸ”å’Œçš„è¦–è¦ºå±¤æ¬¡

3. **å„ªé›…æ¨™é¡Œå€åŸŸ**
   - å±…ä¸­å°é½Šçš„Rowä½ˆå±€
   - Icons.auto_awesomeåœ–æ¨™ï¼Œå¤§å°24åƒç´ 
   - æ¨™é¡Œã€Œâœ¨ å„ªé›…è¨˜å¸³é«”é©—ã€ï¼Œå­—é«”å¤§å°20ï¼Œå­—é‡w500ï¼Œå­—é–“è·0.5

4. **å…§å®¹å€åŸŸå‹•ç•«**
   - ä½¿ç”¨AnimatedSwitcherå¯¦ç¾é é¢åˆ‡æ›å‹•ç•«
   - FadeTransitionå’ŒSlideTransitionçµ„åˆï¼Œå¯¦ç¾æ·¡å…¥æ»‘å‹•æ•ˆæœ
   - å…§å®¹å®¹å™¨æœ‰åœ“è§’16åƒç´ ï¼Œç´«è‰²é™°å½±ï¼Œæ¨¡ç³ŠåŠå¾‘20

### 4.3 è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼UIå¯¦ä½œ

/**
 * 13. å»ºæ§‹è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼UI
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹æ¿€å‹µå°å‘çš„èªè­‰ä»‹é¢
 * @param context - Flutter BuildContext
 * @param pageType - é é¢é¡å‹
 * @param pageProps - é é¢å±¬æ€§åƒæ•¸
 * @returns Widget - è½‰å‹æŒ‘æˆ°è€…æ¨¡å¼UI
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **ä¸»é¡Œé…è‰²è¨­è¨ˆ**
   - primaryColorè¨­ç‚ºæ©™è‰²(#FF6B35)ï¼Œå‚³é”æ´»åŠ›èˆ‡å‹•åŠ›
   - èƒŒæ™¯è‰²ç‚ºæ·ºæ©™è‰²(#FFF3E0)ï¼Œç‡Ÿé€ æº«æš–æ°›åœ

2. **æ¿€å‹µæ¨™é¡Œå€åŸŸ**
   - æ©™è‰²èƒŒæ™¯å®¹å™¨ï¼Œåº•éƒ¨å·¦å³åœ“è§’20åƒç´ 
   - æ¨™é¡Œå€åŸŸåŒ…å«çç›ƒåœ–æ¨™å’Œã€ŒğŸ’ª è½‰å‹æŒ‘æˆ°è€…ã€æ–‡å­—
   - å‰¯æ¨™é¡Œã€Œæ¯ä¸€æ­¥éƒ½æ˜¯æœè‘—ç›®æ¨™å‰é€²ï¼ã€ï¼Œå­—é«”å¤§å°14

3. **æ¿€å‹µè¨Šæ¯å¡ç‰‡**
   - ç™½è‰²èƒŒæ™¯ï¼Œæ©™è‰²é‚Šæ¡†ï¼ˆå¯¬åº¦2åƒç´ ï¼‰
   - å…§å«ä¸Šå‡è¶¨å‹¢åœ–æ¨™å’Œæ¿€å‹µæ–‡å­—
   - æ–‡å­—å…§å®¹ã€Œå …æŒè¨˜å¸³ï¼Œå¯¦ç¾è²¡å‹™è‡ªç”±å¤¢æƒ³ï¼ã€

4. **åº•éƒ¨æ¿€å‹µåˆ—**
   - æ·ºæ©™è‰²èƒŒæ™¯(#FFE0B2)
   - æ˜Ÿæ˜Ÿåœ–æ¨™é…åˆå‹•æ…‹å¤©æ•¸é¡¯ç¤º
   - å‘¼å«_getDaysCount()å‡½æ•¸ç²å–å …æŒå¤©æ•¸

### 4.4 æ½›åœ¨è¦ºé†’è€…æ¨¡å¼UIå¯¦ä½œ

/**
 * 14. å»ºæ§‹æ½›åœ¨è¦ºé†’è€…æ¨¡å¼UI
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹æ¥µç°¡æ˜“ç”¨çš„èªè­‰ä»‹é¢
 * @param context - Flutter BuildContext
 * @param pageType - é é¢é¡å‹
 * @param pageProps - é é¢å±¬æ€§åƒæ•¸
 * @returns Widget - æ½›åœ¨è¦ºé†’è€…æ¨¡å¼UI
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **æ¥µç°¡ä¸»é¡Œé…ç½®**
   - primaryColorè¨­ç‚ºç¶ è‰²(#4CAF50)ï¼Œå‚³é”è‡ªç„¶èˆ‡æˆé•·
   - èƒŒæ™¯è‰²ç‚ºæ·ºç¶ è‰²(#E8F5E8)ï¼Œç‡Ÿé€ èˆ’é©æ°›åœ

2. **ä¸­å¤®å°é½Šä½ˆå±€**
   - ä½¿ç”¨MainAxisAlignment.centerå°‡æ‰€æœ‰å…§å®¹å±…ä¸­
   - SafeAreaç¢ºä¿å…§å®¹ä¸è¢«ç³»çµ±UIé®æ“‹
   - æ•´é«”paddingè¨­ç‚º32åƒç´ ï¼Œæä¾›å¯¬é¬†é–“è·

3. **æº«å’Œè¦–è¦ºå…ƒç´ **
   - é ‚éƒ¨ç”Ÿæ…‹åœ–æ¨™ï¼Œå¤§å°64åƒç´ ï¼Œç¶ è‰²
   - ä¸»æ¨™é¡Œã€ŒğŸŒ± è¼•é¬†è¨˜å¸³ã€ï¼Œå­—é«”å¤§å°28ï¼Œå­—é‡w600
   - å‰¯æ¨™é¡Œã€Œç°¡å–®é–‹å§‹ï¼Œè¼•é¬†ç®¡ç†ã€ï¼Œå­—é«”å¤§å°18

4. **æ¥µç°¡å…§å®¹å®¹å™¨**
   - ç™½è‰²èƒŒæ™¯ï¼Œåœ“è§’16åƒç´ 
   - æ·¡ç¶ è‰²é™°å½±ï¼Œæ¨¡ç³ŠåŠå¾‘16ï¼Œyåç§»4åƒç´ 
   - paddingè¨­ç‚º24åƒç´ ï¼Œæä¾›èˆ’é©çš„å…§å®¹é–“è·

5. **å‹å–„æç¤ºæ–‡å­—**
   - åº•éƒ¨é¡¯ç¤ºã€ŒğŸ’¡ éœ€è¦å¹«åŠ©å—ï¼Ÿé»æ“Šå³ä¸Šè§’å•è™Ÿã€
   - å­—é«”å¤§å°14ï¼Œç¶ è‰²æ–‡å­—ï¼Œå±…ä¸­å°é½Š

---

## 5.0 Widgetæ¶æ§‹è¨­è¨ˆ

### 5.1 é é¢Widgetçµæ§‹

```dart
// èªè­‰é é¢åŸºç¤Widget
abstract class BaseAuthPageWidget extends StatefulWidget {
  final UserMode userMode;
  final AuthPageType pageType;
  final Map<String, dynamic>? props;
  
  const BaseAuthPageWidget({
    Key? key,
    required this.userMode,
    required this.pageType,
    this.props,
  }) : super(key: key);
}

// å„é é¢å…·é«”å¯¦ä½œ
class WelcomePageWidget extends BaseAuthPageWidget {
  @override
  Widget build(BuildContext context) {
    return AUTH_buildWelcomePage(
      context: context,
      selectedMode: props?['selectedMode'],
      onModeSelected: props?['onModeSelected'] ?? () {},
      onContinue: props?['onContinue'] ?? () {},
      isLoading: props?['isLoading'] ?? false,
    );
  }
}

class LoginPageWidget extends BaseAuthPageWidget {
  @override
  Widget build(BuildContext context) {
    switch (userMode) {
      case UserMode.controller:
        return AUTH_buildControllerModeUI(
          context: context,
          pageType: pageType,
          pageProps: {
            'child': AUTH_buildLoginPage(
              context: context,
              userMode: userMode,
              onLineLogin: props?['onLineLogin'] ?? () {},
              onGoogleLogin: props?['onGoogleLogin'] ?? () {},
              onAppleLogin: props?['onAppleLogin'] ?? () {},
              onEmailLogin: props?['onEmailLogin'] ?? (email, password) {},
              onForgotPassword: props?['onForgotPassword'] ?? () {},
              onRegister: props?['onRegister'] ?? () {},
              isLoading: props?['isLoading'] ?? false,
            ),
          },
        );
      case UserMode.logger:
        return AUTH_buildLoggerModeUI(
          context: context,
          pageType: pageType,
          pageProps: props ?? {},
        );
      case UserMode.struggler:
        return AUTH_buildStruggleModeUI(
          context: context,
          pageType: pageType,
          pageProps: props ?? {},
        );
      case UserMode.sleeper:
        return AUTH_buildSleeperModeUI(
          context: context,
          pageType: pageType,
          pageProps: props ?? {},
        );
    }
  }
}
```

### 5.2 å…±ç”¨Widgetå…ƒä»¶

/**
 * 15. å»ºæ§‹è¼‰å…¥æŒ‡ç¤ºå™¨
 * @version 2025-01-20-V2.3.0
 * @date 2025-01-20 16:00:00
 * @description å»ºæ§‹é€šç”¨è¼‰å…¥æŒ‡ç¤ºå™¨
 * @param color - æŒ‡ç¤ºå™¨é¡è‰²ï¼Œé è¨­ç‚ºç™½è‰²
 * @param size - æŒ‡ç¤ºå™¨å¤§å°ï¼Œé è¨­ç‚º20.0åƒç´ 
 * @returns Widget - è¼‰å…¥æŒ‡ç¤ºå™¨Widget
 */

**å‡½æ•¸ç·¨å¯«èªªæ˜ï¼š**

1. **åƒæ•¸è¨­è¨ˆ**
   - coloråƒæ•¸ç‚ºå¯é¸ï¼Œé è¨­å€¼ç‚ºColors.white
   - sizeåƒæ•¸é è¨­ç‚º20.0åƒç´ ï¼Œé©åˆåœ¨æŒ‰éˆ•ä¸­ä½¿ç”¨

2. **å®¹å™¨çµæ§‹**
   - ä½¿ç”¨SizedBoxè¨­å®šå›ºå®šå¯¬åº¦å’Œé«˜åº¦
   - ç¢ºä¿è¼‰å…¥æŒ‡ç¤ºå™¨æœ‰æ˜ç¢ºçš„å°ºå¯¸ç•Œé™

3. **æŒ‡ç¤ºå™¨é…ç½®**
   - ä½¿ç”¨CircularProgressIndicatorå»ºæ§‹åœ“å½¢é€²åº¦æŒ‡ç¤ºå™¨
   - strokeWidthè¨­ç‚º2.0ï¼Œæä¾›é©ä¸­çš„ç·šæ¢ç²—ç´°
   - valueColorä½¿ç”¨AlwaysStoppedAnimationè¨­å®šå›ºå®šé¡è‰²

4. **è¼”åŠ©å‡½æ•¸è¨­è¨ˆèªªæ˜**

**_getModeColorè¼”åŠ©å‡½æ•¸ç·¨å¯«æŒ‡å¼•ï¼š**
- å»ºç«‹switchèªå¥æ ¹æ“šUserModeæšèˆ‰å›å‚³å°æ‡‰é¡è‰²
- Controlleræ¨¡å¼ï¼šè—è‰²(#1976D2)
- Loggeræ¨¡å¼ï¼šç´«è‰²(#6A1B9A)  
- Struggleræ¨¡å¼ï¼šæ©™è‰²(#FF6B35)
- Sleeperæ¨¡å¼ï¼šç¶ è‰²(#4CAF50)

**_getModeIconè¼”åŠ©å‡½æ•¸ç·¨å¯«æŒ‡å¼•ï¼š**
- æ ¹æ“šUserModeå›å‚³å°æ‡‰çš„IconData
- Controllerï¼šIcons.engineeringï¼ˆå·¥ç¨‹åœ–æ¨™ï¼‰
- Loggerï¼šIcons.auto_awesomeï¼ˆæ˜Ÿå…‰åœ–æ¨™ï¼‰
- Strugglerï¼šIcons.emoji_eventsï¼ˆçç›ƒåœ–æ¨™ï¼‰
- Sleeperï¼šIcons.ecoï¼ˆç”Ÿæ…‹åœ–æ¨™ï¼‰

**_getModeNameè¼”åŠ©å‡½æ•¸ç·¨å¯«æŒ‡å¼•ï¼š**
- å›å‚³æ¨¡å¼çš„ä¸­æ–‡åç¨±å­—ä¸²
- Controllerï¼šã€Œç²¾æº–æ§åˆ¶è€…ã€
- Loggerï¼šã€Œç´€éŒ„ç¿’æ…£è€…ã€
- Strugglerï¼šã€Œè½‰å‹æŒ‘æˆ°è€…ã€
- Sleeperï¼šã€Œæ½›åœ¨è¦ºé†’è€…ã€

---

## 6.0 APIèª¿ç”¨æ˜ å°„

### 6.1 F001-F005 APIå°æ‡‰é—œä¿‚

| é é¢å‡½æ•¸ | å°æ‡‰API | APIåŠŸèƒ½ | UIå›é¥‹è™•ç† |
|----------|---------|---------|------------|
| AUTH_buildWelcomePage | F004 | å¸³è™Ÿåˆªé™¤ | æ·±å±¤åŠŸèƒ½ï¼Œåƒ…Controlleræ¨¡å¼ |
| AUTH_buildLoginPage | F002 | ä½¿ç”¨è€…ç™»å…¥ | ç™»å…¥æˆåŠŸ/å¤±æ•—UIå›é¥‹ |
| AUTH_buildRegisterPage | F001 | ä½¿ç”¨è€…è¨»å†Š | è¨»å†ŠæˆåŠŸ/å¤±æ•—UIå›é¥‹ |
| AUTH_buildPasswordResetPage | F005 | å¯†ç¢¼é‡è¨­ | ä¸‰æ­¥é©ŸUIç‹€æ…‹ç®¡ç† |
| AUTH_buildLogoutPage | F003 | ä½¿ç”¨è€…ç™»å‡º | ç™»å‡ºç¢ºèªUIè™•ç† |

### 6.2 APIèª¿ç”¨ä»‹é¢è¨­è¨ˆ

```dart
// APIèª¿ç”¨ä»‹é¢ï¼ˆç”±AP Layeræä¾›ï¼‰
abstract class AuthApiInterface {
  Future<ApiResponse<LoginResult>> login(LoginRequest request);
  Future<ApiResponse<RegisterResult>> register(RegisterRequest request);
  Future<ApiResponse<LogoutResult>> logout(LogoutRequest request);
  Future<ApiResponse<DeleteAccountResult>> deleteAccount(DeleteAccountRequest request);
  Future<ApiResponse<PasswordResetResult>> resetPassword(PasswordResetRequest request);
}

// UIå›èª¿ä»‹é¢
abstract class AuthUiCallbacks {
  void onLoginSuccess(LoginResult result);
  void onLoginError(String error);
  void onRegisterSuccess(RegisterResult result);
  void onRegisterError(String error);
  void onLogoutSuccess();
  void onApiLoading(bool isLoading);
}
```

### 6.3 éŒ¯èª¤è™•ç†UIå›é¥‹

```dart
// éŒ¯èª¤è™•ç†UIå…ƒä»¶
Widget buildErrorMessage(String error, UserMode userMode) {
  return Container(
    padding: EdgeInsets.all(16),
    margin: EdgeInsets.all(8),
    decoration: BoxDecoration(
      color: Colors.red.shade50,
      border: Border.all(color: Colors.red.shade300),
      borderRadius: BorderRadius.circular(8),
    ),
    child: Row(
      children: [
        Icon(Icons.error_outline, color: Colors.red),
        SizedBox(width: 12),
        Expanded(
          child: Text(
            _getLocalizedError(error, userMode),
            style: TextStyle(color: Colors.red.shade800),
          ),
        ),
      ],
    ),
  );
}

String _getLocalizedError(String error, UserMode userMode) {
  switch (userMode) {
    case UserMode.controller:
      return 'éŒ¯èª¤ï¼š$error'; // é¡¯ç¤ºè©³ç´°éŒ¯èª¤
    case UserMode.logger:
      return 'âœ¨ æ“ä½œé‡åˆ°å•é¡Œï¼Œè«‹ç¨å¾Œå†è©¦';
    case UserMode.struggler:
      return 'ğŸ’ª é‡åˆ°å°æŒ«æŠ˜ï¼è®“æˆ‘å€‘å†è©¦ä¸€æ¬¡ï¼';
    case UserMode.sleeper:
      return 'ğŸŒ± æ“ä½œå¤±æ•—ï¼Œè«‹é‡æ–°å˜—è©¦';
  }
}
```

---

## 7.0 ç‹€æ…‹ç®¡ç†è¨­è¨ˆ

### 7.1 UIç‹€æ…‹ç®¡ç†

```dart
// èªè­‰UIç‹€æ…‹ç®¡ç†
class AuthUiState extends ChangeNotifier {
  bool _isLoading = false;
  String? _error;
  UserMode? _selectedMode;
  int _currentStep = 0;
  
  bool get isLoading => _isLoading;
  String? get error => _error;
  UserMode? get selectedMode => _selectedMode;
  int get currentStep => _currentStep;
  
  void setLoading(bool loading) {
    _isLoading = loading;
    notifyListeners();
  }
  
  void setError(String? error) {
    _error = error;
    notifyListeners();
  }
  
  void setSelectedMode(UserMode? mode) {
    _selectedMode = mode;
    notifyListeners();
  }
  
  void setCurrentStep(int step) {
    _currentStep = step;
    notifyListeners();
  }
  
  void clearState() {
    _isLoading = false;
    _error = null;
    _currentStep = 0;
    notifyListeners();
  }
}
```

### 7.2 è¡¨å–®ç‹€æ…‹ç®¡ç†

```dart
// è¡¨å–®ç‹€æ…‹ç®¡ç†
class AuthFormState extends ChangeNotifier {
  final Map<String, TextEditingController> _controllers = {};
  final Map<String, String?> _errors = {};
  final Map<String, bool> _checkboxes = {};
  
  TextEditingController getController(String field) {
    return _controllers.putIfAbsent(field, () => TextEditingController());
  }
  
  void setError(String field, String? error) {
    _errors[field] = error;
    notifyListeners();
  }
  
  String? getError(String field) => _errors[field];
  
  void setCheckbox(String field, bool value) {
    _checkboxes[field] = value;
    notifyListeners();
  }
  
  bool getCheckbox(String field) => _checkboxes[field] ?? false;
  
  bool isFormValid(List<String> requiredFields) {
    for (String field in requiredFields) {
      if (_controllers[field]?.text.isEmpty ?? true) return false;
      if (_errors[field] != null) return false;
    }
    return true;
  }
  
  void clearForm() {
    _controllers.forEach((key, controller) => controller.clear());
    _errors.clear();
    _checkboxes.clear();
    notifyListeners();
  }
  
  @override
  void dispose() {
    _controllers.forEach((key, controller) => controller.dispose());
    super.dispose();
  }
}
```

### 7.3 å°èˆªç‹€æ…‹ç®¡ç†

```dart
// å°èˆªç‹€æ…‹ç®¡ç†
class AuthNavigationState extends ChangeNotifier {
  AuthPageType _currentPage = AuthPageType.welcome;
  final List<AuthPageType> _history = [];
  
  AuthPageType get currentPage => _currentPage;
  bool get canGoBack => _history.isNotEmpty;
  
  void navigateTo(AuthPageType page) {
    _history.add(_currentPage);
    _currentPage = page;
    notifyListeners();
  }
  
  void goBack() {
    if (_history.isNotEmpty) {
      _currentPage = _history.removeLast();
      notifyListeners();
    }
  }
  
  void clearHistory() {
    _history.clear();
    notifyListeners();
  }
}

enum AuthPageType {
  welcome,
  login,
  register,
  passwordReset,
  logout,
}
```

---

## 8.0 æ¸¬è©¦ç­–ç•¥

### 8.1 Widgetæ¸¬è©¦è¦†è“‹

```dart
// èªè­‰Widgetæ¸¬è©¦
class AuthWidgetTests {
  
  // æ¸¬è©¦æ­¡è¿é é¢Widget
  static void testWelcomePage() {
    group('AUTH_buildWelcomePage Tests', () {
      testWidgets('æ‡‰è©²é¡¯ç¤ºå“ç‰Œæ¨™èªŒå’Œæ¨¡å¼é¸æ“‡', (WidgetTester tester) async {
        await tester.pumpWidget(
          MaterialApp(
            home: AUTH_buildWelcomePage(
              context: tester.element(find.byType(MaterialApp)),
              selectedMode: null,
              onModeSelected: () {},
              onContinue: () {},
            ),
          ),
        );
        
        expect(find.byType(Image), findsOneWidget);
        expect(find.text('æ­¡è¿ä½¿ç”¨ LCAS 2.0'), findsOneWidget);
        expect(find.byType(GridView), findsOneWidget);
      });
      
      testWidgets('æ¨¡å¼é¸æ“‡æ‡‰è©²æ­£ç¢ºå›èª¿', (WidgetTester tester) async {
        UserMode? selectedMode;
        
        await tester.pumpWidget(
          MaterialApp(
            home: AUTH_buildWelcomePage(
              context: tester.element(find.byType(MaterialApp)),
              selectedMode: null,
              onModeSelected: () => selectedMode = UserMode.controller,
              onContinue: () {},
            ),
          ),
        );
        
        await tester.tap(find.text('ç²¾æº–æ§åˆ¶è€…').first);
        await tester.pump();
        
        expect(selectedMode, equals(UserMode.controller));
      });
    });
  }
}
```

### 8.2 UIäº’å‹•æ¸¬è©¦

```dart
// UIäº’å‹•æ¸¬è©¦
class AuthInteractionTests {
  
  static void testLoginFormInteraction() {
    group('ç™»å…¥è¡¨å–®äº’å‹•æ¸¬è©¦', () {
      testWidgets('æ‡‰è©²é©—è­‰Emailæ ¼å¼', (WidgetTester tester) async {
        await tester.pumpWidget(
          MaterialApp(
            home: AUTH_buildEmailLoginForm(
              context: tester.element(find.byType(MaterialApp)),
              userMode: UserMode.controller,
              onEmailLogin: (email, password) {},
              onForgotPassword: () {},
            ),
          ),
        );
        
        await tester.enterText(find.byType(TextFormField).first, 'invalid_email');
        await tester.tap(find.byType(ElevatedButton));
        await tester.pump();
        
        expect(find.text('Emailæ ¼å¼ä¸æ­£ç¢º'), findsOneWidget);
      });
    });
  }
}
```

### 8.3 å››æ¨¡å¼é«”é©—æ¸¬è©¦

```dart
// å››æ¨¡å¼é«”é©—æ¸¬è©¦
class AuthModeExperienceTests {
  
  static void testModeSpecificExperience() {
    group('å››æ¨¡å¼å·®ç•°åŒ–é«”é©—æ¸¬è©¦', () {
      for (final mode in UserMode.values) {
        testWidgets('${mode.toString()} æ¨¡å¼æ‡‰è©²æœ‰æ­£ç¢ºçš„è¦–è¦ºé¢¨æ ¼', (WidgetTester tester) async {
          await tester.pumpWidget(
            MaterialApp(
              home: LoginPageWidget(
                userMode: mode,
                pageType: AuthPageType.login,
                props: {
                  'onLineLogin': () {},
                  'onGoogleLogin': () {},
                  'onAppleLogin': () {},
                  'onEmailLogin': (email, password) {},
                  'onForgotPassword': () {},
                  'onRegister': () {},
                },
              ),
            ),
          );
          
          // é©—è­‰æ¨¡å¼ç‰¹å®šçš„UIå…ƒç´ 
          switch (mode) {
            case UserMode.controller:
              expect(find.text('ğŸ¯ ç²¾æº–æ§åˆ¶è€…æ¨¡å¼'), findsOneWidget);
              break;
            case UserMode.logger:
              expect(find.text('âœ¨ å„ªé›…è¨˜å¸³é«”é©—'), findsOneWidget);
              break;
            case UserMode.struggler:
              expect(find.text('ğŸ’ª è½‰å‹æŒ‘æˆ°è€…'), findsOneWidget);
              break;
            case UserMode.sleeper:
              expect(find.text('ğŸŒ± è¼•é¬†è¨˜å¸³'), findsOneWidget);
              break;
          }
        });
      }
    });
  }
}
```

---

## 9.0 æ–‡ä»¶ç¶­è­·è¨˜éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹è€… | ä¿®æ”¹å…§å®¹ |
|------|------|--------|----------|
| **v2.3.0** | **2025-01-20 16:00:00 +08:00** | **LCAS SA Team** | **ğŸš€ å‡½æ•¸å¯¦ä½œæ–¹å¼é‡å¤§èª¿æ•´ï¼šç§»é™¤ä»£ç¢¼å¯¦ä½œï¼Œæ”¹ç‚ºæ–‡å­—æ•˜è¿°** |
|  |  |  | **â€¢ æ‰€æœ‰15å€‹å‡½æ•¸ç§»é™¤Dartä»£ç¢¼å¯¦ä½œ** |
|  |  |  | **â€¢ æ”¹ç‚ºè©³ç´°çš„å‡½æ•¸ç·¨å¯«èªªæ˜èˆ‡æŒ‡å¼•** |
|  |  |  | **â€¢ ä¿æŒTDDæ–‡ä»¶çš„è¨­è¨ˆè¦ç¯„å®šä½** |
|  |  |  | **â€¢ å¼·åŒ–UIæ¶æ§‹èˆ‡å››æ¨¡å¼å·®ç•°åŒ–è¨­è¨ˆèªªæ˜** |
|  |  |  | **â€¢ æ˜ç¢ºå‡½æ•¸åƒæ•¸ã€å›å‚³å€¼èˆ‡ç·¨å¯«é‚è¼¯** |
| **v2.2.0** | **2025-01-20 15:30:00 +08:00** | **LCAS SA Team** | **ğŸ‰ é‡å¤§é‡æ§‹ï¼šç¯„åœæ”¶æ–‚è‡³ç´”Presentation Layer** |
|  |  |  | **â€¢ ç§»é™¤æ‰€æœ‰è·¨å±¤æœå‹™è¨­è¨ˆï¼ˆTokenSecurityServiceã€BiometricAuthServiceç­‰ï¼‰** |
|  |  |  | **â€¢ å‡½æ•¸æ•¸é‡å¾27å€‹ç²¾ç°¡è‡³15å€‹æ ¸å¿ƒUIå‡½æ•¸** |
|  |  |  | **â€¢ æ˜ç¢ºF001-F005 APIå°æ‡‰é—œä¿‚** |
|  |  |  | **â€¢ å°ˆæ³¨æ–¼Widgetå»ºæ§‹èˆ‡å››æ¨¡å¼UIå·®ç•°åŒ–** |
|  |  |  | **â€¢ ç°¡åŒ–å®‰å…¨æ©Ÿåˆ¶è‡³ç´”UIå±¤é©—è­‰** |
|  |  |  | **â€¢ é‡æ–°å®šä½ç‚ºFlutter UI/UXè¨­è¨ˆæ–‡ä»¶** |
| **v2.1.0** | **2025-01-20 14:00:00 +08:00** | **LCAS SA Team** | **åˆç‰ˆå»ºç«‹ï¼ˆå·²é‡æ§‹ï¼‰** |

### 9.1 é‡æ§‹é‡Œç¨‹ç¢‘

#### 9.1.1 v2.2.0 é‡å¤§æ”¶æ–‚æˆæœ
```
ğŸ¯ ç¯„åœæ”¶æ–‚ï¼šç´”Presentation Layerå°ˆæ³¨
ğŸ“Š å‡½æ•¸ç²¾ç°¡ï¼š27å€‹ â†’ 15å€‹æ ¸å¿ƒUIå‡½æ•¸
ğŸ¨ å››æ¨¡å¼å¼·åŒ–ï¼šUIå·®ç•°åŒ–è¨­è¨ˆå®Œæ•´
ğŸ”— APIæ˜ å°„æ¸…æ™°ï¼šF001-F005æ˜ç¢ºå°æ‡‰
â™¿ ç„¡éšœç¤™å®Œæ•´ï¼šWCAG 2.1 AAæ¨™æº–æ”¯æ´
ğŸ“± Widgetæ¶æ§‹ï¼šæ¸…æ™°çš„çµ„ä»¶åŒ–è¨­è¨ˆ
âš¡ æ¸¬è©¦è¦†è“‹ï¼šWidget + äº’å‹• + é«”é©—æ¸¬è©¦
ğŸ§ª è·è²¬åˆ†é›¢ï¼šUIå±¤å°ˆæ³¨æ–¼è¦–è¦ºèˆ‡äº’å‹•
```

#### 9.1.2 è¨­è¨ˆåŸå‰‡é”æˆåº¦
- âœ… **è·è²¬å–®ä¸€**ï¼šç´”Presentation Layerå¯¦ä½œ
- âœ… **å››æ¨¡å¼å·®ç•°**ï¼šå®Œæ•´UIå·®ç•°åŒ–è¨­è¨ˆ
- âœ… **Widgetçµ„ä»¶åŒ–**ï¼šå¯é‡ç”¨çš„UIçµ„ä»¶
- âœ… **APIä»‹é¢æ¸…æ™°**ï¼šæ˜ç¢ºçš„APIèª¿ç”¨é‚Šç•Œ
- âœ… **æ¸¬è©¦å‹å–„**ï¼šå®Œæ•´çš„Widgetæ¸¬è©¦è¦†è“‹

#### 9.1.3 æœªä¾†è¿­ä»£æ–¹å‘
```
ğŸ“ˆ v2.3.0ï¼šå‹•ç•«ç³»çµ±å®Œå–„èˆ‡æ•ˆèƒ½å„ªåŒ–
ğŸ“ˆ v2.4.0ï¼šæ›´å¤šç„¡éšœç¤™åŠŸèƒ½æ”¯æ´
ğŸ“ˆ v2.5.0ï¼šé€²éšä¸»é¡Œç³»çµ±æ•´åˆ
ğŸ“ˆ v3.0.0ï¼šèˆ‡å¾Œç«¯APIå®Œæ•´æ•´åˆæ¸¬è©¦
```

---

## å‚™è¨»

### ğŸ“Œ é‡è¦æé†’
- **æœ¬æ–‡ä»¶å°ˆæ³¨æ–¼ç´”Presentation Layer**ï¼šåƒ…è™•ç†UI Widgetèˆ‡ä½¿ç”¨è€…äº’å‹•
- **æ¥­å‹™é‚è¼¯ç”±AP Layerè™•ç†**ï¼šæ‰€æœ‰èªè­‰é‚è¼¯ã€å®‰å…¨æ©Ÿåˆ¶ã€è³‡æ–™è™•ç†ç”±Application Layerè² è²¬
- **APIèª¿ç”¨é€šéä»‹é¢**ï¼šæ˜ç¢ºçš„APIèª¿ç”¨é‚Šç•Œï¼Œä¸ç›´æ¥è™•ç†ç¶²è·¯è«‹æ±‚
- **å››æ¨¡å¼UIå·®ç•°åŒ–**ï¼šæ¯å€‹Widgetéƒ½è€ƒæ…®å››ç¨®æ¨¡å¼çš„è¦–è¦ºèˆ‡äº’å‹•å·®ç•°

### ğŸ¯ è¨­è¨ˆç›®æ¨™é”æˆåº¦
- âœ… **UIçµ„ä»¶åŒ–**ï¼šå¯é‡ç”¨ã€å¯æ¸¬è©¦çš„Widgetè¨­è¨ˆ
- âœ… **å››æ¨¡å¼é«”é©—**ï¼šå·®ç•°åŒ–çš„ä½¿ç”¨è€…ä»‹é¢é«”é©—
- âœ… **ç„¡éšœç¤™å‹å–„**ï¼šå®Œæ•´çš„WCAG 2.1 AAæ”¯æ´
- âœ… **è·è²¬æ¸…æ™°**ï¼šå°ˆæ³¨æ–¼è¦–è¦ºå‘ˆç¾èˆ‡ä½¿ç”¨è€…äº’å‹•
- âœ… **æ¸¬è©¦å®Œæ•´**ï¼šWidgetã€äº’å‹•ã€é«”é©—ä¸‰å±¤æ¸¬è©¦è¦†è“‹

### ğŸš€ å¯¦ä½œæŒ‡å¼•
1. **Widgetå„ªå…ˆ**ï¼šä»¥Widgetå»ºæ§‹ç‚ºæ ¸å¿ƒè¨­è¨ˆåŸå‰‡
2. **ç‹€æ…‹åˆ†é›¢**ï¼šUIç‹€æ…‹èˆ‡æ¥­å‹™ç‹€æ…‹æ¸…æ¥šåˆ†é›¢
3. **APIä»‹é¢**ï¼šé€šéå®šç¾©è‰¯å¥½çš„ä»‹é¢èˆ‡AP Layeré€šä¿¡
4. **æ¸¬è©¦é©…å‹•**ï¼šæ¯å€‹Widgetéƒ½æœ‰å°æ‡‰çš„æ¸¬è©¦æ¡ˆä¾‹
5. **å››æ¨¡å¼ä¸€è‡´**ï¼šç¢ºä¿æ¯å€‹æ¨¡å¼éƒ½æœ‰è‰¯å¥½çš„ä½¿ç”¨è€…é«”é©—

---

**ğŸ‰ èªè­‰åŠŸèƒ½ç¾¤çµ„ Flutter TDD v2.2.0 - ç´”Presentation Layerå¯¦ä½œï¼Œå°ˆæ³¨æ–¼UI/UXè¨­è¨ˆèˆ‡å››æ¨¡å¼å·®ç•°åŒ–é«”é©—ï¼**

