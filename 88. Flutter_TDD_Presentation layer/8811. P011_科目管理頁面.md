
# 8811. TDD_P011_ç§‘ç›®ç®¡ç†é é¢_v1.0.0

## æ–‡ä»¶è³‡è¨Š
- **æ–‡ä»¶æ¨™é¡Œ**: P011 ç§‘ç›®ç®¡ç†é é¢æŠ€è¡“è¨­è¨ˆæ–‡ä»¶
- **æ–‡ä»¶ç‰ˆæœ¬**: v1.0.0
- **å‰µå»ºæ—¥æœŸ**: 2025-01-26 21:00:00 +08:00 (å°ç£æ™‚é–“)
- **å‰µå»ºè€…**: LCAS SA Team
- **æœ€å¾Œæ›´æ–°**: 2025-01-26 21:00:00 +08:00 (å°ç£æ™‚é–“)
- **å°æ‡‰éœ€æ±‚æ–‡ä»¶**: P011_ç§‘ç›®ç®¡ç†é é¢_SRS.md
- **å°æ‡‰PRDæ–‡ä»¶**: 9005. Flutter_Presentation layer.md
- **é é¢ä»£ç¢¼**: P011 (Category Management Page)

---

## ğŸ“‘ ç›®æ¬¡ (Table of Contents)

1. [æŠ€è¡“æ¶æ§‹æ¦‚è¿°](#10-æŠ€è¡“æ¶æ§‹æ¦‚è¿°)
2. [Widgetæ¸…å–®](#20-widgetæ¸…å–®)
3. [æ ¸å¿ƒWidgetè¨­è¨ˆ](#30-æ ¸å¿ƒwidgetè¨­è¨ˆ)
4. [ç‹€æ…‹ç®¡ç†æ¶æ§‹](#40-ç‹€æ…‹ç®¡ç†æ¶æ§‹)
5. [APIæ•´åˆè¨­è¨ˆ](#50-apiæ•´åˆè¨­è¨ˆ)
6. [å°èˆªè·¯ç”±è¨­è¨ˆ](#60-å°èˆªè·¯ç”±è¨­è¨ˆ)
7. [éŸ¿æ‡‰å¼è¨­è¨ˆ](#70-éŸ¿æ‡‰å¼è¨­è¨ˆ)
8. [ç„¡éšœç¤™åŠŸèƒ½](#80-ç„¡éšœç¤™åŠŸèƒ½)
9. [æ•ˆèƒ½æœ€ä½³åŒ–](#90-æ•ˆèƒ½æœ€ä½³åŒ–)
10. [éŒ¯èª¤è™•ç†æ©Ÿåˆ¶](#100-éŒ¯èª¤è™•ç†æ©Ÿåˆ¶)

---

## 1.0 æŠ€è¡“æ¶æ§‹æ¦‚è¿°

### 1.1 æ¨¡çµ„å®šä½
P011ç§‘ç›®ç®¡ç†é é¢ä½œç‚ºLCAS 2.0 Flutteræ‡‰ç”¨ç¨‹å¼çš„æœƒè¨ˆç§‘ç›®é«”ç³»ç®¡ç†æ ¸å¿ƒï¼Œè² è²¬ç§‘ç›®CRUDæ“ä½œã€åˆ†é¡ç®¡ç†ã€éšå±¤èª¿æ•´ã€æ’åºç®¡ç†åŠå››æ¨¡å¼å·®ç•°åŒ–ç§‘ç›®ç®¡ç†é«”é©—ã€‚æœ¬é é¢æ¡ç”¨Clean Architectureè¨­è¨ˆï¼Œç¢ºä¿è³‡æ–™ä¸€è‡´æ€§èˆ‡æ“ä½œç›´è§€æ€§ã€‚

### 1.2 æŠ€è¡“å †ç–Š
- **å‰ç«¯æ¡†æ¶**: Flutter 3.x
- **ç‹€æ…‹ç®¡ç†**: Provider + ChangeNotifier
- **è·¯ç”±ç®¡ç†**: GoRouter
- **HTTPå®¢æˆ¶ç«¯**: Dio
- **æœ¬åœ°å„²å­˜**: SharedPreferences + Hive
- **è¡¨å–®é©—è­‰**: FormBuilderValidators
- **æ‹–æ‹½æ’åº**: flutter_reorderable_list
- **æ¨¹ç‹€çµæ§‹**: flutter_treeview

### 1.3 æ¨¡çµ„æ¶æ§‹
```dart
/**
 * P011_ç§‘ç›®ç®¡ç†é é¢_1.0.0
 * @module P011ç§‘ç›®ç®¡ç†é é¢
 * @description Flutter Presentation Layerç§‘ç›®ç®¡ç†é é¢ - å®Œæ•´ç§‘ç›®CRUDã€éšå±¤ç®¡ç†ã€å››æ¨¡å¼å·®ç•°åŒ–
 * @update 2025-01-26: å‡ç´šè‡³v1.0ç‰ˆæœ¬ï¼Œæ–°å¢å®Œæ•´ç§‘ç›®ç®¡ç†åŠŸèƒ½è¨­è¨ˆï¼Œæ”¯æ´åˆ†é¡ç®¡ç†ã€éšå±¤èª¿æ•´ã€æ’åºæ§åˆ¶
 */
```

---

## 2.0 Widgetæ¸…å–®

### 2.1 å®Œæ•´Widgetç´¢å¼•è¡¨

| # | Widgetåç¨± | ç‰ˆæœ¬ | æ‰€å±¬å±¤ç´š | åŠŸèƒ½æè¿° | ç›¸ä¾çµ„ä»¶ |
|---|------------|------|----------|----------|----------|
| 01 | CategoryManagementPage | V1.0.0 | é é¢å®¹å™¨å±¤ | ä¸»ç§‘ç›®ç®¡ç†é é¢å®¹å™¨åŠç”Ÿå‘½é€±æœŸç®¡ç† | CategoryProviderã€Router |
| 02 | CategoryScaffold | V1.0.0 | ä½ˆå±€çµæ§‹å±¤ | åŸºç¤é é¢çµæ§‹èˆ‡èƒŒæ™¯è¨­å®š | AppBarã€FloatingActionButton |
| 03 | CategoryAppBar | V1.0.0 | å°èˆªæ§åˆ¶å±¤ | ç§‘ç›®ç®¡ç†é é¢å°èˆªèˆ‡æœå°‹åŠŸèƒ½ | SearchBarã€ActionButtons |
| 04 | CategoryTabBar | V1.0.0 | åˆ†é åˆ‡æ›å±¤ | æ”¶å…¥æ”¯å‡ºç§‘ç›®åˆ†é åˆ‡æ› | TabBarã€TabBarView |
| 05 | CategoryListContainer | V1.0.0 | æ¸…å–®å®¹å™¨å±¤ | ç§‘ç›®æ¸…å–®ä¸»è¦å®¹å™¨ | ListViewã€ReorderableListView |
| 06 | CategoryTreeView | V1.0.0 | æ¨¹ç‹€çµæ§‹å±¤ | éšå±¤å¼ç§‘ç›®æ¨¹ç‹€é¡¯ç¤º | TreeViewã€ExpansionTile |
| 07 | CategoryItem | V1.0.0 | é …ç›®é¡¯ç¤ºå±¤ | å–®ä¸€ç§‘ç›®é …ç›®é¡¯ç¤º | CategoryCardã€ActionMenu |
| 08 | CategoryCard | V1.0.0 | å¡ç‰‡å±•ç¤ºå±¤ | ç§‘ç›®è³‡è¨Šå¡ç‰‡é¡¯ç¤º | Cardã€ListTile |
| 09 | CategoryIcon | V1.0.0 | åœ–ç¤ºé¡¯ç¤ºå±¤ | ç§‘ç›®åœ–ç¤ºé¡¯ç¤ºå…ƒä»¶ | Iconã€CircleAvatar |
| 10 | CategoryStats | V1.0.0 | çµ±è¨ˆè³‡è¨Šå±¤ | ç§‘ç›®ä½¿ç”¨çµ±è¨ˆé¡¯ç¤º | Textã€ProgressBar |
| 11 | CategoryActionMenu | V1.0.0 | æ“ä½œé¸å–®å±¤ | ç§‘ç›®æ“ä½œé¸å–®ï¼ˆç·¨è¼¯ã€åˆªé™¤ç­‰ï¼‰ | PopupMenuButtonã€MenuItems |
| 12 | CategoryEditDialog | V1.0.0 | ç·¨è¼¯å°è©±æ¡†å±¤ | ç§‘ç›®ç·¨è¼¯å°è©±æ¡† | Dialogã€Form |
| 13 | CategoryFormFields | V1.0.0 | è¡¨å–®æ¬„ä½å±¤ | ç§‘ç›®ç·¨è¼¯è¡¨å–®æ¬„ä½ç¾¤çµ„ | TextFormFieldã€DropdownButton |
| 14 | CategoryNameField | V1.0.0 | åç¨±è¼¸å…¥å±¤ | ç§‘ç›®åç¨±è¼¸å…¥æ¬„ä½ | TextFormFieldã€Validator |
| 15 | CategoryIconPicker | V1.0.0 | åœ–ç¤ºé¸æ“‡å±¤ | ç§‘ç›®åœ–ç¤ºé¸æ“‡å™¨ | GridViewã€IconButton |
| 16 | CategoryParentPicker | V1.0.0 | ä¸Šå±¤é¸æ“‡å±¤ | ä¸Šå±¤åˆ†é¡é¸æ“‡å™¨ | DropdownButtonã€TreePicker |
| 17 | CategoryDeleteDialog | V1.0.0 | åˆªé™¤ç¢ºèªå±¤ | ç§‘ç›®åˆªé™¤ç¢ºèªå°è©±æ¡† | AlertDialogã€WarningMessage |
| 18 | CategorySearchBar | V1.0.0 | æœå°‹åˆ—å±¤ | ç§‘ç›®æœå°‹è¼¸å…¥åˆ— | SearchBarã€FilterChips |
| 19 | CategoryFilterChips | V1.0.0 | ç¯©é¸æ¨™ç±¤å±¤ | ç§‘ç›®ç¯©é¸æ¨™ç±¤ç¾¤çµ„ | FilterChipã€Wrap |
| 20 | CategorySortOptions | V1.0.0 | æ’åºé¸é …å±¤ | ç§‘ç›®æ’åºé¸é …é¸æ“‡ | DropdownButtonã€RadioGroup |
| 21 | CategoryReorderHandle | V1.0.0 | æ’åºæ§åˆ¶å±¤ | ç§‘ç›®æ‹–æ‹½æ’åºæ§åˆ¶æŠŠæ‰‹ | ReorderableDragStartListenerã€Icon |
| 22 | CategoryUsageIndicator | V1.0.0 | ä½¿ç”¨æŒ‡ç¤ºå±¤ | ç§‘ç›®ä½¿ç”¨é »ç‡æŒ‡ç¤ºå™¨ | LinearProgressIndicatorã€Badge |
| 23 | CategoryStatusBadge | V1.0.0 | ç‹€æ…‹æ¨™è¨˜å±¤ | ç§‘ç›®ç‹€æ…‹æ¨™è¨˜ï¼ˆå•Ÿç”¨/åœç”¨ï¼‰ | Chipã€StatusIcon |
| 24 | AddCategoryFAB | V1.0.0 | æ–°å¢æŒ‰éˆ•å±¤ | æ–°å¢ç§‘ç›®æµ®å‹•æŒ‰éˆ• | FloatingActionButtonã€AnimatedContainer |
| 25 | CategoryImportExport | V1.0.0 | åŒ¯å…¥åŒ¯å‡ºå±¤ | ç§‘ç›®åŒ¯å…¥åŒ¯å‡ºåŠŸèƒ½ | FileUploaderã€DownloadButton |
| 26 | CategoryBulkActions | V1.0.0 | æ‰¹é‡æ“ä½œå±¤ | æ‰¹é‡æ“ä½œå·¥å…·åˆ— | SelectionBarã€ActionButtons |
| 27 | CategorySelectionManager | V1.0.0 | é¸æ“‡ç®¡ç†å±¤ | å¤šé¸ç®¡ç†å™¨ | Checkboxã€SelectionController |
| 28 | CategoryLoadingState | V1.0.0 | è¼‰å…¥ç‹€æ…‹å±¤ | ç§‘ç›®è¼‰å…¥ç‹€æ…‹æŒ‡ç¤º | CircularProgressIndicatorã€Shimmer |
| 29 | CategoryEmptyState | V1.0.0 | ç©ºç‹€æ…‹å±¤ | ç©ºç§‘ç›®ç‹€æ…‹é¡¯ç¤º | EmptyStateWidgetã€AddButton |
| 30 | CategoryErrorState | V1.0.0 | éŒ¯èª¤ç‹€æ…‹å±¤ | ç§‘ç›®è¼‰å…¥éŒ¯èª¤ç‹€æ…‹ | ErrorWidgetã€RetryButton |
| 31 | CategoryValidationMessage | V1.0.0 | é©—è­‰è¨Šæ¯å±¤ | è¡¨å–®é©—è­‰è¨Šæ¯é¡¯ç¤º | Textã€ErrorIcon |
| 32 | CategorySuccessMessage | V1.0.0 | æˆåŠŸè¨Šæ¯å±¤ | æ“ä½œæˆåŠŸè¨Šæ¯é¡¯ç¤º | SnackBarã€SuccessIcon |
| 33 | CategoryHierarchyIndicator | V1.0.0 | éšå±¤æŒ‡ç¤ºå±¤ | ç§‘ç›®éšå±¤æ·±åº¦æŒ‡ç¤ºå™¨ | IndentedWidgetã€LevelLines |
| 34 | CategoryDragPreview | V1.0.0 | æ‹–æ‹½é è¦½å±¤ | æ‹–æ‹½æ™‚çš„ç§‘ç›®é è¦½ | DragTargetã€DragPreview |
| 35 | CategoryDropZone | V1.0.0 | æ”¾ç½®å€åŸŸå±¤ | ç§‘ç›®æ‹–æ‹½æ”¾ç½®å€åŸŸ | DragTargetã€DropIndicator |
| 36 | CategoryModeAdapter | V1.0.0 | æ¨¡å¼é©é…å±¤ | å››æ¨¡å¼å·®ç•°åŒ–é©é…å™¨ | ModeSwitchã€LayoutAdapter |
| 37 | CategoryAccessibilityHelper | V1.0.0 | ç„¡éšœç¤™è¼”åŠ©å±¤ | ç„¡éšœç¤™åŠŸèƒ½è¼”åŠ©å…ƒä»¶ | Semanticsã€Announcements |
| 38 | CategoryAnimationWrapper | V1.0.0 | å‹•ç•«åŒ…è£å±¤ | ç§‘ç›®æ“ä½œå‹•ç•«åŒ…è£å™¨ | AnimatedContainerã€Transitions |
| 39 | CategoryPerformanceOptimizer | V1.0.0 | æ•ˆèƒ½å„ªåŒ–å±¤ | ç§‘ç›®æ¸…å–®æ•ˆèƒ½å„ªåŒ–å™¨ | LazyLoadingã€Virtualization |
| 40 | CategorySyncIndicator | V1.0.0 | åŒæ­¥æŒ‡ç¤ºå±¤ | ç§‘ç›®åŒæ­¥ç‹€æ…‹æŒ‡ç¤ºå™¨ | SyncIconã€ProgressIndicator |

---

## 3.0 æ ¸å¿ƒWidgetè¨­è¨ˆ

### 3.1 é é¢å®¹å™¨å±¤Widget

#### 3.1.1 CategoryManagementPage Widget
```dart
/**
 * 01. å°æ‡‰ 2.1ï¼šä¸»ç§‘ç›®ç®¡ç†é é¢å®¹å™¨Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®ç®¡ç†é é¢çš„ä¸»å®¹å™¨ï¼Œæ”¯æ´å®Œæ•´ç§‘ç›®ç®¡ç†åŠŸèƒ½èˆ‡å››æ¨¡å¼å·®ç•°åŒ–
 */
class CategoryManagementPage extends StatefulWidget {
  static const String routeName = '/categories';
  final UserMode? userMode;
  final String? initialType; // 'income' or 'expense'

  const CategoryManagementPage({
    Key? key, 
    this.userMode,
    this.initialType,
  });

  @override
  State<CategoryManagementPage> createState();
}

/**
 * 02. å°æ‡‰ 2.1ï¼šç§‘ç›®ç®¡ç†é é¢ç‹€æ…‹é¡åˆ¥
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç®¡ç†ç§‘ç›®ç®¡ç†é é¢çš„ç‹€æ…‹å’Œå‹•ç•«æ§åˆ¶å™¨
 */
class _CategoryManagementPageState extends State<CategoryManagementPage> 
    with TickerProviderStateMixin {
  late TabController _tabController;
  late AnimationController _fadeController;
  late AnimationController _slideController;
  late Animation<double> _fadeAnimation;
  late Animation<Offset> _slideAnimation;

  @override
  void initState();

  /**
   * 03. å°æ‡‰ 2.1ï¼šåˆå§‹åŒ–å‹•ç•«æ§åˆ¶å™¨
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è¨­å®šé é¢é€²å…¥å‹•ç•«æ•ˆæœ
   */
  void _initializeAnimations();

  /**
   * 04. å°æ‡‰ 2.1ï¼šåˆå§‹åŒ–é é¢ç‹€æ…‹
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description èª¿ç”¨Provideré€²è¡Œç§‘ç›®ç®¡ç†é é¢åˆå§‹åŒ–
   */
  Future<void> _initializePage();

  /**
   * 05. å°æ‡‰ 2.1ï¼šåˆå§‹åŒ–åˆ†é æ§åˆ¶å™¨
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è¨­å®šæ”¶å…¥æ”¯å‡ºåˆ†é æ§åˆ¶
   */
  void _initializeTabController();

  @override
  Widget build(BuildContext context);

  @override
  void dispose();
}
```

### 3.2 ä½ˆå±€çµæ§‹å±¤Widget

#### 3.2.1 CategoryScaffold Widget
```dart
/**
 * 06. å°æ‡‰ 2.2ï¼šç§‘ç›®ç®¡ç†é é¢ä½ˆå±€çµæ§‹Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description æä¾›ç§‘ç›®ç®¡ç†é é¢çš„åŸºç¤ä½ˆå±€çµæ§‹ï¼Œæ”¯æ´å››æ¨¡å¼å·®ç•°åŒ–èƒŒæ™¯
 */
class CategoryScaffold extends StatelessWidget {
  final Animation<double> fadeAnimation;
  final Animation<Offset> slideAnimation;
  final CategoryProvider provider;
  final UserMode? userMode;
  final TabController tabController;

  const CategoryScaffold({
    Key? key,
    required this.fadeAnimation,
    required this.slideAnimation,
    required this.provider,
    this.userMode,
    required this.tabController,
  });

  @override
  Widget build(BuildContext context);

  /**
   * 07. å°æ‡‰ 2.2ï¼šå»ºç«‹æ‰¹é‡æ“ä½œè¦†è“‹å±¤
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description é¡¯ç¤ºæ‰¹é‡æ“ä½œå·¥å…·åˆ—çš„è¦†è“‹å±¤
   */
  Widget _buildBulkActionsOverlay(BuildContext context, CategoryProvider provider);
}
```

### 3.3 å°èˆªæ§åˆ¶å±¤Widget

#### 3.3.1 CategoryAppBar Widget
```dart
/**
 * 08. å°æ‡‰ 3.1ï¼šç§‘ç›®ç®¡ç†é é¢æ‡‰ç”¨åˆ—Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®ç®¡ç†é é¢çš„æ‡‰ç”¨åˆ—ï¼ŒåŒ…å«æœå°‹å’Œæ“ä½œåŠŸèƒ½
 */
class CategoryAppBar extends StatefulWidget implements PreferredSizeWidget {
  final CategoryProvider provider;
  final UserMode? userMode;

  const CategoryAppBar({
    Key? key,
    required this.provider,
    this.userMode,
  });

  @override
  Size get preferredSize;

  @override
  State<CategoryAppBar> createState();
}

class _CategoryAppBarState extends State<CategoryAppBar> {
  late TextEditingController _searchController;
  bool _isSearchActive = false;

  @override
  void initState();

  @override
  Widget build(BuildContext context);

  /**
   * 09. å°æ‡‰ 3.1ï¼šåˆ‡æ›æœå°‹æ¨¡å¼
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åˆ‡æ›æœå°‹åˆ—é¡¯ç¤ºç‹€æ…‹
   */
  void _toggleSearch();

  /**
   * 10. å°æ‡‰ 3.1ï¼šè™•ç†æœå°‹è¼¸å…¥
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è™•ç†ä½¿ç”¨è€…æœå°‹è¼¸å…¥
   */
  void _handleSearchInput(String query);

  /**
   * 11. å°æ‡‰ 3.1ï¼šå–å¾—æ¨¡å¼å°æ‡‰å‹•ä½œ
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼è¿”å›å¯ç”¨çš„æ‡‰ç”¨åˆ—å‹•ä½œ
   */
  List<Widget> _getActionsForMode(UserMode? mode);

  @override
  void dispose();
}
```

### 3.4 åˆ†é åˆ‡æ›å±¤Widget

#### 3.4.1 CategoryTabBar Widget
```dart
/**
 * 12. å°æ‡‰ 3.2ï¼šç§‘ç›®åˆ†é åˆ‡æ›Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description æ”¶å…¥æ”¯å‡ºç§‘ç›®åˆ†é åˆ‡æ›æ§åˆ¶
 */
class CategoryTabBar extends StatelessWidget {
  final TabController tabController;
  final CategoryProvider provider;
  final UserMode? userMode;

  const CategoryTabBar({
    Key? key,
    required this.tabController,
    required this.provider,
    this.userMode,
  });

  @override
  Widget build(BuildContext context);

  /**
   * 13. å°æ‡‰ 3.2ï¼šå–å¾—æ¨¡å¼å°æ‡‰åˆ†é 
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼è¿”å›å¯ç”¨çš„åˆ†é åˆ—è¡¨
   */
  List<Tab> _getTabsForMode(UserMode? mode);

  /**
   * 14. å°æ‡‰ 3.2ï¼šè™•ç†åˆ†é è®Šæ›´
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è™•ç†åˆ†é åˆ‡æ›äº‹ä»¶
   */
  void _handleTabChange();
}
```

### 3.5 æ¸…å–®å®¹å™¨å±¤Widget

#### 3.5.1 CategoryListContainer Widget
```dart
/**
 * 15. å°æ‡‰ 3.3ï¼šç§‘ç›®æ¸…å–®å®¹å™¨Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®æ¸…å–®çš„ä¸»è¦å®¹å™¨ï¼Œæ”¯æ´æ¨¹ç‹€å’Œåˆ—è¡¨å…©ç¨®é¡¯ç¤ºæ¨¡å¼
 */
class CategoryListContainer extends StatefulWidget {
  final CategoryProvider provider;
  final String categoryType; // 'income' or 'expense'
  final UserMode? userMode;

  const CategoryListContainer({
    Key? key,
    required this.provider,
    required this.categoryType,
    this.userMode,
  });

  @override
  State<CategoryListContainer> createState();
}

class _CategoryListContainerState extends State<CategoryListContainer> {
  final ScrollController _scrollController = ScrollController();
  bool _isReorderMode = false;

  @override
  void initState();

  @override
  Widget build(BuildContext context);

  /**
   * 16. å°æ‡‰ 3.3ï¼šåˆ‡æ›é¡¯ç¤ºæ¨¡å¼
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åœ¨æ¨¹ç‹€å’Œåˆ—è¡¨é¡¯ç¤ºæ¨¡å¼é–“åˆ‡æ›
   */
  void _toggleViewMode();

  /**
   * 17. å°æ‡‰ 3.3ï¼šåˆ‡æ›é‡æ–°æ’åºæ¨¡å¼
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å•Ÿç”¨æˆ–åœç”¨ç§‘ç›®é‡æ–°æ’åºæ¨¡å¼
   */
  void _toggleReorderMode();

  /**
   * 18. å°æ‡‰ 3.3ï¼šè™•ç†ç§‘ç›®é‡æ–°æ’åº
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è™•ç†ç§‘ç›®åœ¨æ¸…å–®ä¸­çš„é‡æ–°æ’åº
   */
  void _handleReorder(int oldIndex, int newIndex);

  @override
  void dispose();
}
```

### 3.6 æ¨¹ç‹€çµæ§‹å±¤Widget

#### 3.6.1 CategoryTreeView Widget
```dart
/**
 * 19. å°æ‡‰ 3.4ï¼šç§‘ç›®æ¨¹ç‹€çµæ§‹Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description éšå±¤å¼ç§‘ç›®æ¨¹ç‹€é¡¯ç¤ºï¼Œæ”¯æ´å±•é–‹æ”¶åˆ
 */
class CategoryTreeView extends StatefulWidget {
  final List<Category> categories;
  final CategoryProvider provider;
  final UserMode? userMode;
  final Function(Category) onCategoryTap;
  final Function(Category) onCategoryLongPress;

  const CategoryTreeView({
    Key? key,
    required this.categories,
    required this.provider,
    this.userMode,
    required this.onCategoryTap,
    required this.onCategoryLongPress,
  });

  @override
  State<CategoryTreeView> createState();
}

class _CategoryTreeViewState extends State<CategoryTreeView> {
  final Set<String> _expandedNodes = {};

  @override
  Widget build(BuildContext context);

  /**
   * 20. å°æ‡‰ 3.4ï¼šå»ºç«‹æ¨¹ç‹€ç¯€é»
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description éè¿´å»ºç«‹ç§‘ç›®æ¨¹ç‹€ç¯€é»
   */
  List<Widget> _buildTreeNodes(List<Category> categories, int level);

  /**
   * 21. å°æ‡‰ 3.4ï¼šåˆ‡æ›ç¯€é»å±•é–‹ç‹€æ…‹
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å±•é–‹æˆ–æ”¶åˆç§‘ç›®æ¨¹ç‹€ç¯€é»
   */
  void _toggleNodeExpansion(String categoryId);

  /**
   * 22. å°æ‡‰ 3.4ï¼šå–å¾—å­ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å–å¾—æŒ‡å®šç§‘ç›®çš„å­ç§‘ç›®åˆ—è¡¨
   */
  List<Category> _getChildCategories(String parentId, List<Category> allCategories);
}
```

### 3.7 é …ç›®é¡¯ç¤ºå±¤Widget

#### 3.7.1 CategoryItem & CategoryCard Widgets
```dart
/**
 * 23. å°æ‡‰ 3.5ï¼šç§‘ç›®é …ç›®Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description å–®ä¸€ç§‘ç›®é …ç›®çš„å®Œæ•´é¡¯ç¤ºå’Œäº’å‹•
 */
class CategoryItem extends StatefulWidget {
  final Category category;
  final CategoryProvider provider;
  final UserMode? userMode;
  final int hierarchyLevel;
  final bool isSelected;
  final bool isReorderMode;
  final VoidCallback? onTap;
  final VoidCallback? onLongPress;
  final VoidCallback? onEdit;
  final VoidCallback? onDelete;

  const CategoryItem({
    Key? key,
    required this.category,
    required this.provider,
    this.userMode,
    this.hierarchyLevel = 0,
    this.isSelected = false,
    this.isReorderMode = false,
    this.onTap,
    this.onLongPress,
    this.onEdit,
    this.onDelete,
  });

  @override
  State<CategoryItem> createState();
}

class _CategoryItemState extends State<CategoryItem> 
    with SingleTickerProviderStateMixin {
  late AnimationController _animationController;
  late Animation<double> _scaleAnimation;

  @override
  void initState();

  @override
  Widget build(BuildContext context);

  /**
   * 24. å°æ‡‰ 3.5ï¼šè™•ç†é …ç›®é»æ“Š
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è™•ç†ç§‘ç›®é …ç›®é»æ“Šäº‹ä»¶
   */
  void _handleItemTap();

  /**
   * 25. å°æ‡‰ 3.5ï¼šè™•ç†é …ç›®é•·æŒ‰
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è™•ç†ç§‘ç›®é …ç›®é•·æŒ‰äº‹ä»¶ï¼Œé¡¯ç¤ºæ“ä½œé¸å–®
   */
  void _handleItemLongPress();

  @override
  void dispose();
}

/**
 * 26. å°æ‡‰ 3.5.1ï¼šç§‘ç›®å¡ç‰‡Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®è³‡è¨Šå±•ç¤ºå¡ç‰‡
 */
class CategoryCard extends StatelessWidget {
  final Category category;
  final UserMode? userMode;
  final int hierarchyLevel;
  final bool isSelected;

  const CategoryCard({
    Key? key,
    required this.category,
    this.userMode,
    this.hierarchyLevel = 0,
    this.isSelected = false,
  });

  @override
  Widget build(BuildContext context);

  /**
   * 27. å°æ‡‰ 3.5.1ï¼šå–å¾—æ¨¡å¼å°æ‡‰å¡ç‰‡æ¨£å¼
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼è¿”å›é©ç•¶çš„å¡ç‰‡æ¨£å¼
   */
  CardTheme _getCardThemeForMode(UserMode? mode);
}
```

### 3.8 æ“ä½œèˆ‡ç·¨è¼¯Widget

#### 3.8.1 CategoryEditDialog Widget
```dart
/**
 * 28. å°æ‡‰ 3.6ï¼šç§‘ç›®ç·¨è¼¯å°è©±æ¡†Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®æ–°å¢å’Œç·¨è¼¯å°è©±æ¡†
 */
class CategoryEditDialog extends StatefulWidget {
  final Category? category; // nullè¡¨ç¤ºæ–°å¢
  final CategoryProvider provider;
  final String categoryType; // 'income' or 'expense'
  final UserMode? userMode;

  const CategoryEditDialog({
    Key? key,
    this.category,
    required this.provider,
    required this.categoryType,
    this.userMode,
  });

  @override
  State<CategoryEditDialog> createState();
}

class _CategoryEditDialogState extends State<CategoryEditDialog> {
  final GlobalKey<FormState> _formKey = GlobalKey<FormState>();
  late TextEditingController _nameController;
  String? _selectedIcon;
  String? _selectedParentId;
  bool _isActive = true;

  @override
  void initState();

  @override
  Widget build(BuildContext context);

  /**
   * 29. å°æ‡‰ 3.6ï¼šé©—è­‰è¡¨å–®è¼¸å…¥
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description é©—è­‰ç§‘ç›®ç·¨è¼¯è¡¨å–®çš„å®Œæ•´æ€§
   */
  bool _validateForm();

  /**
   * 30. å°æ‡‰ 3.6ï¼šæäº¤è¡¨å–®è®Šæ›´
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æäº¤ç§‘ç›®æ–°å¢æˆ–ç·¨è¼¯è®Šæ›´
   */
  Future<void> _submitForm();

  /**
   * 31. å°æ‡‰ 3.6ï¼šæª¢æŸ¥ç§‘ç›®åç¨±é‡è¤‡
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æª¢æŸ¥ç§‘ç›®åç¨±æ˜¯å¦å·²å­˜åœ¨
   */
  Future<bool> _checkNameDuplicate(String name);

  @override
  void dispose();
}

/**
 * 32. å°æ‡‰ 3.6.1ï¼šç§‘ç›®åœ–ç¤ºé¸æ“‡å™¨Widget
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®åœ–ç¤ºé¸æ“‡ç¶²æ ¼
 */
class CategoryIconPicker extends StatefulWidget {
  final String? selectedIcon;
  final ValueChanged<String> onIconSelected;

  const CategoryIconPicker({
    Key? key,
    this.selectedIcon,
    required this.onIconSelected,
  });

  @override
  State<CategoryIconPicker> createState();
}
```

---

## 4.0 ç‹€æ…‹ç®¡ç†æ¶æ§‹

### 4.1 CategoryProvider ç‹€æ…‹ç®¡ç†å™¨
```dart
/**
 * 33. å°æ‡‰ 4.1ï¼šç§‘ç›®ç®¡ç†é é¢ç‹€æ…‹ç®¡ç†å™¨
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç®¡ç†ç§‘ç›®ç®¡ç†é é¢çš„ç‹€æ…‹ï¼Œæ”¯æ´å®Œæ•´ç§‘ç›®CRUDåŠŸèƒ½å’Œå››æ¨¡å¼å·®ç•°åŒ–
 */
class CategoryProvider extends ChangeNotifier {
  // ç‹€æ…‹å±¬æ€§
  CategoryPageState _pageState = CategoryPageState.loading;
  String _selectedCategoryType = 'expense';
  List<Category> _categories = [];
  List<Category> _filteredCategories = [];
  bool _isLoading = false;
  String? _errorMessage;
  CategoryErrorType? _errorType;
  UserMode? _userMode;

  // æœå°‹å’Œç¯©é¸ç‹€æ…‹
  String _searchQuery = '';
  CategoryViewMode _viewMode = CategoryViewMode.list;
  CategorySortOption _sortOption = CategorySortOption.name;
  
  // é¸æ“‡å’Œç·¨è¼¯ç‹€æ…‹
  final Set<String> _selectedCategoryIds = {};
  bool _isSelectionMode = false;
  bool _isReorderMode = false;
  Category? _editingCategory;

  // æ¨¹ç‹€çµæ§‹ç‹€æ…‹
  final Set<String> _expandedNodes = {};

  // Getters
  CategoryPageState get pageState;
  String get selectedCategoryType;
  List<Category> get categories;
  List<Category> get filteredCategories;
  bool get isLoading;
  String? get errorMessage;
  CategoryErrorType? get errorType;
  UserMode? get userMode;
  String get searchQuery;
  CategoryViewMode get viewMode;
  CategorySortOption get sortOption;
  Set<String> get selectedCategoryIds;
  bool get isSelectionMode;
  bool get isReorderMode;
  Category? get editingCategory;
  Set<String> get expandedNodes;

  /**
   * 34. å°æ‡‰ 4.1ï¼šåˆå§‹åŒ–ç§‘ç›®ç®¡ç†é é¢
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åˆå§‹åŒ–ç§‘ç›®ç®¡ç†é é¢ç‹€æ…‹å’Œè¼‰å…¥ç§‘ç›®æ¸…å–®
   */
  Future<void> initializePage(UserMode? mode, String? initialType);

  /**
   * 35. å°æ‡‰ 4.1ï¼šè¼‰å…¥ç§‘ç›®æ¸…å–®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å¾APIè¼‰å…¥ç§‘ç›®æ¸…å–®
   */
  Future<void> loadCategories();

  /**
   * 36. å°æ‡‰ 4.1ï¼šåˆ‡æ›ç§‘ç›®é¡å‹
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åˆ‡æ›æ”¶å…¥æˆ–æ”¯å‡ºç§‘ç›®é¡¯ç¤º
   */
  void switchCategoryType(String type);

  /**
   * 37. å°æ‡‰ 4.1ï¼šæœå°‹ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ ¹æ“šé—œéµå­—æœå°‹ç§‘ç›®
   */
  void searchCategories(String query);

  /**
   * 38. å°æ‡‰ 4.1ï¼šç¯©é¸ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ ¹æ“šæ¢ä»¶ç¯©é¸ç§‘ç›®æ¸…å–®
   */
  void filterCategories();

  /**
   * 39. å°æ‡‰ 4.1ï¼šæ’åºç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ ¹æ“šæŒ‡å®šé¸é …æ’åºç§‘ç›®
   */
  void sortCategories(CategorySortOption option);

  /**
   * 40. å°æ‡‰ 4.1ï¼šåˆ‡æ›é¡¯ç¤ºæ¨¡å¼
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åˆ‡æ›åˆ—è¡¨æˆ–æ¨¹ç‹€é¡¯ç¤ºæ¨¡å¼
   */
  void toggleViewMode();

  /**
   * 41. å°æ‡‰ 4.1ï¼šåˆ‡æ›é¸æ“‡æ¨¡å¼
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description é€²å…¥æˆ–é€€å‡ºå¤šé¸æ¨¡å¼
   */
  void toggleSelectionMode();

  /**
   * 42. å°æ‡‰ 4.1ï¼šé¸æ“‡ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description é¸æ“‡æˆ–å–æ¶ˆé¸æ“‡ç§‘ç›®
   */
  void selectCategory(String categoryId, bool selected);

  /**
   * 43. å°æ‡‰ 4.1ï¼šå…¨é¸ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å…¨é¸æˆ–å–æ¶ˆå…¨é¸ç•¶å‰é¡¯ç¤ºçš„ç§‘ç›®
   */
  void selectAllCategories(bool selected);

  /**
   * 44. å°æ‡‰ 4.1ï¼šæ–°å¢ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ–°å¢æ–°çš„ç§‘ç›®è¨˜éŒ„
   */
  Future<void> createCategory(CreateCategoryRequest request);

  /**
   * 45. å°æ‡‰ 4.1ï¼šæ›´æ–°ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ›´æ–°ç¾æœ‰ç§‘ç›®è³‡æ–™
   */
  Future<void> updateCategory(String categoryId, UpdateCategoryRequest request);

  /**
   * 46. å°æ‡‰ 4.1ï¼šåˆªé™¤ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åˆªé™¤æŒ‡å®šç§‘ç›®
   */
  Future<void> deleteCategory(String categoryId);

  /**
   * 47. å°æ‡‰ 4.1ï¼šæ‰¹é‡åˆªé™¤ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ‰¹é‡åˆªé™¤é¸ä¸­çš„ç§‘ç›®
   */
  Future<void> deleteSelectedCategories();

  /**
   * 48. å°æ‡‰ 4.1ï¼šé‡æ–°æ’åºç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description èª¿æ•´ç§‘ç›®åœ¨æ¸…å–®ä¸­çš„é †åº
   */
  Future<void> reorderCategories(int oldIndex, int newIndex);

  /**
   * 49. å°æ‡‰ 4.1ï¼šåˆ‡æ›ç§‘ç›®ç‹€æ…‹
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å•Ÿç”¨æˆ–åœç”¨ç§‘ç›®
   */
  Future<void> toggleCategoryStatus(String categoryId);

  /**
   * 50. å°æ‡‰ 4.1ï¼šå±•é–‹æ¨¹ç‹€ç¯€é»
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å±•é–‹æˆ–æ”¶åˆæ¨¹ç‹€çµæ§‹ç¯€é»
   */
  void toggleNodeExpansion(String categoryId);

  /**
   * 51. å°æ‡‰ 4.1ï¼šåŒ¯å…¥ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å¾æª”æ¡ˆåŒ¯å…¥ç§‘ç›®è³‡æ–™
   */
  Future<void> importCategories(ImportCategoriesRequest request);

  /**
   * 52. å°æ‡‰ 4.1ï¼šåŒ¯å‡ºç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åŒ¯å‡ºç§‘ç›®è³‡æ–™åˆ°æª”æ¡ˆ
   */
  Future<void> exportCategories(ExportCategoriesRequest request);

  /**
   * 53. å°æ‡‰ 4.1ï¼šé‡ç½®é é¢ç‹€æ…‹
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description é‡ç½®ç§‘ç›®ç®¡ç†é é¢ç‹€æ…‹
   */
  void resetPageState();

  /**
   * 54. å°æ‡‰ 4.1ï¼šè¨­å®šè¼‰å…¥ç‹€æ…‹
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ›´æ–°è¼‰å…¥ç‹€æ…‹ä¸¦é€šçŸ¥ç›£è½è€…
   */
  void _setLoading(bool loading);

  /**
   * 55. å°æ‡‰ 4.1ï¼šè¨­å®šé é¢ç‹€æ…‹
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ›´æ–°é é¢ç‹€æ…‹ä¸¦é€šçŸ¥ç›£è½è€…
   */
  void _setPageState(CategoryPageState state);

  /**
   * 56. å°æ‡‰ 4.1ï¼šè¨­å®šéŒ¯èª¤è¨Šæ¯
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è¨­å®šéŒ¯èª¤è¨Šæ¯å’ŒéŒ¯èª¤é¡å‹
   */
  void _setError(String message, CategoryErrorType type);

  /**
   * 57. å°æ‡‰ 4.1ï¼šå»ºç«‹æ¨¹ç‹€çµæ§‹
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å¾æ‰å¹³ç§‘ç›®æ¸…å–®å»ºç«‹æ¨¹ç‹€çµæ§‹
   */
  List<Category> _buildCategoryTree(List<Category> flatCategories);
}
```

### 4.2 ç‹€æ…‹æšèˆ‰å®šç¾©
```dart
/**
 * 58. å°æ‡‰ 4.2ï¼šç§‘ç›®ç®¡ç†é é¢ç‹€æ…‹æšèˆ‰
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description å®šç¾©ç§‘ç›®ç®¡ç†é é¢çš„å„ç¨®ç‹€æ…‹
 */
enum CategoryPageState {
  loading,        // è¼‰å…¥ä¸­
  loaded,         // è¼‰å…¥å®Œæˆ
  editing,        // ç·¨è¼¯ä¸­
  saving,         // å„²å­˜ä¸­
  deleting,       // åˆªé™¤ä¸­
  importing,      // åŒ¯å…¥ä¸­
  exporting,      // åŒ¯å‡ºä¸­
  error,          // éŒ¯èª¤ç‹€æ…‹
}

/**
 * 59. å°æ‡‰ 4.2ï¼šç§‘ç›®é¡¯ç¤ºæ¨¡å¼æšèˆ‰
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®æ¸…å–®é¡¯ç¤ºæ¨¡å¼
 */
enum CategoryViewMode {
  list,           // åˆ—è¡¨æ¨¡å¼
  tree,          // æ¨¹ç‹€æ¨¡å¼
  grid,          // ç¶²æ ¼æ¨¡å¼
}

/**
 * 60. å°æ‡‰ 4.2ï¼šç§‘ç›®æ’åºé¸é …æšèˆ‰
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®æ’åºæ–¹å¼
 */
enum CategorySortOption {
  name,           // æŒ‰åç¨±æ’åº
  usage,          // æŒ‰ä½¿ç”¨é »ç‡æ’åº
  created,        // æŒ‰å»ºç«‹æ™‚é–“æ’åº
  modified,       // æŒ‰ä¿®æ”¹æ™‚é–“æ’åº
  custom,         // è‡ªè¨‚æ’åº
}

/**
 * 61. å°æ‡‰ 4.2ï¼šç§‘ç›®éŒ¯èª¤é¡å‹æšèˆ‰
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description ç§‘ç›®ç®¡ç†éŒ¯èª¤é¡å‹åˆ†é¡
 */
enum CategoryErrorType {
  loadError,          // è¼‰å…¥éŒ¯èª¤
  createError,        // æ–°å¢éŒ¯èª¤
  updateError,        // æ›´æ–°éŒ¯èª¤
  deleteError,        // åˆªé™¤éŒ¯èª¤
  validationError,    // é©—è­‰éŒ¯èª¤
  permissionError,    // æ¬Šé™éŒ¯èª¤
  duplicateError,     // é‡è¤‡éŒ¯èª¤
  dependencyError,    // ä¾è³´éŒ¯èª¤
  networkError,       // ç¶²è·¯éŒ¯èª¤
  importError,        // åŒ¯å…¥éŒ¯èª¤
  exportError,        // åŒ¯å‡ºéŒ¯èª¤
  unknown,           // æœªçŸ¥éŒ¯èª¤
}
```

---

## 5.0 APIæ•´åˆè¨­è¨ˆ

### 5.1 CategoryApiService APIæœå‹™
```dart
/**
 * 62. å°æ‡‰ 5.1ï¼šç§‘ç›®ç®¡ç†é é¢APIæœå‹™
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description è™•ç†ç§‘ç›®ç®¡ç†é é¢ç›¸é—œçš„APIèª¿ç”¨ï¼Œæ”¯æ´F003ç§‘ç›®ç®¡ç†åŠŸèƒ½
 */
class CategoryApiService {
  final ApiClient _apiClient = ApiClient();

  /**
   * 63. å°æ‡‰ 5.1ï¼šå–å¾—ç§‘ç›®æ¸…å–®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å–å¾—æŒ‡å®šé¡å‹çš„ç§‘ç›®æ¸…å–®ï¼ˆå°æ‡‰F003ç«¯é»ï¼‰
   */
  Future<ApiResponse<List<CategoryModel>>> getCategories(GetCategoriesRequest request);

  /**
   * 64. å°æ‡‰ 5.1ï¼šæ–°å¢ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ–°å¢ç§‘ç›®è¨˜éŒ„APIèª¿ç”¨ï¼ˆå°æ‡‰F003ç«¯é»ï¼‰
   */
  Future<ApiResponse<CategoryModel>> createCategory(CreateCategoryRequest request);

  /**
   * 65. å°æ‡‰ 5.1ï¼šæ›´æ–°ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ›´æ–°ç§‘ç›®è¨˜éŒ„APIèª¿ç”¨ï¼ˆå°æ‡‰F003ç«¯é»ï¼‰
   */
  Future<ApiResponse<CategoryModel>> updateCategory(
    String categoryId, 
    UpdateCategoryRequest request
  );

  /**
   * 66. å°æ‡‰ 5.1ï¼šåˆªé™¤ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åˆªé™¤ç§‘ç›®è¨˜éŒ„APIèª¿ç”¨ï¼ˆå°æ‡‰F003ç«¯é»ï¼‰
   */
  Future<ApiResponse<void>> deleteCategory(String categoryId);

  /**
   * 67. å°æ‡‰ 5.1ï¼šæ‰¹é‡æ“ä½œç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ‰¹é‡æ“ä½œç§‘ç›®ï¼ˆåˆªé™¤ã€æ›´æ–°ç‹€æ…‹ç­‰ï¼‰
   */
  Future<ApiResponse<BatchOperationResult>> batchOperation(BatchCategoryRequest request);

  /**
   * 68. å°æ‡‰ 5.1ï¼šé‡æ–°æ’åºç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description èª¿æ•´ç§‘ç›®é¡¯ç¤ºé †åº
   */
  Future<ApiResponse<void>> reorderCategories(ReorderCategoriesRequest request);

  /**
   * 69. å°æ‡‰ 5.1ï¼šåŒ¯å…¥ç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å¾æª”æ¡ˆåŒ¯å…¥ç§‘ç›®è³‡æ–™
   */
  Future<ApiResponse<ImportResult>> importCategories(ImportCategoriesRequest request);

  /**
   * 70. å°æ‡‰ 5.1ï¼šåŒ¯å‡ºç§‘ç›®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description åŒ¯å‡ºç§‘ç›®è³‡æ–™åˆ°æª”æ¡ˆ
   */
  Future<ApiResponse<ExportResult>> exportCategories(ExportCategoriesRequest request);
}
```

### 5.2 è³‡æ–™æ¨¡å‹å®šç¾©
```dart
/**
 * 71. å°æ‡‰ 5.2ï¼šç§‘ç›®è³‡æ–™æ¨¡å‹
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description å®Œæ•´çš„ç§‘ç›®è³‡æ–™çµæ§‹
 */
class CategoryModel {
  final String categoryId;
  final String categoryName;
  final String categoryType; // 'income' or 'expense'
  final String? categoryIcon;
  final String? parentCategoryId;
  final int displayOrder;
  final bool isActive;
  final bool isCustom;
  final int usageCount;
  final double totalAmount;
  final DateTime? lastUsedDate;
  final DateTime createdAt;
  final DateTime updatedAt;

  CategoryModel({
    required this.categoryId,
    required this.categoryName,
    required this.categoryType,
    this.categoryIcon,
    this.parentCategoryId,
    required this.displayOrder,
    required this.isActive,
    required this.isCustom,
    required this.usageCount,
    required this.totalAmount,
    this.lastUsedDate,
    required this.createdAt,
    required this.updatedAt,
  });

  factory CategoryModel.fromJson(Map<String, dynamic> json);
  Map<String, dynamic> toJson();
  CategoryModel copyWith({...});
}

/**
 * 72. å°æ‡‰ 5.2ï¼šæ–°å¢ç§‘ç›®è«‹æ±‚æ¨¡å‹
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description æ–°å¢ç§‘ç›®è«‹æ±‚è³‡æ–™çµæ§‹
 */
class CreateCategoryRequest {
  final String categoryName;
  final String categoryType;
  final String? categoryIcon;
  final String? parentCategoryId;
  final int? displayOrder;
  final bool isActive;

  CreateCategoryRequest({
    required this.categoryName,
    required this.categoryType,
    this.categoryIcon,
    this.parentCategoryId,
    this.displayOrder,
    this.isActive = true,
  });

  Map<String, dynamic> toJson();
}

/**
 * 73. å°æ‡‰ 5.2ï¼šæ›´æ–°ç§‘ç›®è«‹æ±‚æ¨¡å‹
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description æ›´æ–°ç§‘ç›®è«‹æ±‚è³‡æ–™çµæ§‹
 */
class UpdateCategoryRequest {
  final String? categoryName;
  final String? categoryIcon;
  final String? parentCategoryId;
  final int? displayOrder;
  final bool? isActive;

  UpdateCategoryRequest({
    this.categoryName,
    this.categoryIcon,
    this.parentCategoryId,
    this.displayOrder,
    this.isActive,
  });

  Map<String, dynamic> toJson();
}

/**
 * 74. å°æ‡‰ 5.2ï¼šæ‰¹é‡æ“ä½œè«‹æ±‚æ¨¡å‹
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description æ‰¹é‡æ“ä½œç§‘ç›®è«‹æ±‚è³‡æ–™çµæ§‹
 */
class BatchCategoryRequest {
  final List<String> categoryIds;
  final BatchOperationType operation;
  final Map<String, dynamic>? operationData;

  BatchCategoryRequest({
    required this.categoryIds,
    required this.operation,
    this.operationData,
  });

  Map<String, dynamic> toJson();
}

enum BatchOperationType {
  delete,
  activate,
  deactivate,
  updateParent,
  reorder,
}
```

---

## 6.0 å°èˆªè·¯ç”±è¨­è¨ˆ

### 6.1 è·¯ç”±é…ç½®
```dart
/**
 * 75. å°æ‡‰ 6.1ï¼šç§‘ç›®ç®¡ç†é é¢è·¯ç”±é…ç½®
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description å®šç¾©ç§‘ç›®ç®¡ç†é é¢çš„è·¯ç”±è¦å‰‡èˆ‡å°èˆªé‚è¼¯
 */
class CategoryRoutes {
  static const String categories = '/categories';
  static const String categoryEdit = '/category/edit';
  static const String categoryDetail = '/category/detail';
  static const String settings = '/settings';

  /**
   * 76. å°æ‡‰ 6.1ï¼šå–å¾—ç§‘ç›®ç®¡ç†é é¢è·¯ç”±
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å»ºç«‹ç§‘ç›®ç®¡ç†é é¢çš„GoRouteé…ç½®
   */
  static GoRoute getCategoryRoute();
}

/**
 * 77. å°æ‡‰ 6.1ï¼šç§‘ç›®å°èˆªæœå‹™
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description è™•ç†ç§‘ç›®ç®¡ç†ç›¸é—œçš„å°èˆªé‚è¼¯
 */
class CategoryNavigationService {
  static final GoRouter _router;
  static GoRouter get router;

  /**
   * 78. å°æ‡‰ 6.1ï¼šå°èˆªåˆ°ç§‘ç›®ç·¨è¼¯
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å°èˆªåˆ°ç§‘ç›®ç·¨è¼¯å°è©±æ¡†
   */
  Future<void> navigateToEdit(String? categoryId);

  /**
   * 79. å°æ‡‰ 6.1ï¼šè¿”å›è¨­å®šé é¢
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è¿”å›åˆ°è¨­å®šé é¢
   */
  Future<void> navigateBackToSettings();

  /**
   * 80. å°æ‡‰ 6.1ï¼šå°èˆªåˆ°ç§‘ç›®è©³æƒ…
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å°èˆªåˆ°ç§‘ç›®ä½¿ç”¨è©³æƒ…é é¢
   */
  Future<void> navigateToDetail(String categoryId);
}
```

---

## 7.0 éŸ¿æ‡‰å¼è¨­è¨ˆ

### 7.1 éŸ¿æ‡‰å¼è¼”åŠ©å·¥å…·
```dart
/**
 * 81. å°æ‡‰ 7.1ï¼šç§‘ç›®ç®¡ç†é é¢éŸ¿æ‡‰å¼è¨­è¨ˆè¼”åŠ©å·¥å…·
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description éµå¾ª9005æ–‡ä»¶çš„éŸ¿æ‡‰å¼è¨­è¨ˆè¦ç¯„ï¼Œæä¾›ç§‘ç›®ç®¡ç†é é¢å°ˆç”¨çš„ä½ˆå±€ç®¡ç†
 */
class CategoryResponsiveHelper {
  final BuildContext context;
  late final MediaQueryData _mediaQuery;
  late final Size _screenSize;

  CategoryResponsiveHelper.of(BuildContext context);

  // æ–·é»åˆ¤æ–·å±¬æ€§ï¼ˆ9005è¦ç¯„ï¼‰
  bool get isMobile;
  bool get isTablet;
  bool get isSmallDesktop;
  bool get isLargeDesktop;
  DeviceType get deviceType;

  // ç§‘ç›®ç®¡ç†é é¢å°ˆç”¨å°ºå¯¸å±¬æ€§
  double get categoryItemHeight;
  double get categoryItemSpacing;
  EdgeInsets get categoryListPadding;
  double get treeIndentWidth;
  double get iconPickerGridSize;
  int get iconPickerColumns;

  /**
   * 82. å°æ‡‰ 7.1ï¼šå–å¾—å››æ¨¡å¼æ¸…å–®é…ç½®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼å’Œè£ç½®é¡å‹è¿”å›é©ç•¶æ¸…å–®é…ç½®
   */
  CategoryListConfig getListConfigForMode(UserMode? mode);

  /**
   * 83. å°æ‡‰ 7.1ï¼šå–å¾—æ¨¡å¼å°æ‡‰é …ç›®å¤§å°
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼è¿”å›é©ç•¶é …ç›®å¤§å°
   */
  double getItemSizeForMode(UserMode? mode);
}
```

---

## 8.0 ç„¡éšœç¤™åŠŸèƒ½

### 8.1 èªæ„åŒ–æ”¯æ´
```dart
/**
 * 84. å°æ‡‰ 8.1ï¼šç§‘ç›®ç®¡ç†é é¢ç„¡éšœç¤™èªæ„åŒ–WidgetåŒ…è£å™¨
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description æä¾›WCAG 2.1 AAæ¨™æº–çš„å®Œæ•´ç„¡éšœç¤™æ”¯æ´ï¼ˆ9005è¦ç¯„ï¼‰
 */
class CategoryAccessibilityWrapper {

  /**
   * 85. å°æ‡‰ 8.1ï¼šç‚ºç§‘ç›®é …ç›®æä¾›èªæ„åŒ–æ¨™ç±¤
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description ç‚ºç§‘ç›®é …ç›®æ·»åŠ é©ç•¶çš„èªæ„åŒ–æ¨™ç±¤
   */
  static Widget wrapCategoryItem(Widget child, Category category, {bool isSelected = false});

  /**
   * 86. å°æ‡‰ 8.1ï¼šç‚ºæ“ä½œæŒ‰éˆ•æä¾›èªæ„åŒ–æ¨™ç±¤
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description ç‚ºæ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ç­‰æ“ä½œæŒ‰éˆ•æ·»åŠ é©ç•¶çš„èªæ„åŒ–æ¨™ç±¤
   */
  static Widget wrapActionButton(Widget child, String actionType, bool isEnabled);

  /**
   * 87. å°æ‡‰ 8.1ï¼šç‚ºæ¨¹ç‹€çµæ§‹æä¾›èªæ„åŒ–æ¨™ç±¤
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description ç‚ºæ¨¹ç‹€çµæ§‹ç¯€é»æ·»åŠ é©ç•¶çš„èªæ„åŒ–æ¨™ç±¤
   */
  static Widget wrapTreeNode(Widget child, Category category, int level, bool isExpanded);

  /**
   * 88. å°æ‡‰ 8.1ï¼šç‚ºè¡¨å–®æ¬„ä½æä¾›èªæ„åŒ–æ¨™ç±¤
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description ç‚ºç·¨è¼¯è¡¨å–®æ¬„ä½æ·»åŠ é©ç•¶çš„èªæ„åŒ–æ¨™ç±¤
   */
  static Widget wrapFormField(Widget child, String fieldType, {String? error});
}
```

---

## 9.0 æ•ˆèƒ½æœ€ä½³åŒ–

### 9.1 Widgetå¿«å–ç­–ç•¥
```dart
/**
 * 89. å°æ‡‰ 9.1ï¼šç§‘ç›®ç®¡ç†é é¢Widgetå¿«å–ç®¡ç†å™¨
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description å„ªåŒ–ç§‘ç›®ç®¡ç†é é¢Widgeté‡å»ºæ•ˆèƒ½ï¼Œæ¸›å°‘ä¸å¿…è¦çš„é‡å»º
 */
class CategoryWidgetCache {
  static final Map<String, Widget> _cache = {};
  static final Map<String, DateTime> _cacheTimestamps = {};
  static const Duration _cacheValidDuration = Duration(minutes: 10);

  /**
   * 90. å°æ‡‰ 9.1ï¼šå–å¾—å¿«å–çš„ç§‘ç›®é …ç›®æˆ–å»ºç«‹æ–°çš„
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å¾å¿«å–ä¸­ç²å–ç§‘ç›®é …ç›®Widgetæˆ–å‰µå»ºæ–°çš„
   */
  static Widget getCategoryItemOrCreate(String categoryId, Widget Function() creator);

  /**
   * 91. å°æ‡‰ 9.1ï¼šå–å¾—å¿«å–çš„åœ–ç¤ºé¸æ“‡å™¨æˆ–å»ºç«‹æ–°çš„
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å¾å¿«å–ä¸­ç²å–åœ–ç¤ºé¸æ“‡å™¨Widgetæˆ–å‰µå»ºæ–°çš„
   */
  static Widget getIconPickerOrCreate(Widget Function() creator);

  /**
   * 92. å°æ‡‰ 9.1ï¼šæ¸…é™¤ç§‘ç›®ç®¡ç†é é¢å¿«å–
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description æ¸…é™¤ç§‘ç›®ç®¡ç†é é¢ç›¸é—œçš„Widgetå¿«å–
   */
  static void clearCategoryCache();
}
```

### 9.2 æ¸…å–®æ•ˆèƒ½å„ªåŒ–
```dart
/**
 * 93. å°æ‡‰ 9.2ï¼šç§‘ç›®æ¸…å–®æ•ˆèƒ½å„ªåŒ–å™¨
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description å„ªåŒ–ç§‘ç›®æ¸…å–®è¼‰å…¥å’Œæ»¾å‹•æ•ˆèƒ½
 */
class CategoryListOptimizer {
  static final Map<String, Timer> _debounceTimers = {};
  static const Duration _debounceDelay = Duration(milliseconds: 300);

  /**
   * 94. å°æ‡‰ 9.2ï¼šé˜²æŠ–å‹•æœå°‹è™•ç†
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description é˜²æ­¢ä½¿ç”¨è€…å¿«é€Ÿè¼¸å…¥é€ æˆé »ç¹æœå°‹
   */
  static void debounceSearch(String query, VoidCallback callback);

  /**
   * 95. å°æ‡‰ 9.2ï¼šè™›æ“¬åŒ–é•·æ¸…å–®
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å¤§é‡ç§‘ç›®æ¸…å–®çš„è™›æ“¬åŒ–è™•ç†
   */
  static Widget buildVirtualizedList(List<Category> categories, Widget Function(Category) itemBuilder);

  /**
   * 96. å°æ‡‰ 9.2ï¼šå„ªåŒ–æ¨¹ç‹€çµæ§‹æ¸²æŸ“
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description å„ªåŒ–æ¨¹ç‹€çµæ§‹çš„æ¸²æŸ“æ•ˆèƒ½
   */
  static List<Widget> optimizeTreeRendering(List<Category> categories, Set<String> expandedNodes);
}
```

---

## 10.0 éŒ¯èª¤è™•ç†æ©Ÿåˆ¶

### 10.1 çµ±ä¸€éŒ¯èª¤è™•ç†
```dart
/**
 * 97. å°æ‡‰ 10.1ï¼šç§‘ç›®ç®¡ç†é é¢éŒ¯èª¤è™•ç†å™¨
 * @version 2025-01-26-V1.0.0
 * @date 2025-01-26 21:00:00
 * @description æ ¹æ“šP011_SRSè¦ç¯„çš„å…·é«”éŒ¯èª¤æƒ…å¢ƒé€²è¡Œè©³ç´°è™•ç†
 */
class CategoryErrorHandler {

  /**
   * 98. å°æ‡‰ 10.1ï¼šè™•ç†è¼‰å…¥éŒ¯èª¤
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è™•ç†ç§‘ç›®æ¸…å–®è¼‰å…¥éŒ¯èª¤ï¼ˆP011_SRSè¦ç¯„ï¼‰
   */
  static String handleLoadError(dynamic error);

  /**
   * 99. å°æ‡‰ 10.1ï¼šè™•ç†æ–°å¢éŒ¯èª¤
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è™•ç†ç§‘ç›®æ–°å¢éŒ¯èª¤ï¼ˆP011_SRSè¦ç¯„ï¼‰
   */
  static String handleCreateError(dynamic error);

  /**
   * 100. å°æ‡‰ 10.1ï¼šè™•ç†æ›´æ–°éŒ¯èª¤
   * @version 2025-01-26-V1.0.0
   * @date 2025-01-26 21:00:00
   * @description è™•ç†ç§‘ç›®æ›´æ–°éŒ¯èª¤ï¼ˆP011_SRSè¦ç¯„ï¼‰
   */
  static String handleUpdateError(dynamic error);
}
```

---

## éµå¾ª0055è¨­è¨ˆåŸå‰‡

### éšå±¤æ¶æ§‹å°æ‡‰
- æœ¬TDDæ–‡ä»¶åŸºæ–¼P011_ç§‘ç›®ç®¡ç†é é¢_SRS.mdçš„éœ€æ±‚è¦æ ¼
- èˆ‡9005. Flutter_Presentation layer.mdçš„ç”¢å“è¦æ ¼ä¿æŒä¸€è‡´
- æ‰€æœ‰å‡½æ•¸ç¯€é»ç·¨è™Ÿå°æ‡‰ä¸Šå±¤æ–‡ä»¶çš„åŠŸèƒ½æ¢ç›®

### è¨­è¨ˆåŸå‰‡éµå¾ª
1. **éšå±¤æ¶æ§‹é‚è¼¯**: åš´æ ¼åŸºæ–¼SRSæ–‡ä»¶å®šç¾©çš„åŠŸèƒ½æ¢ç›®è¨­è¨ˆ
2. **åŒå±¤ç´šä¾è³´é—œä¿‚**: è€ƒé‡èˆ‡è¨­å®šé é¢å’Œè¨˜å¸³é é¢çš„ä¾è³´é—œä¿‚
3. **ä»£ç¢¼ç¯€é»ç·¨è™Ÿ**: æ¡ç”¨ä¸åŠ å‰ç¶´çš„ç¯€é»ç·¨è™Ÿæ ¼å¼ï¼ˆå¦‚2.1ã€3.2ï¼‰
4. **å‘½åä¸€è‡´æ€§**: ä¿æŒèˆ‡ä½¿ç”¨è€…ä»‹é¢æ“ä½œæµç¨‹çš„åç¨±åŒæ­¥
5. **å¯è®€æ€§è¨­è¨ˆ**: æ¡ç”¨æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œéµå¾ªä½è€¦åˆã€é«˜å…§èšåŸå‰‡

## æ–‡ä»¶ç¶­è­·è¨˜éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹è€… | ä¿®æ”¹å…§å®¹ |
|------|------|--------|----------|
| **v1.0.0** | **2025-01-26 21:00:00 +08:00** | **LCAS SA Team** | **åˆç‰ˆå»ºç«‹ï¼šå®Œæ•´P011ç§‘ç›®ç®¡ç†é é¢TDDè¦æ ¼ï¼Œæ”¯æ´å®Œæ•´ç§‘ç›®CRUDåŠŸèƒ½ï¼ˆæ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ã€æ’åºã€åˆ†é¡ç®¡ç†ã€éšå±¤èª¿æ•´ã€æ‰¹é‡æ“ä½œã€åŒ¯å…¥åŒ¯å‡ºï¼‰ï¼Œå¯¦ä½œå››æ¨¡å¼å·®ç•°åŒ–è¨­è¨ˆï¼Œæ¨¹ç‹€çµæ§‹é¡¯ç¤ºï¼Œå®Œæ•´éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ï¼Œéµå¾ª0055è¨­è¨ˆåŸå‰‡ï¼Œå°æ‡‰P011 SRSè¦æ ¼** |

---

## å‚™è¨»

- **ç´”å‡½æ•¸å®£å‘Š**: å®Œå…¨ç§»é™¤æ‰€æœ‰å¯¦ä½œä»£ç¢¼ï¼Œåƒ…ä¿ç•™å‡½æ•¸åç¨±ã€åƒæ•¸å®šç¾©å’Œè¨»è§£
- **å®Œæ•´ç§‘ç›®ç®¡ç†**: æ”¯æ´ç§‘ç›®çš„å®Œæ•´CRUDæ“ä½œï¼ŒåŒ…å«æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤ã€æ’åºã€ç‹€æ…‹ç®¡ç†
- **éšå±¤æ¶æ§‹æ”¯æ´**: æ”¯æ´å¤šå±¤ç´šç§‘ç›®åˆ†é¡å’Œæ¨¹ç‹€çµæ§‹é¡¯ç¤º
- **æ‰¹é‡æ“ä½œåŠŸèƒ½**: æ”¯æ´å¤šé¸å’Œæ‰¹é‡æ“ä½œï¼ˆåˆªé™¤ã€å•Ÿç”¨ã€åœç”¨ç­‰ï¼‰
- **åŒ¯å…¥åŒ¯å‡ºåŠŸèƒ½**: æ”¯æ´ç§‘ç›®è³‡æ–™çš„åŒ¯å…¥åŒ¯å‡ºåŠŸèƒ½
- **å››æ¨¡å¼å·®ç•°åŒ–**: æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼æä¾›ä¸åŒçš„ç§‘ç›®ç®¡ç†ç•Œé¢è¤‡é›œåº¦å’Œå¯ç”¨åŠŸèƒ½
- **æ‹–æ‹½æ’åºæ”¯æ´**: æ”¯æ´ç›´è§€çš„æ‹–æ‹½æ–¹å¼èª¿æ•´ç§‘ç›®é †åº
- **æœå°‹ç¯©é¸åŠŸèƒ½**: å®Œæ•´çš„ç§‘ç›®æœå°‹å’Œç¯©é¸æ©Ÿåˆ¶
- **å®Œæ•´æŠ€è¡“æ¶æ§‹**: Widgetåˆ†å±¤ã€ç‹€æ…‹ç®¡ç†ã€APIæ•´åˆã€éŸ¿æ‡‰å¼è¨­è¨ˆã€ç„¡éšœç¤™æ”¯æ´ã€æ•ˆèƒ½æœ€ä½³åŒ–
- **è¦ç¯„å®Œå…¨å°é½Š**: èˆ‡0055ã€P011_SRSã€9005æ–‡ä»¶å®Œå…¨ä¸€è‡´
- **ç¯€é»ç·¨è™Ÿæ¨™æº–åŒ–**: çµ±ä¸€ç·¨è™Ÿ01-100ï¼Œéµå¾ª0055è¦ç¯„æ ¼å¼
- **ç‰ˆæœ¬çµ±ä¸€å‡ç´š**: æ‰€æœ‰çµ„ä»¶ç‰ˆæœ¬çµ±ä¸€ç‚ºv1.0.0
