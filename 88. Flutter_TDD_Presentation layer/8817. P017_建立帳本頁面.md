
# 8817. TDD_P017_å»ºç«‹å¸³æœ¬é é¢_v1.0.0

## æ–‡ä»¶è³‡è¨Š
- **æ–‡ä»¶æ¨™é¡Œ**: P017 å»ºç«‹å¸³æœ¬é é¢æŠ€è¡“è¨­è¨ˆæ–‡ä»¶
- **æ–‡ä»¶ç‰ˆæœ¬**: v1.0.0
- **å‰µå»ºæ—¥æœŸ**: 2025-08-06 21:00:00 +08:00 (å°ç£æ™‚é–“)
- **å‰µå»ºè€…**: LCAS SA Team
- **æœ€å¾Œæ›´æ–°**: 2025-08-06 21:00:00 +08:00 (å°ç£æ™‚é–“)
- **å°æ‡‰éœ€æ±‚æ–‡ä»¶**: P017_å»ºç«‹å¸³æœ¬é é¢_SRS.md
- **å°æ‡‰PRDæ–‡ä»¶**: 9005. Flutter_Presentation layer.md
- **é é¢ä»£ç¢¼**: P017 (Create Ledger Page)

---

## ğŸ“‘ ç›®æ¬¡ (Table of Contents)

1. [æŠ€è¡“æ¶æ§‹æ¦‚è¿°](#10-æŠ€è¡“æ¶æ§‹æ¦‚è¿°)
2. [Widgetæ¸…å–®](#20-widgetæ¸…å–®)
3. [æ ¸å¿ƒWidgetè¨­è¨ˆ](#30-æ ¸å¿ƒwidgetè¨­è¨ˆ)
4. [ç‹€æ…‹ç®¡ç†æ¶æ§‹](#40-ç‹€æ…‹ç®¡ç†æ¶æ§‹)
5. [APIæ•´åˆè¨­è¨ˆ](#50-apiæ•´åˆè¨­è¨ˆ)
6. [å°èˆªè·¯ç”±è¨­è¨ˆ](#60-å°èˆªè·¯ç”±è¨­è¨ˆ)
7. [éŸ¿æ‡‰å¼è¨­è¨ˆ](#70-éŸ¿æ‡‰å¼è¨­è¨ˆ)
8. [ç„¡éšœç¤™åŠŸèƒ½](#80-ç„¡éšœç¤™åŠŸèƒ½)
9. [æ•ˆèƒ½æœ€ä½³åŒ–](#90-æ•ˆèƒ½æœ€ä½³åŒ–)
10. [éŒ¯èª¤è™•ç†æ©Ÿåˆ¶](#100-éŒ¯èª¤è™•ç†æ©Ÿåˆ¶)

---

## 1.0 æŠ€è¡“æ¶æ§‹æ¦‚è¿°

### 1.1 æ¨¡çµ„å®šä½
P017å»ºç«‹å¸³æœ¬é é¢ä½œç‚ºLCAS 2.0 Flutteræ‡‰ç”¨ç¨‹å¼çš„å¤šå¸³æœ¬ç®¡ç†æ ¸å¿ƒï¼Œè² è²¬ä½¿ç”¨è€…å»ºç«‹æ–°å¸³æœ¬çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…å«å¸³æœ¬é¡å‹é¸æ“‡ã€åŸºæœ¬è³‡æ–™é…ç½®ã€å”ä½œè¨­å®šã€é ç®—åˆå§‹åŒ–åŠå››æ¨¡å¼å·®ç•°åŒ–å»ºç«‹é«”é©—ã€‚æœ¬é é¢æ¡ç”¨Clean Architectureè¨­è¨ˆï¼Œç¢ºä¿å¸³æœ¬å»ºç«‹æµç¨‹çš„ç©©å®šæ€§èˆ‡æ˜“ç”¨æ€§ã€‚

### 1.2 æŠ€è¡“å †ç–Š
- **å‰ç«¯æ¡†æ¶**: Flutter 3.x
- **ç‹€æ…‹ç®¡ç†**: Provider + ChangeNotifier
- **è·¯ç”±ç®¡ç†**: GoRouter
- **HTTPå®¢æˆ¶ç«¯**: Dio
- **æœ¬åœ°å„²å­˜**: SharedPreferences + FlutterSecureStorage
- **è¡¨å–®é©—è­‰**: FormBuilder + Validators
- **å‹•ç•«æ¡†æ¶**: AnimationController + Tween
- **åœ–åƒè™•ç†**: image_picker + image_cropper

### 1.3 æ¨¡çµ„æ¶æ§‹
```dart
/**
 * P017_å»ºç«‹å¸³æœ¬é é¢_1.0.0
 * @module P017å»ºç«‹å¸³æœ¬é é¢
 * @description Flutter Presentation Layerå¸³æœ¬å»ºç«‹é é¢ - å¤šé¡å‹å¸³æœ¬å»ºç«‹ã€é…ç½®è¨­å®šã€å”ä½œé‚€è«‹ã€å››æ¨¡å¼å·®ç•°åŒ–
 * @update 2025-08-06: å‡ç´šè‡³v1.0ç‰ˆæœ¬ï¼Œæ–°å¢å®Œæ•´å¸³æœ¬å»ºç«‹åŠŸèƒ½è¨­è¨ˆï¼Œæ”¯æ´å¤šé¡å‹å¸³æœ¬ã€æ™ºèƒ½é è¨­å€¼ã€å¼•å°å¼æµç¨‹
 */
```

---

## 2.0 Widgetæ¸…å–®

### 2.1 å®Œæ•´Widgetç´¢å¼•è¡¨

| # | Widgetåç¨± | ç‰ˆæœ¬ | æ‰€å±¬å±¤ç´š | åŠŸèƒ½æè¿° | ç›¸ä¾çµ„ä»¶ |
|---|------------|------|----------|----------|----------|
| 01 | CreateLedgerPage | V1.0.0 | é é¢å®¹å™¨å±¤ | ä¸»å»ºç«‹å¸³æœ¬é é¢å®¹å™¨åŠç”Ÿå‘½é€±æœŸç®¡ç† | CreateLedgerProviderã€Router |
| 02 | CreateLedgerScaffold | V1.0.0 | ä½ˆå±€çµæ§‹å±¤ | åŸºç¤é é¢çµæ§‹èˆ‡å°èˆªé…ç½® | AppBarã€Stepper |
| 03 | LedgerCreationStepper | V1.0.0 | æ­¥é©Ÿå®¹å™¨å±¤ | å¸³æœ¬å»ºç«‹æ­¥é©Ÿæµç¨‹æ§åˆ¶ | Stepã€StepperContent |
| 04 | LedgerTypeSelection | V1.0.0 | é¡å‹é¸æ“‡å±¤ | å¸³æœ¬é¡å‹é¸æ“‡ç•Œé¢ | LedgerTypeCardã€RadioListTile |
| 05 | LedgerTypeCard | V1.0.0 | é¡å‹å¡ç‰‡å±¤ | å–®ä¸€å¸³æœ¬é¡å‹é¸æ“‡å¡ç‰‡ | Containerã€Columnã€Icon |
| 06 | BasicInfoForm | V1.0.0 | åŸºæœ¬è³‡æ–™å±¤ | å¸³æœ¬åŸºæœ¬è³‡æ–™å¡«å¯«è¡¨å–® | TextFormFieldã€DropdownButton |
| 07 | LedgerNameField | V1.0.0 | åç¨±æ¬„ä½å±¤ | å¸³æœ¬åç¨±è¼¸å…¥æ¬„ä½ | TextFormFieldã€Validator |
| 08 | LedgerDescriptionField | V1.0.0 | æè¿°æ¬„ä½å±¤ | å¸³æœ¬æè¿°è¼¸å…¥æ¬„ä½ | TextFormFieldã€MaxLength |
| 09 | CurrencySelector | V1.0.0 | è²¨å¹£é¸æ“‡å±¤ | å¸³æœ¬é è¨­è²¨å¹£é¸æ“‡å™¨ | DropdownButtonã€Currency |
| 10 | LedgerIconPicker | V1.0.0 | åœ–ç¤ºé¸æ“‡å±¤ | å¸³æœ¬åœ–ç¤ºé¸æ“‡å™¨ | GridViewã€IconButton |
| 11 | CollaborationSettings | V1.0.0 | å”ä½œè¨­å®šå±¤ | å”ä½œå¸³æœ¬è¨­å®šç•Œé¢ | SwitchListTileã€ExpansionTile |
| 12 | MemberInvitation | V1.0.0 | æˆå“¡é‚€è«‹å±¤ | æˆå“¡é‚€è«‹åŠŸèƒ½ç•Œé¢ | Chipã€ContactPicker |
| 13 | MemberInviteCard | V1.0.0 | é‚€è«‹å¡ç‰‡å±¤ | å–®ä¸€æˆå“¡é‚€è«‹å¡ç‰‡ | ListTileã€Avatarã€Button |
| 14 | PermissionSettings | V1.0.0 | æ¬Šé™è¨­å®šå±¤ | æˆå“¡æ¬Šé™è¨­å®šç•Œé¢ | DropdownButtonã€RoleSelector |
| 15 | BudgetInitialization | V1.0.0 | é ç®—åˆå§‹åŒ–å±¤ | é ç®—åˆå§‹è¨­å®šç•Œé¢ | NumberFormFieldã€DatePicker |
| 16 | BudgetCategoryList | V1.0.0 | é ç®—åˆ†é¡å±¤ | é ç®—åˆ†é¡è¨­å®šæ¸…å–® | ListViewã€BudgetCategoryCard |
| 17 | BudgetCategoryCard | V1.0.0 | é ç®—å¡ç‰‡å±¤ | å–®ä¸€é ç®—åˆ†é¡å¡ç‰‡ | Cardã€TextFormField |
| 18 | TemplateSelection | V1.0.0 | ç¯„æœ¬é¸æ“‡å±¤ | å¸³æœ¬ç¯„æœ¬é¸æ“‡ç•Œé¢ | GridViewã€TemplateCard |
| 19 | TemplateCard | V1.0.0 | ç¯„æœ¬å¡ç‰‡å±¤ | å–®ä¸€ç¯„æœ¬é¸æ“‡å¡ç‰‡ | Cardã€Imageã€Checkbox |
| 20 | PreviewPanel | V1.0.0 | é è¦½é¢æ¿å±¤ | å¸³æœ¬è¨­å®šé è¦½é¢æ¿ | ExpansionTileã€InfoCard |
| 21 | PreviewInfoCard | V1.0.0 | é è¦½è³‡è¨Šå±¤ | è¨­å®šè³‡è¨Šé è¦½å¡ç‰‡ | Cardã€Columnã€Text |
| 22 | CreationProgress | V1.0.0 | å»ºç«‹é€²åº¦å±¤ | å¸³æœ¬å»ºç«‹é€²åº¦æŒ‡ç¤ºå™¨ | LinearProgressIndicatorã€Text |
| 23 | ValidationSummary | V1.0.0 | é©—è­‰æ‘˜è¦å±¤ | è¡¨å–®é©—è­‰çµæœæ‘˜è¦ | ExpansionTileã€ValidationItem |
| 24 | ValidationItem | V1.0.0 | é©—è­‰é …ç›®å±¤ | å–®ä¸€é©—è­‰é …ç›®é¡¯ç¤º | ListTileã€Iconã€Text |
| 25 | ActionButtons | V1.0.0 | å‹•ä½œæŒ‰éˆ•å±¤ | å»ºç«‹èˆ‡å–æ¶ˆå‹•ä½œæŒ‰éˆ• | ElevatedButtonã€OutlinedButton |
| 26 | CreateButton | V1.0.0 | å»ºç«‹æŒ‰éˆ•å±¤ | ç¢ºèªå»ºç«‹å¸³æœ¬æŒ‰éˆ• | ElevatedButtonã€LoadingIndicator |
| 27 | CancelButton | V1.0.0 | å–æ¶ˆæŒ‰éˆ•å±¤ | å–æ¶ˆå»ºç«‹æ“ä½œæŒ‰éˆ• | OutlinedButtonã€ConfirmDialog |
| 28 | SuccessDialog | V1.0.0 | æˆåŠŸå°è©±æ¡†å±¤ | å»ºç«‹æˆåŠŸç¢ºèªå°è©±æ¡† | AlertDialogã€Animation |
| 29 | ErrorDialog | V1.0.0 | éŒ¯èª¤å°è©±æ¡†å±¤ | å»ºç«‹å¤±æ•—éŒ¯èª¤å°è©±æ¡† | AlertDialogã€ErrorIcon |
| 30 | LoadingOverlay | V1.0.0 | è¼‰å…¥è¦†è“‹å±¤ | å»ºç«‹éç¨‹è¼‰å…¥ç‹€æ…‹è¦†è“‹ | CircularProgressIndicatorã€Backdrop |

---

## 3.0 æ ¸å¿ƒWidgetè¨­è¨ˆ

### 3.1 é é¢å®¹å™¨å±¤Widget

#### 3.1.1 CreateLedgerPage Widget
```dart
/**
 * 01. å°æ‡‰ 2.1ï¼šä¸»å»ºç«‹å¸³æœ¬é é¢å®¹å™¨Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å»ºç«‹å¸³æœ¬é é¢çš„ä¸»å®¹å™¨ï¼Œæ”¯æ´å¤šé¡å‹å¸³æœ¬å»ºç«‹èˆ‡å››æ¨¡å¼å·®ç•°åŒ–
 */
class CreateLedgerPage extends StatefulWidget {
  static const String routeName = '/create-ledger';
  final UserMode? userMode;
  final LedgerType? preSelectedType;
  final String? templateId;

  const CreateLedgerPage({Key? key, this.userMode, this.preSelectedType, this.templateId});

  @override
  State<CreateLedgerPage> createState();
}

/**
 * 02. å°æ‡‰ 2.1ï¼šå»ºç«‹å¸³æœ¬é é¢ç‹€æ…‹é¡åˆ¥
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description ç®¡ç†å»ºç«‹å¸³æœ¬é é¢çš„ç‹€æ…‹å’Œè¡¨å–®æ§åˆ¶å™¨
 */
class _CreateLedgerPageState extends State<CreateLedgerPage> 
    with TickerProviderStateMixin {
  late AnimationController _fadeController;
  late AnimationController _slideController;
  late Animation<double> _fadeAnimation;
  late Animation<Offset> _slideAnimation;
  final GlobalKey<FormState> _formKey = GlobalKey<FormState>();

  @override
  void initState();

  /**
   * 03. å°æ‡‰ 2.1ï¼šåˆå§‹åŒ–å‹•ç•«æ§åˆ¶å™¨
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è¨­å®šé é¢å‹•ç•«æ•ˆæœå’Œæ­¥é©Ÿæ§åˆ¶å™¨
   */
  void _initializeAnimations();

  /**
   * 04. å°æ‡‰ 2.1ï¼šåˆå§‹åŒ–é é¢ç‹€æ…‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description èª¿ç”¨Provideråˆå§‹åŒ–å»ºç«‹æµç¨‹
   */
  Future<void> _initializePage();

  @override
  Widget build(BuildContext context);

  @override
  void dispose();
}
```

### 3.2 ä½ˆå±€çµæ§‹å±¤Widget

#### 3.2.1 CreateLedgerScaffold Widget
```dart
/**
 * 05. å°æ‡‰ 2.2ï¼šå»ºç«‹å¸³æœ¬é é¢ä½ˆå±€çµæ§‹Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description æä¾›å»ºç«‹å¸³æœ¬é é¢çš„åŸºç¤ä½ˆå±€çµæ§‹ï¼Œæ”¯æ´å››æ¨¡å¼å·®ç•°åŒ–èƒŒæ™¯
 */
class CreateLedgerScaffold extends StatelessWidget {
  final Animation<double> fadeAnimation;
  final Animation<Offset> slideAnimation;
  final GlobalKey<FormState> formKey;
  final CreateLedgerProvider provider;
  final UserMode? userMode;

  const CreateLedgerScaffold({
    Key? key,
    required this.fadeAnimation,
    required this.slideAnimation,
    required this.formKey,
    required this.provider,
    this.userMode,
  });

  @override
  Widget build(BuildContext context);

  /**
   * 06. å°æ‡‰ 2.2ï¼šå»ºç«‹æ‡‰ç”¨ç¨‹å¼åˆ—
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹åŒ…å«é€²åº¦æŒ‡ç¤ºçš„æ‡‰ç”¨ç¨‹å¼åˆ—
   */
  PreferredSizeWidget _buildAppBar(BuildContext context, CreateLedgerProvider provider);
}
```

### 3.3 æ­¥é©Ÿå®¹å™¨å±¤Widget

#### 3.3.1 LedgerCreationStepper Widget
```dart
/**
 * 07. å°æ‡‰ 3.1ï¼šå¸³æœ¬å»ºç«‹æ­¥é©Ÿæµç¨‹Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description ç®¡ç†å¸³æœ¬å»ºç«‹çš„å¤šæ­¥é©Ÿæµç¨‹ï¼Œæ”¯æ´å››æ¨¡å¼å·®ç•°åŒ–æ­¥é©Ÿ
 */
class LedgerCreationStepper extends StatefulWidget {
  final CreateLedgerProvider provider;
  final GlobalKey<FormState> formKey;
  final UserMode? userMode;

  const LedgerCreationStepper({
    Key? key,
    required this.provider,
    required this.formKey,
    this.userMode,
  });

  @override
  State<LedgerCreationStepper> createState();
}

class _LedgerCreationStepperState extends State<LedgerCreationStepper> {
  @override
  Widget build(BuildContext context);

  /**
   * 08. å°æ‡‰ 3.1ï¼šå»ºç«‹æ­¥é©Ÿæ¸…å–®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ ¹æ“šå¸³æœ¬é¡å‹å’Œä½¿ç”¨è€…æ¨¡å¼å»ºç«‹å°æ‡‰æ­¥é©Ÿ
   */
  List<Step> _buildSteps(BuildContext context, CreateLedgerProvider provider);

  /**
   * 09. å°æ‡‰ 3.1ï¼šè™•ç†æ­¥é©Ÿè®Šæ›´
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è™•ç†ä½¿ç”¨è€…é»æ“Šæ­¥é©Ÿè®Šæ›´
   */
  void _onStepTapped(int index);

  /**
   * 10. å°æ‡‰ 3.1ï¼šè™•ç†ç¹¼çºŒæ“ä½œ
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è™•ç†ç¹¼çºŒåˆ°ä¸‹ä¸€æ­¥æ“ä½œ
   */
  void _onStepContinue();

  /**
   * 11. å°æ‡‰ 3.1ï¼šè™•ç†å–æ¶ˆæ“ä½œ
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è™•ç†è¿”å›ä¸Šä¸€æ­¥æ“ä½œ
   */
  void _onStepCancel();
}
```

### 3.4 é¡å‹é¸æ“‡å±¤Widget

#### 3.4.1 LedgerTypeSelection Widget
```dart
/**
 * 12. å°æ‡‰ 3.2ï¼šå¸³æœ¬é¡å‹é¸æ“‡Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å¸³æœ¬é¡å‹é¸æ“‡ç•Œé¢ï¼Œæ”¯æ´å€‹äººã€å”ä½œã€å°ˆæ¡ˆã€åˆ†é¡å¸³æœ¬
 */
class LedgerTypeSelection extends StatelessWidget {
  final LedgerType? selectedType;
  final Function(LedgerType) onTypeSelected;
  final UserMode? userMode;

  const LedgerTypeSelection({
    Key? key,
    this.selectedType,
    required this.onTypeSelected,
    this.userMode,
  });

  @override
  Widget build(BuildContext context);

  /**
   * 13. å°æ‡‰ 3.2ï¼šå–å¾—æ¨¡å¼å¯ç”¨é¡å‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼è¿”å›å¯å»ºç«‹çš„å¸³æœ¬é¡å‹
   */
  List<LedgerType> _getAvailableTypesForMode(UserMode? mode);
}

/**
 * 14. å°æ‡‰ 3.2.1ï¼šå¸³æœ¬é¡å‹å¡ç‰‡Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å–®ä¸€å¸³æœ¬é¡å‹é¸æ“‡å¡ç‰‡ï¼Œé¡¯ç¤ºé¡å‹ç‰¹è‰²èˆ‡åŠŸèƒ½
 */
class LedgerTypeCard extends StatefulWidget {
  final LedgerType type;
  final bool isSelected;
  final VoidCallback onTap;
  final UserMode? userMode;

  const LedgerTypeCard({
    Key? key,
    required this.type,
    this.isSelected = false,
    required this.onTap,
    this.userMode,
  });

  @override
  State<LedgerTypeCard> createState();
}

class _LedgerTypeCardState extends State<LedgerTypeCard>
    with SingleTickerProviderStateMixin {
  late AnimationController _animationController;
  late Animation<double> _scaleAnimation;

  @override
  void initState();

  @override
  Widget build(BuildContext context);

  /**
   * 15. å°æ‡‰ 3.2.1ï¼šå»ºç«‹é¡å‹è³‡è¨Š
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹å¸³æœ¬é¡å‹çš„è©³ç´°è³‡è¨Šé¡¯ç¤º
   */
  Widget _buildTypeInfo(BuildContext context, LedgerType type);

  /**
   * 16. å°æ‡‰ 3.2.1ï¼šå–å¾—é¡å‹ç‰¹è‰²æ¸…å–®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å–å¾—å¸³æœ¬é¡å‹çš„ç‰¹è‰²åŠŸèƒ½æ¸…å–®
   */
  List<String> _getTypeFeatures(LedgerType type);

  @override
  void dispose();
}
```

### 3.5 åŸºæœ¬è³‡æ–™å±¤Widget

#### 3.5.1 BasicInfoForm Widget
```dart
/**
 * 17. å°æ‡‰ 3.3ï¼šåŸºæœ¬è³‡æ–™å¡«å¯«è¡¨å–®Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å¸³æœ¬åŸºæœ¬è³‡æ–™å¡«å¯«è¡¨å–®ï¼ŒåŒ…å«åç¨±ã€æè¿°ã€è²¨å¹£ç­‰è¨­å®š
 */
class BasicInfoForm extends StatefulWidget {
  final CreateLedgerModel ledgerData;
  final Function(CreateLedgerModel) onDataChanged;
  final GlobalKey<FormState> formKey;

  const BasicInfoForm({
    Key? key,
    required this.ledgerData,
    required this.onDataChanged,
    required this.formKey,
  });

  @override
  State<BasicInfoForm> createState();
}

class _BasicInfoFormState extends State<BasicInfoForm> {
  late TextEditingController _nameController;
  late TextEditingController _descriptionController;

  @override
  void initState();

  @override
  Widget build(BuildContext context);

  /**
   * 18. å°æ‡‰ 3.3ï¼šé©—è­‰å¸³æœ¬åç¨±
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description é©—è­‰å¸³æœ¬åç¨±çš„æœ‰æ•ˆæ€§å’Œå”¯ä¸€æ€§
   */
  String? _validateLedgerName(String? value);

  /**
   * 19. å°æ‡‰ 3.3ï¼šæ›´æ–°è¡¨å–®è³‡æ–™
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°è¡¨å–®è³‡æ–™ä¸¦é€šçŸ¥ä¸Šå±¤Widget
   */
  void _updateFormData();

  @override
  void dispose();
}

/**
 * 20. å°æ‡‰ 3.3.1ï¼šå¸³æœ¬åç¨±æ¬„ä½Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å¸³æœ¬åç¨±è¼¸å…¥æ¬„ä½ï¼Œæ”¯æ´å³æ™‚é©—è­‰
 */
class LedgerNameField extends StatelessWidget {
  final TextEditingController controller;
  final Function(String) onChanged;
  final String? Function(String?) validator;

  const LedgerNameField({
    Key? key,
    required this.controller,
    required this.onChanged,
    required this.validator,
  });

  @override
  Widget build(BuildContext context);
}

/**
 * 21. å°æ‡‰ 3.3.2ï¼šè²¨å¹£é¸æ“‡å™¨Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å¸³æœ¬é è¨­è²¨å¹£é¸æ“‡å™¨
 */
class CurrencySelector extends StatelessWidget {
  final String selectedCurrency;
  final Function(String) onCurrencyChanged;
  final List<Currency> availableCurrencies;

  const CurrencySelector({
    Key? key,
    required this.selectedCurrency,
    required this.onCurrencyChanged,
    required this.availableCurrencies,
  });

  @override
  Widget build(BuildContext context);

  /**
   * 22. å°æ‡‰ 3.3.2ï¼šå»ºç«‹è²¨å¹£é …ç›®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹è²¨å¹£é¸æ“‡é …ç›®
   */
  Widget _buildCurrencyItem(Currency currency);
}
```

### 3.6 å”ä½œè¨­å®šå±¤Widget

#### 3.6.1 CollaborationSettings Widget
```dart
/**
 * 23. å°æ‡‰ 3.4ï¼šå”ä½œè¨­å®šWidget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å”ä½œå¸³æœ¬è¨­å®šç•Œé¢ï¼ŒåŒ…å«æˆå“¡é‚€è«‹å’Œæ¬Šé™è¨­å®š
 */
class CollaborationSettings extends StatefulWidget {
  final CreateLedgerModel ledgerData;
  final Function(CreateLedgerModel) onDataChanged;
  final bool isCollaborativeLedger;

  const CollaborationSettings({
    Key? key,
    required this.ledgerData,
    required this.onDataChanged,
    required this.isCollaborativeLedger,
  });

  @override
  State<CollaborationSettings> createState();
}

class _CollaborationSettingsState extends State<CollaborationSettings> {
  @override
  Widget build(BuildContext context);

  /**
   * 24. å°æ‡‰ 3.4ï¼šå»ºç«‹å”ä½œè¨­å®šé …ç›®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹å”ä½œç›¸é—œçš„è¨­å®šé …ç›®
   */
  List<Widget> _buildCollaborationItems();
}

/**
 * 25. å°æ‡‰ 3.4.1ï¼šæˆå“¡é‚€è«‹Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description æˆå“¡é‚€è«‹åŠŸèƒ½ç•Œé¢
 */
class MemberInvitation extends StatefulWidget {
  final List<InviteMemberModel> invitedMembers;
  final Function(List<InviteMemberModel>) onMembersChanged;

  const MemberInvitation({
    Key? key,
    required this.invitedMembers,
    required this.onMembersChanged,
  });

  @override
  State<MemberInvitation> createState();
}

class _MemberInvitationState extends State<MemberInvitation> {
  final TextEditingController _emailController = TextEditingController();

  @override
  Widget build(BuildContext context);

  /**
   * 26. å°æ‡‰ 3.4.1ï¼šæ–°å¢æˆå“¡é‚€è«‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ–°å¢æˆå“¡é‚€è«‹åˆ°æ¸…å–®
   */
  void _addMemberInvitation();

  /**
   * 27. å°æ‡‰ 3.4.1ï¼šç§»é™¤æˆå“¡é‚€è«‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å¾æ¸…å–®ç§»é™¤æˆå“¡é‚€è«‹
   */
  void _removeMemberInvitation(int index);

  /**
   * 28. å°æ‡‰ 3.4.1ï¼šé©—è­‰Emailæ ¼å¼
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description é©—è­‰é‚€è«‹Emailçš„æ ¼å¼å’Œæœ‰æ•ˆæ€§
   */
  bool _validateEmail(String email);

  @override
  void dispose();
}
```

### 3.7 é ç®—åˆå§‹åŒ–å±¤Widget

#### 3.7.1 BudgetInitialization Widget
```dart
/**
 * 29. å°æ‡‰ 3.5ï¼šé ç®—åˆå§‹åŒ–Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description é ç®—åˆå§‹è¨­å®šç•Œé¢ï¼ŒåŒ…å«é ç®—åˆ†é¡å’Œé‡‘é¡è¨­å®š
 */
class BudgetInitialization extends StatefulWidget {
  final CreateLedgerModel ledgerData;
  final Function(CreateLedgerModel) onDataChanged;
  final bool enableBudget;

  const BudgetInitialization({
    Key? key,
    required this.ledgerData,
    required this.onDataChanged,
    required this.enableBudget,
  });

  @override
  State<BudgetInitialization> createState();
}

class _BudgetInitializationState extends State<BudgetInitialization> {
  @override
  Widget build(BuildContext context);

  /**
   * 30. å°æ‡‰ 3.5ï¼šå»ºç«‹é ç®—è¨­å®šé …ç›®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹é ç®—ç›¸é—œçš„è¨­å®šé …ç›®
   */
  List<Widget> _buildBudgetItems();
}

/**
 * 31. å°æ‡‰ 3.5.1ï¼šé ç®—åˆ†é¡æ¸…å–®Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description é ç®—åˆ†é¡è¨­å®šæ¸…å–®
 */
class BudgetCategoryList extends StatefulWidget {
  final List<BudgetCategoryModel> categories;
  final Function(List<BudgetCategoryModel>) onCategoriesChanged;

  const BudgetCategoryList({
    Key? key,
    required this.categories,
    required this.onCategoriesChanged,
  });

  @override
  State<BudgetCategoryList> createState();
}

class _BudgetCategoryListState extends State<BudgetCategoryList> {
  @override
  Widget build(BuildContext context);

  /**
   * 32. å°æ‡‰ 3.5.1ï¼šæ–°å¢é ç®—åˆ†é¡
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ–°å¢é ç®—åˆ†é¡é …ç›®
   */
  void _addBudgetCategory();

  /**
   * 33. å°æ‡‰ 3.5.1ï¼šç§»é™¤é ç®—åˆ†é¡
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç§»é™¤é ç®—åˆ†é¡é …ç›®
   */
  void _removeBudgetCategory(int index);

  /**
   * 34. å°æ‡‰ 3.5.1ï¼šæ›´æ–°åˆ†é¡è³‡æ–™
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°é ç®—åˆ†é¡è³‡æ–™
   */
  void _updateCategoryData(int index, BudgetCategoryModel category);
}
```

### 3.8 ç¯„æœ¬é¸æ“‡å±¤Widget

#### 3.8.1 TemplateSelection Widget
```dart
/**
 * 35. å°æ‡‰ 3.6ï¼šç¯„æœ¬é¸æ“‡Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å¸³æœ¬ç¯„æœ¬é¸æ“‡ç•Œé¢ï¼Œæä¾›é è¨­ç¯„æœ¬å¿«é€Ÿå»ºç«‹
 */
class TemplateSelection extends StatefulWidget {
  final String? selectedTemplateId;
  final Function(String?) onTemplateSelected;
  final LedgerType ledgerType;

  const TemplateSelection({
    Key? key,
    this.selectedTemplateId,
    required this.onTemplateSelected,
    required this.ledgerType,
  });

  @override
  State<TemplateSelection> createState();
}

class _TemplateSelectionState extends State<TemplateSelection> {
  List<LedgerTemplateModel> _templates = [];
  bool _isLoading = false;

  @override
  void initState();

  @override
  Widget build(BuildContext context);

  /**
   * 36. å°æ‡‰ 3.6ï¼šè¼‰å…¥ç¯„æœ¬æ¸…å–®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ ¹æ“šå¸³æœ¬é¡å‹è¼‰å…¥å°æ‡‰ç¯„æœ¬
   */
  Future<void> _loadTemplates();

  /**
   * 37. å°æ‡‰ 3.6ï¼šç¯©é¸é©ç”¨ç¯„æœ¬
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç¯©é¸é©ç”¨æ–¼ç•¶å‰å¸³æœ¬é¡å‹çš„ç¯„æœ¬
   */
  List<LedgerTemplateModel> _filterTemplatesForType(LedgerType type);
}

/**
 * 38. å°æ‡‰ 3.6.1ï¼šç¯„æœ¬å¡ç‰‡Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å–®ä¸€ç¯„æœ¬é¸æ“‡å¡ç‰‡
 */
class TemplateCard extends StatelessWidget {
  final LedgerTemplateModel template;
  final bool isSelected;
  final VoidCallback onTap;

  const TemplateCard({
    Key? key,
    required this.template,
    this.isSelected = false,
    required this.onTap,
  });

  @override
  Widget build(BuildContext context);

  /**
   * 39. å°æ‡‰ 3.6.1ï¼šå»ºç«‹ç¯„æœ¬é è¦½
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹ç¯„æœ¬å…§å®¹é è¦½
   */
  Widget _buildTemplatePreview(LedgerTemplateModel template);
}
```

### 3.9 é è¦½èˆ‡å‹•ä½œæŒ‰éˆ•Widget

#### 3.9.1 PreviewPanel & ActionButtons Widgets
```dart
/**
 * 40. å°æ‡‰ 3.7ï¼šé è¦½é¢æ¿Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å¸³æœ¬è¨­å®šé è¦½é¢æ¿ï¼Œé¡¯ç¤ºå³å°‡å»ºç«‹çš„å¸³æœ¬è³‡è¨Š
 */
class PreviewPanel extends StatelessWidget {
  final CreateLedgerModel ledgerData;
  final UserMode? userMode;

  const PreviewPanel({Key? key, required this.ledgerData, this.userMode});

  @override
  Widget build(BuildContext context);

  /**
   * 41. å°æ‡‰ 3.7ï¼šå»ºç«‹é è¦½å…§å®¹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹å¸³æœ¬è¨­å®šçš„è©³ç´°é è¦½å…§å®¹
   */
  List<Widget> _buildPreviewContent(CreateLedgerModel data);
}

/**
 * 42. å°æ‡‰ 3.8ï¼šå‹•ä½œæŒ‰éˆ•çµ„Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å»ºç«‹èˆ‡å–æ¶ˆå‹•ä½œæŒ‰éˆ•çµ„
 */
class ActionButtons extends StatelessWidget {
  final VoidCallback? onCreatePressed;
  final VoidCallback? onCancelPressed;
  final bool isCreating;
  final bool canCreate;

  const ActionButtons({
    Key? key,
    this.onCreatePressed,
    this.onCancelPressed,
    this.isCreating = false,
    this.canCreate = true,
  });

  @override
  Widget build(BuildContext context);
}

/**
 * 43. å°æ‡‰ 3.8.1ï¼šå»ºç«‹æŒ‰éˆ•Widget
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description ç¢ºèªå»ºç«‹å¸³æœ¬æŒ‰éˆ•
 */
class CreateButton extends StatefulWidget {
  final VoidCallback? onPressed;
  final bool isLoading;
  final bool isEnabled;

  const CreateButton({
    Key? key,
    this.onPressed,
    this.isLoading = false,
    this.isEnabled = true,
  });

  @override
  State<CreateButton> createState();
}

class _CreateButtonState extends State<CreateButton>
    with SingleTickerProviderStateMixin {
  late AnimationController _animationController;
  late Animation<double> _scaleAnimation;

  @override
  void initState();

  @override
  Widget build(BuildContext context);

  @override
  void dispose();
}
```

---

## 4.0 ç‹€æ…‹ç®¡ç†æ¶æ§‹

### 4.1 CreateLedgerProvider ç‹€æ…‹ç®¡ç†å™¨
```dart
/**
 * 44. å°æ‡‰ 4.1ï¼šå»ºç«‹å¸³æœ¬é é¢ç‹€æ…‹ç®¡ç†å™¨
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description ç®¡ç†å»ºç«‹å¸³æœ¬é é¢çš„ç‹€æ…‹ï¼Œæ”¯æ´å¤šé¡å‹å¸³æœ¬å»ºç«‹å’Œå››æ¨¡å¼å·®ç•°åŒ–
 */
class CreateLedgerProvider extends ChangeNotifier {
  // ç‹€æ…‹å±¬æ€§
  CreateLedgerPageState _pageState = CreateLedgerPageState.initial;
  CreateLedgerModel _ledgerData = CreateLedgerModel();
  int _currentStep = 0;
  int _totalSteps = 5;
  
  // è¼‰å…¥ç‹€æ…‹
  bool _isLoading = false;
  bool _isCreating = false;
  bool _isValidating = false;
  String? _errorMessage;
  CreateLedgerErrorType? _errorType;
  
  // ä½¿ç”¨è€…æ¨¡å¼èˆ‡ç¯„æœ¬
  UserMode? _userMode;
  List<LedgerTemplateModel> _availableTemplates = [];
  List<Currency> _availableCurrencies = [];
  
  // é©—è­‰ç‹€æ…‹
  Map<String, bool> _stepValidation = {};
  List<ValidationError> _validationErrors = [];

  // Getters
  CreateLedgerPageState get pageState;
  CreateLedgerModel get ledgerData;
  int get currentStep;
  int get totalSteps;
  bool get isLoading;
  bool get isCreating;
  bool get isValidating;
  String? get errorMessage;
  CreateLedgerErrorType? get errorType;
  UserMode? get userMode;
  List<LedgerTemplateModel> get availableTemplates;
  List<Currency> get availableCurrencies;
  Map<String, bool> get stepValidation;
  List<ValidationError> get validationErrors;
  bool get canCreate;
  double get completionProgress;

  /**
   * 45. å°æ‡‰ 4.1ï¼šåˆå§‹åŒ–å»ºç«‹å¸³æœ¬é é¢
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description åˆå§‹åŒ–é é¢ç‹€æ…‹ä¸¦è¼‰å…¥å¿…è¦è³‡æ–™
   */
  Future<void> initializePage(UserMode? mode, LedgerType? preSelectedType, String? templateId);

  /**
   * 46. å°æ‡‰ 4.1ï¼šè¼‰å…¥ç¯„æœ¬æ¸…å–®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è¼‰å…¥å¯ç”¨çš„å¸³æœ¬ç¯„æœ¬æ¸…å–®
   */
  Future<void> loadTemplates(LedgerType? type);

  /**
   * 47. å°æ‡‰ 4.1ï¼šè¼‰å…¥è²¨å¹£æ¸…å–®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è¼‰å…¥å¯ç”¨çš„è²¨å¹£æ¸…å–®
   */
  Future<void> loadCurrencies();

  /**
   * 48. å°æ‡‰ 4.1ï¼šæ›´æ–°å¸³æœ¬é¡å‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°é¸æ“‡çš„å¸³æœ¬é¡å‹
   */
  void updateLedgerType(LedgerType type);

  /**
   * 49. å°æ‡‰ 4.1ï¼šæ›´æ–°åŸºæœ¬è³‡æ–™
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°å¸³æœ¬åŸºæœ¬è³‡æ–™
   */
  void updateBasicInfo(String name, String? description, String currency, String? iconUrl);

  /**
   * 50. å°æ‡‰ 4.1ï¼šæ›´æ–°å”ä½œè¨­å®š
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°å”ä½œç›¸é—œè¨­å®š
   */
  void updateCollaborationSettings(bool isPublic, List<InviteMemberModel> invitedMembers, 
                                   Map<String, UserRole> memberRoles);

  /**
   * 51. å°æ‡‰ 4.1ï¼šæ›´æ–°é ç®—è¨­å®š
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°é ç®—åˆå§‹è¨­å®š
   */
  void updateBudgetSettings(bool enableBudget, List<BudgetCategoryModel> categories, 
                           double? totalBudget, BudgetPeriod? period);

  /**
   * 52. å°æ‡‰ 4.1ï¼šè¨­å®šç¯„æœ¬
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ‡‰ç”¨é¸æ“‡çš„ç¯„æœ¬åˆ°å¸³æœ¬è¨­å®š
   */
  Future<void> applyTemplate(String templateId);

  /**
   * 53. å°æ‡‰ 4.1ï¼šå‰å¾€ä¸‹ä¸€æ­¥
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å‰å¾€ä¸‹ä¸€å€‹å»ºç«‹æ­¥é©Ÿ
   */
  Future<bool> goToNextStep();

  /**
   * 54. å°æ‡‰ 4.1ï¼šè¿”å›ä¸Šä¸€æ­¥
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è¿”å›ä¸Šä¸€å€‹å»ºç«‹æ­¥é©Ÿ
   */
  void goToPreviousStep();

  /**
   * 55. å°æ‡‰ 4.1ï¼šè·³è½‰åˆ°æŒ‡å®šæ­¥é©Ÿ
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è·³è½‰åˆ°æŒ‡å®šçš„å»ºç«‹æ­¥é©Ÿ
   */
  Future<bool> goToStep(int step);

  /**
   * 56. å°æ‡‰ 4.1ï¼šé©—è­‰ç•¶å‰æ­¥é©Ÿ
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description é©—è­‰ç•¶å‰æ­¥é©Ÿçš„è³‡æ–™å®Œæ•´æ€§
   */
  Future<bool> validateCurrentStep();

  /**
   * 57. å°æ‡‰ 4.1ï¼šé©—è­‰æ‰€æœ‰æ­¥é©Ÿ
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description é©—è­‰æ‰€æœ‰æ­¥é©Ÿçš„è³‡æ–™å®Œæ•´æ€§
   */
  Future<bool> validateAllSteps();

  /**
   * 58. å°æ‡‰ 4.1ï¼šå»ºç«‹å¸³æœ¬
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description åŸ·è¡Œå¸³æœ¬å»ºç«‹æ“ä½œ
   */
  Future<bool> createLedger();

  /**
   * 59. å°æ‡‰ 4.1ï¼šæª¢æŸ¥åç¨±å¯ç”¨æ€§
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æª¢æŸ¥å¸³æœ¬åç¨±æ˜¯å¦å¯ç”¨
   */
  Future<bool> checkNameAvailability(String name);

  /**
   * 60. å°æ‡‰ 4.1ï¼šé è¦½å¸³æœ¬è¨­å®š
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç”Ÿæˆå¸³æœ¬è¨­å®šé è¦½è³‡æ–™
   */
  Map<String, dynamic> generatePreviewData();

  /**
   * 61. å°æ‡‰ 4.1ï¼šé‡è¨­å»ºç«‹æµç¨‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description é‡è¨­å»ºç«‹æµç¨‹åˆ°åˆå§‹ç‹€æ…‹
   */
  void resetCreationFlow();

  /**
   * 62. å°æ‡‰ 4.1ï¼šè¨­å®šè¼‰å…¥ç‹€æ…‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°è¼‰å…¥ç‹€æ…‹ä¸¦é€šçŸ¥ç›£è½è€…
   */
  void _setLoading(bool loading);

  /**
   * 63. å°æ‡‰ 4.1ï¼šè¨­å®šå»ºç«‹ç‹€æ…‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°å»ºç«‹ç‹€æ…‹ä¸¦é€šçŸ¥ç›£è½è€…
   */
  void _setCreating(bool creating);

  /**
   * 64. å°æ‡‰ 4.1ï¼šè¨­å®šé é¢ç‹€æ…‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ›´æ–°é é¢ç‹€æ…‹ä¸¦é€šçŸ¥ç›£è½è€…
   */
  void _setPageState(CreateLedgerPageState state);

  /**
   * 65. å°æ‡‰ 4.1ï¼šè¨­å®šéŒ¯èª¤è¨Šæ¯
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è¨­å®šéŒ¯èª¤è¨Šæ¯å’ŒéŒ¯èª¤é¡å‹
   */
  void _setError(String message, CreateLedgerErrorType type, dynamic error);

  /**
   * 66. å°æ‡‰ 4.1ï¼šæ¸…é™¤éŒ¯èª¤ç‹€æ…‹
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ¸…é™¤éŒ¯èª¤ç‹€æ…‹ä¸¦æ±ºå®šå¾ŒçºŒå‹•ä½œ
   */
  void clearError();

  /**
   * 67. å°æ‡‰ 4.1ï¼šé‡è©¦æ“ä½œ
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ ¹æ“šéŒ¯èª¤é¡å‹åŸ·è¡Œç›¸å°æ‡‰çš„é‡è©¦æ“ä½œ
   */
  Future<void> retryOperation();
}
```

### 4.2 ç‹€æ…‹æšèˆ‰å®šç¾©
```dart
/**
 * 68. å°æ‡‰ 4.2ï¼šå»ºç«‹å¸³æœ¬é é¢ç‹€æ…‹æšèˆ‰
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å®šç¾©å»ºç«‹å¸³æœ¬é é¢çš„å„ç¨®ç‹€æ…‹
 */
enum CreateLedgerPageState {
  initial,      // åˆå§‹ç‹€æ…‹
  loading,      // è¼‰å…¥ä¸­
  ready,        // æº–å‚™å®Œæˆ
  validating,   // é©—è­‰ä¸­
  creating,     // å»ºç«‹ä¸­
  success,      // å»ºç«‹æˆåŠŸ
  error,        // éŒ¯èª¤ç‹€æ…‹
}

/**
 * 69. å°æ‡‰ 4.2ï¼šé ç®—é€±æœŸæšèˆ‰
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description é ç®—é€±æœŸé¡å‹
 */
enum BudgetPeriod {
  monthly,      // æ¯æœˆ
  quarterly,    // æ¯å­£
  yearly,       // æ¯å¹´
  custom,       // è‡ªè¨‚
}

/**
 * 70. å°æ‡‰ 4.2ï¼šå»ºç«‹å¸³æœ¬éŒ¯èª¤é¡å‹æšèˆ‰
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å»ºç«‹å¸³æœ¬éŒ¯èª¤é¡å‹åˆ†é¡
 */
enum CreateLedgerErrorType {
  networkError,       // ç¶²è·¯éŒ¯èª¤
  validationError,    // é©—è­‰éŒ¯èª¤
  nameConflict,       // åç¨±è¡çª
  quotaExceeded,      // é…é¡è¶…é™
  permissionDenied,   // æ¬Šé™ä¸è¶³
  templateError,      // ç¯„æœ¬éŒ¯èª¤
  unknown,           // æœªçŸ¥éŒ¯èª¤
}
```

---

## 5.0 APIæ•´åˆè¨­è¨ˆ

### 5.1 CreateLedgerApiService APIæœå‹™
```dart
/**
 * 71. å°æ‡‰ 5.1ï¼šå»ºç«‹å¸³æœ¬é é¢APIæœå‹™
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description è™•ç†å»ºç«‹å¸³æœ¬é é¢ç›¸é—œçš„APIèª¿ç”¨ï¼Œæ”¯æ´F017å¤šé¡å‹å¸³æœ¬å»ºç«‹åŠŸèƒ½
 */
class CreateLedgerApiService {
  final ApiClient _apiClient = ApiClient();

  /**
   * 72. å°æ‡‰ 5.1ï¼šå»ºç«‹æ–°å¸³æœ¬
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹æ–°å¸³æœ¬ï¼ˆå°æ‡‰F017ç«¯é»ï¼‰
   */
  Future<ApiResponse<CreateLedgerResponse>> createLedger(CreateLedgerRequest request);

  /**
   * 73. å°æ‡‰ 5.1ï¼šæª¢æŸ¥å¸³æœ¬åç¨±å¯ç”¨æ€§
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æª¢æŸ¥å¸³æœ¬åç¨±æ˜¯å¦å·²è¢«ä½¿ç”¨
   */
  Future<ApiResponse<NameAvailabilityResponse>> checkNameAvailability(NameAvailabilityRequest request);

  /**
   * 74. å°æ‡‰ 5.1ï¼šå–å¾—å¸³æœ¬ç¯„æœ¬æ¸…å–®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å–å¾—å¯ç”¨çš„å¸³æœ¬ç¯„æœ¬æ¸…å–®
   */
  Future<ApiResponse<TemplateListResponse>> getTemplates(TemplateListRequest request);

  /**
   * 75. å°æ‡‰ 5.1ï¼šå–å¾—ç¯„æœ¬è©³ç´°è³‡æ–™
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å–å¾—ç‰¹å®šç¯„æœ¬çš„è©³ç´°è¨­å®š
   */
  Future<ApiResponse<TemplateDetailResponse>> getTemplateDetail(String templateId);

  /**
   * 76. å°æ‡‰ 5.1ï¼šé‚€è«‹å”ä½œæˆå“¡
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç™¼é€å”ä½œæˆå“¡é‚€è«‹
   */
  Future<ApiResponse<InviteMembersResponse>> inviteMembers(InviteMembersRequest request);

  /**
   * 77. å°æ‡‰ 5.1ï¼šå–å¾—å¯ç”¨è²¨å¹£æ¸…å–®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å–å¾—ç³»çµ±æ”¯æ´çš„è²¨å¹£æ¸…å–®
   */
  Future<ApiResponse<CurrencyListResponse>> getCurrencies();

  /**
   * 78. å°æ‡‰ 5.1ï¼šè™•ç†DioéŒ¯èª¤
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è™•ç†DioéŒ¯èª¤ä¸¦è½‰æ›ç‚ºä½¿ç”¨è€…å‹å–„è¨Šæ¯
   */
  String _handleDioError(DioError error);
}
```

### 5.2 è³‡æ–™æ¨¡å‹å®šç¾©
```dart
/**
 * 79. å°æ‡‰ 5.2ï¼šå»ºç«‹å¸³æœ¬è«‹æ±‚æ¨¡å‹
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å»ºç«‹å¸³æœ¬è«‹æ±‚è³‡æ–™çµæ§‹
 */
class CreateLedgerRequest {
  final String name;
  final String? description;
  final LedgerType type;
  final String currency;
  final String? iconUrl;
  final bool isPublic;
  final List<InviteMemberModel>? invitedMembers;
  final Map<String, UserRole>? memberRoles;
  final bool enableBudget;
  final List<BudgetCategoryModel>? budgetCategories;
  final double? totalBudget;
  final BudgetPeriod? budgetPeriod;
  final String? templateId;
  final Map<String, dynamic>? customSettings;

  CreateLedgerRequest({
    required this.name,
    this.description,
    required this.type,
    required this.currency,
    this.iconUrl,
    this.isPublic = false,
    this.invitedMembers,
    this.memberRoles,
    this.enableBudget = false,
    this.budgetCategories,
    this.totalBudget,
    this.budgetPeriod,
    this.templateId,
    this.customSettings,
  });

  Map<String, dynamic> toJson();
}

/**
 * 80. å°æ‡‰ 5.2ï¼šå»ºç«‹å¸³æœ¬å›æ‡‰æ¨¡å‹
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å»ºç«‹å¸³æœ¬å›æ‡‰è³‡æ–™çµæ§‹
 */
class CreateLedgerResponse {
  final bool success;
  final String? ledgerId;
  final LedgerModel? ledger;
  final List<String>? invitationsSent;
  final String message;
  final String? nextAction;

  CreateLedgerResponse({
    required this.success,
    this.ledgerId,
    this.ledger,
    this.invitationsSent,
    required this.message,
    this.nextAction,
  });

  factory CreateLedgerResponse.fromJson(Map<String, dynamic> json);
}

/**
 * 81. å°æ‡‰ 5.2ï¼šå»ºç«‹å¸³æœ¬è³‡æ–™æ¨¡å‹
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å»ºç«‹å¸³æœ¬éç¨‹ä¸­çš„è³‡æ–™æ¨¡å‹
 */
class CreateLedgerModel {
  String? name;
  String? description;
  LedgerType? type;
  String currency;
  String? iconUrl;
  bool isPublic;
  List<InviteMemberModel> invitedMembers;
  Map<String, UserRole> memberRoles;
  bool enableBudget;
  List<BudgetCategoryModel> budgetCategories;
  double? totalBudget;
  BudgetPeriod? budgetPeriod;
  String? templateId;
  Map<String, dynamic> customSettings;

  CreateLedgerModel({
    this.name,
    this.description,
    this.type,
    this.currency = 'TWD',
    this.iconUrl,
    this.isPublic = false,
    this.invitedMembers = const [],
    this.memberRoles = const {},
    this.enableBudget = false,
    this.budgetCategories = const [],
    this.totalBudget,
    this.budgetPeriod,
    this.templateId,
    this.customSettings = const {},
  });

  Map<String, dynamic> toJson();
  factory CreateLedgerModel.fromJson(Map<String, dynamic> json);
}

/**
 * 82. å°æ‡‰ 5.2ï¼šå¸³æœ¬ç¯„æœ¬æ¨¡å‹
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å¸³æœ¬ç¯„æœ¬è³‡æ–™æ¨¡å‹
 */
class LedgerTemplateModel {
  final String templateId;
  final String name;
  final String description;
  final LedgerType type;
  final String? previewImageUrl;
  final List<String> features;
  final Map<String, dynamic> defaultSettings;
  final List<BudgetCategoryModel>? defaultCategories;
  final bool isPopular;
  final int usageCount;

  LedgerTemplateModel({
    required this.templateId,
    required this.name,
    required this.description,
    required this.type,
    this.previewImageUrl,
    required this.features,
    required this.defaultSettings,
    this.defaultCategories,
    this.isPopular = false,
    this.usageCount = 0,
  });

  factory LedgerTemplateModel.fromJson(Map<String, dynamic> json);
}
```

---

## 6.0 å°èˆªè·¯ç”±è¨­è¨ˆ

### 6.1 è·¯ç”±é…ç½®
```dart
/**
 * 83. å°æ‡‰ 6.1ï¼šå»ºç«‹å¸³æœ¬é é¢è·¯ç”±é…ç½®
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å®šç¾©å»ºç«‹å¸³æœ¬é é¢çš„è·¯ç”±è¦å‰‡èˆ‡å°èˆªé‚è¼¯
 */
class CreateLedgerRoutes {
  static const String createLedger = '/create-ledger';
  static const String ledgerList = '/ledger-list';
  static const String home = '/home';
  static const String ledgerSettings = '/ledger-settings';

  /**
   * 84. å°æ‡‰ 6.1ï¼šå–å¾—å»ºç«‹å¸³æœ¬é é¢è·¯ç”±
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹å»ºç«‹å¸³æœ¬é é¢çš„GoRouteé…ç½®
   */
  static GoRoute getCreateLedgerRoute();
}

/**
 * 85. å°æ‡‰ 6.1ï¼šå»ºç«‹å¸³æœ¬å°èˆªæœå‹™
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description è™•ç†å»ºç«‹å¸³æœ¬ç›¸é—œçš„å°èˆªé‚è¼¯
 */
class CreateLedgerNavigationService {
  static final GoRouter _router;
  static GoRouter get router;

  /**
   * 86. å°æ‡‰ 6.1ï¼šå°èˆªåˆ°å¸³æœ¬æ¸…å–®
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å»ºç«‹æˆåŠŸå¾Œå°èˆªåˆ°å¸³æœ¬æ¸…å–®
   */
  Future<void> navigateToLedgerList();

  /**
   * 87. å°æ‡‰ 6.1ï¼šå°èˆªåˆ°æ–°å»ºç«‹çš„å¸³æœ¬
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç›´æ¥å°èˆªåˆ°æ–°å»ºç«‹çš„å¸³æœ¬é¦–é 
   */
  Future<void> navigateToNewLedger(String ledgerId);

  /**
   * 88. å°æ‡‰ 6.1ï¼šå°èˆªåˆ°å¸³æœ¬è¨­å®š
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å°èˆªåˆ°å¸³æœ¬è¨­å®šé é¢é€²è¡Œé€²éšè¨­å®š
   */
  Future<void> navigateToLedgerSettings(String ledgerId);

  /**
   * 89. å°æ‡‰ 6.1ï¼šè¿”å›ä¸Šä¸€é 
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å–æ¶ˆå»ºç«‹ä¸¦è¿”å›åˆ°ä¸Šä¸€å€‹é é¢
   */
  void navigateBack();
}
```

---

## 7.0 éŸ¿æ‡‰å¼è¨­è¨ˆ

### 7.1 éŸ¿æ‡‰å¼è¼”åŠ©å·¥å…·
```dart
/**
 * 90. å°æ‡‰ 7.1ï¼šå»ºç«‹å¸³æœ¬é é¢éŸ¿æ‡‰å¼è¨­è¨ˆè¼”åŠ©å·¥å…·
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description éµå¾ª9005æ–‡ä»¶çš„éŸ¿æ‡‰å¼è¨­è¨ˆè¦ç¯„ï¼Œæä¾›å»ºç«‹å¸³æœ¬é é¢å°ˆç”¨çš„ä½ˆå±€ç®¡ç†
 */
class CreateLedgerResponsiveHelper {
  final BuildContext context;
  late final MediaQueryData _mediaQuery;
  late final Size _screenSize;

  CreateLedgerResponsiveHelper.of(BuildContext context);

  // æ–·é»åˆ¤æ–·å±¬æ€§ï¼ˆ9005è¦ç¯„ï¼‰
  bool get isMobile;
  bool get isTablet;
  bool get isSmallDesktop;
  bool get isLargeDesktop;
  DeviceType get deviceType;

  // å»ºç«‹å¸³æœ¬é é¢å°ˆç”¨å°ºå¯¸å±¬æ€§
  double get stepperWidth;
  double get formFieldSpacing;
  EdgeInsets get formPadding;
  double get cardHeight;
  double get buttonHeight;
  int get gridColumns;

  /**
   * 91. å°æ‡‰ 7.1ï¼šå–å¾—å››æ¨¡å¼è¡¨å–®ä½ˆå±€
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼å’Œè£ç½®é¡å‹è¿”å›é©ç•¶è¡¨å–®ä½ˆå±€
   */
  FormLayout getFormLayoutForMode(UserMode? mode);

  /**
   * 92. å°æ‡‰ 7.1ï¼šå–å¾—æ¨¡å¼å°æ‡‰æ¬„ä½å¤§å°
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼è¿”å›é©ç•¶æ¬„ä½å¤§å°
   */
  double getFieldSizeForMode(UserMode? mode, FieldType fieldType);

  /**
   * 93. å°æ‡‰ 7.1ï¼šå–å¾—æ­¥é©Ÿå™¨æ¨£å¼
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ ¹æ“šè¢å¹•å°ºå¯¸è¿”å›æ­¥é©Ÿå™¨æ¨£å¼
   */
  StepperType getStepperTypeForScreen();
}
```

---

## 8.0 ç„¡éšœç¤™åŠŸèƒ½

### 8.1 èªæ„åŒ–æ”¯æ´
```dart
/**
 * 94. å°æ‡‰ 8.1ï¼šå»ºç«‹å¸³æœ¬é é¢ç„¡éšœç¤™èªæ„åŒ–WidgetåŒ…è£å™¨
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description æä¾›WCAG 2.1 AAæ¨™æº–çš„å®Œæ•´ç„¡éšœç¤™æ”¯æ´ï¼ˆ9005è¦ç¯„ï¼‰
 */
class CreateLedgerAccessibilityWrapper {

  /**
   * 95. å°æ‡‰ 8.1ï¼šç‚ºå¸³æœ¬é¡å‹å¡ç‰‡æä¾›èªæ„åŒ–æ¨™ç±¤
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç‚ºå¸³æœ¬é¡å‹é¸æ“‡å¡ç‰‡æ·»åŠ é©ç•¶çš„èªæ„åŒ–æ¨™ç±¤
   */
  static Widget wrapTypeCard(Widget child, LedgerType type, bool isSelected);

  /**
   * 96. å°æ‡‰ 8.1ï¼šç‚ºè¡¨å–®æ¬„ä½æä¾›èªæ„åŒ–æ¨™ç±¤
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç‚ºå„ç¨®è¡¨å–®æ¬„ä½æ·»åŠ é©ç•¶çš„èªæ„åŒ–æ¨™ç±¤
   */
  static Widget wrapFormField(Widget child, String fieldType, {String? label, String? hint});

  /**
   * 97. å°æ‡‰ 8.1ï¼šç‚ºæ­¥é©ŸæŒ‡ç¤ºå™¨æä¾›èªæ„åŒ–æ¨™ç±¤
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç‚ºå»ºç«‹æ­¥é©ŸæŒ‡ç¤ºå™¨æ·»åŠ é©ç•¶çš„èªæ„åŒ–æ¨™ç±¤
   */
  static Widget wrapStepper(Widget child, int currentStep, int totalSteps);

  /**
   * 98. å°æ‡‰ 8.1ï¼šç‚ºå»ºç«‹æŒ‰éˆ•æä¾›èªæ„åŒ–æ¨™ç±¤
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description ç‚ºå»ºç«‹ç¢ºèªæŒ‰éˆ•æ·»åŠ é©ç•¶çš„èªæ„åŒ–æ¨™ç±¤
   */
  static Widget wrapCreateButton(Widget child, bool isLoading, bool canCreate);
}
```

---

## 9.0 æ•ˆèƒ½æœ€ä½³åŒ–

### 9.1 Widgetå¿«å–ç­–ç•¥
```dart
/**
 * 99. å°æ‡‰ 9.1ï¼šå»ºç«‹å¸³æœ¬é é¢Widgetå¿«å–ç®¡ç†å™¨
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description å„ªåŒ–å»ºç«‹å¸³æœ¬é é¢Widgeté‡å»ºæ•ˆèƒ½ï¼Œæ¸›å°‘ä¸å¿…è¦çš„é‡å»º
 */
class CreateLedgerWidgetCache {
  static final Map<String, Widget> _cache = {};
  static final Map<String, DateTime> _cacheTimestamps = {};
  static const Duration _cacheValidDuration = Duration(minutes: 10);

  /**
   * 100. å°æ‡‰ 9.1ï¼šå–å¾—å¿«å–çš„ç¯„æœ¬å¡ç‰‡æˆ–å»ºç«‹æ–°çš„
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description å¾å¿«å–ä¸­ç²å–ç¯„æœ¬å¡ç‰‡Widgetæˆ–å‰µå»ºæ–°çš„
   */
  static Widget getTemplateCardOrCreate(String templateId, Widget Function() creator);

  /**
   * 101. å°æ‡‰ 9.1ï¼šæ¸…é™¤å»ºç«‹å¸³æœ¬å¿«å–
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description æ¸…é™¤å»ºç«‹å¸³æœ¬é é¢ç›¸é—œçš„Widgetå¿«å–
   */
  static void clearCreateLedgerCache();
}
```

---

## 10.0 éŒ¯èª¤è™•ç†æ©Ÿåˆ¶

### 10.1 çµ±ä¸€éŒ¯èª¤è™•ç†
```dart
/**
 * 102. å°æ‡‰ 10.1ï¼šå»ºç«‹å¸³æœ¬é é¢éŒ¯èª¤è™•ç†å™¨
 * @version 2025-08-06-V1.0.0
 * @date 2025-08-06 21:00:00
 * @description æ ¹æ“šP017è¦ç¯„çš„å…·é«”éŒ¯èª¤æƒ…å¢ƒé€²è¡Œè©³ç´°è™•ç†
 */
class CreateLedgerErrorHandler {

  /**
   * 103. å°æ‡‰ 10.1ï¼šè™•ç†å»ºç«‹å¸³æœ¬éŒ¯èª¤
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è™•ç†å¸³æœ¬å»ºç«‹éç¨‹éŒ¯èª¤ï¼ˆP017è¦ç¯„ï¼‰
   */
  static String handleCreateError(dynamic error);

  /**
   * 104. å°æ‡‰ 10.1ï¼šè™•ç†é©—è­‰éŒ¯èª¤
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è™•ç†è¡¨å–®é©—è­‰éŒ¯èª¤ï¼ˆP017è¦ç¯„ï¼‰
   */
  static List<String> handleValidationErrors(List<ValidationError> errors);

  /**
   * 105. å°æ‡‰ 10.1ï¼šè™•ç†åç¨±è¡çªéŒ¯èª¤
   * @version 2025-08-06-V1.0.0
   * @date 2025-08-06 21:00:00
   * @description è™•ç†å¸³æœ¬åç¨±è¡çªéŒ¯èª¤ï¼ˆP017è¦ç¯„ï¼‰
   */
  static String handleNameConflictError(String name);
}
```

---

## éµå¾ª0055è¨­è¨ˆåŸå‰‡

### éšå±¤æ¶æ§‹å°æ‡‰
- æœ¬TDDæ–‡ä»¶åŸºæ–¼P017_å»ºç«‹å¸³æœ¬é é¢_SRS.mdçš„éœ€æ±‚è¦æ ¼
- èˆ‡9005. Flutter_Presentation layer.mdçš„ç”¢å“è¦æ ¼ä¿æŒä¸€è‡´
- æ‰€æœ‰å‡½æ•¸ç¯€é»ç·¨è™Ÿå°æ‡‰ä¸Šå±¤æ–‡ä»¶çš„åŠŸèƒ½æ¢ç›®

### è¨­è¨ˆåŸå‰‡éµå¾ª
1. **éšå±¤æ¶æ§‹é‚è¼¯**: åš´æ ¼åŸºæ–¼SRSæ–‡ä»¶å®šç¾©çš„åŠŸèƒ½æ¢ç›®è¨­è¨ˆ
2. **åŒå±¤ç´šä¾è³´é—œä¿‚**: è€ƒé‡èˆ‡å¸³æœ¬æ¸…å–®å’Œå¸³æœ¬è¨­å®šé é¢çš„ä¾è³´é—œä¿‚
3. **ä»£ç¢¼ç¯€é»ç·¨è™Ÿ**: æ¡ç”¨ä¸åŠ å‰ç¶´çš„ç¯€é»ç·¨è™Ÿæ ¼å¼ï¼ˆå¦‚2.1ã€3.2ï¼‰
4. **å‘½åä¸€è‡´æ€§**: ä¿æŒèˆ‡ä½¿ç”¨è€…ä»‹é¢æ“ä½œæµç¨‹çš„åç¨±åŒæ­¥
5. **å¯è®€æ€§è¨­è¨ˆ**: æ¡ç”¨æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œéµå¾ªä½è€¦åˆã€é«˜å…§èšåŸå‰‡

## æ–‡ä»¶ç¶­è­·è¨˜éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹è€… | ä¿®æ”¹å…§å®¹ |
|------|------|--------|----------|
| **v1.0.0** | **2025-08-06 21:00:00 +08:00** | **LCAS SA Team** | **åˆç‰ˆå»ºç«‹ï¼šå®Œæ•´P017å»ºç«‹å¸³æœ¬é é¢TDDè¦æ ¼ï¼Œæ”¯æ´å¤šé¡å‹å¸³æœ¬å»ºç«‹ï¼ˆå€‹äººã€å”ä½œã€å°ˆæ¡ˆã€åˆ†é¡ï¼‰ï¼Œå¯¦ä½œå››æ¨¡å¼å·®ç•°åŒ–è¨­è¨ˆï¼Œå¼•å°å¼å»ºç«‹æµç¨‹ï¼Œç¯„æœ¬ç³»çµ±ï¼Œå”ä½œé‚€è«‹ï¼Œé ç®—åˆå§‹åŒ–ï¼Œéµå¾ª0055è¨­è¨ˆåŸå‰‡ï¼Œå°æ‡‰P017 SRSè¦æ ¼** |

---

## å‚™è¨»

- **ç´”å‡½æ•¸å®£å‘Š**: å®Œå…¨ç§»é™¤æ‰€æœ‰å¯¦ä½œä»£ç¢¼ï¼Œåƒ…ä¿ç•™å‡½æ•¸åç¨±ã€åƒæ•¸å®šç¾©å’Œè¨»è§£
- **å¤šé¡å‹å¸³æœ¬æ”¯æ´**: æ”¯æ´å€‹äººã€å”ä½œã€å°ˆæ¡ˆã€åˆ†é¡ç­‰å¤šç¨®å¸³æœ¬é¡å‹çš„çµ±ä¸€å»ºç«‹æµç¨‹
- **å››æ¨¡å¼å·®ç•°åŒ–**: æ ¹æ“šä½¿ç”¨è€…æ¨¡å¼æä¾›ä¸åŒçš„å»ºç«‹ç•Œé¢è¤‡é›œåº¦å’ŒåŠŸèƒ½é¸é …
- **å¼•å°å¼æµç¨‹**: å¤šæ­¥é©Ÿå»ºç«‹æµç¨‹ï¼Œæ™ºèƒ½é è¨­å€¼ï¼Œå³æ™‚é©—è­‰èˆ‡é è¦½
- **ç¯„æœ¬ç³»çµ±**: é è¨­ç¯„æœ¬å¿«é€Ÿå»ºç«‹ï¼Œè‡ªè¨‚è¨­å®šï¼Œæ™ºèƒ½å¥—ç”¨
- **å”ä½œåŠŸèƒ½**: æˆå“¡é‚€è«‹ã€æ¬Šé™è¨­å®šã€å”ä½œé…ç½®
- **å®Œæ•´æŠ€è¡“æ¶æ§‹**: Widgetåˆ†å±¤ã€ç‹€æ…‹ç®¡ç†ã€APIæ•´åˆã€éŸ¿æ‡‰å¼è¨­è¨ˆã€ç„¡éšœç¤™æ”¯æ´ã€æ•ˆèƒ½æœ€ä½³åŒ–
- **è¦ç¯„å®Œå…¨å°é½Š**: èˆ‡0055ã€P017 SRSã€9005æ–‡ä»¶å®Œå…¨ä¸€è‡´
- **ç¯€é»ç·¨è™Ÿæ¨™æº–åŒ–**: çµ±ä¸€ç·¨è™Ÿ01-105ï¼Œéµå¾ª0055è¦ç¯„æ ¼å¼
- **ç‰ˆæœ¬çµ±ä¸€å‡ç´š**: æ‰€æœ‰çµ„ä»¶ç‰ˆæœ¬çµ±ä¸€ç‚ºv1.0.0
