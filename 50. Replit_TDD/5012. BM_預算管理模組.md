# 5012. TDD_BM_é ç®—ç®¡ç†æ¨¡çµ„_v2.0

## æ–‡ä»¶è³‡è¨Š
- **æ–‡ä»¶æ¨™é¡Œ**: BM é ç®—ç®¡ç†æ¨¡çµ„æŠ€è¡“è¨­è¨ˆæ–‡ä»¶
- **æ–‡ä»¶ç‰ˆæœ¬**: v2.0
- **å‰µå»ºæ—¥æœŸ**: 2025-07-07 14:15:41 +08:00 (å°ç£æ™‚é–“)
- **å‰µå»ºè€…**: AustinLiao69
- **æœ€å¾Œæ›´æ–°**: 2025-08-02 10:00:00 +08:00 (å°ç£æ™‚é–“)
- **å°æ‡‰éœ€æ±‚æ–‡ä»¶**: 1012. BM_é ç®—ç®¡ç†æ¨¡çµ„.md
- **æ¨¡çµ„ä»£ç¢¼**: BM (Budget Management)

---

## ğŸ“‘ ç›®æ¬¡ (Table of Contents)

1. æŠ€è¡“æ¶æ§‹æ¦‚è¿°
   - 1.1 æ¨¡çµ„å®šä½
   - 1.2 æŠ€è¡“å †ç–Š
   - 1.3 æ¨¡çµ„æ¶æ§‹

2. æ ¸å¿ƒå‡½æ•¸è¨­è¨ˆ
   - 2.1 é ç®—è¨­å®šå‡½æ•¸
   - 2.2 é ç®—è¿½è¹¤å‡½æ•¸
   - 2.3 é ç®—è­¦ç¤ºå‡½æ•¸
   - 2.4 é ç®—åˆ†æå‡½æ•¸
   - 2.5 é ç®—åˆ†é¡ç®¡ç†å‡½æ•¸
   - 2.6 éŒ¯èª¤è™•ç†èˆ‡ç›£æ§å‡½æ•¸

3. æ¨¡çµ„é–“äº’å‹•æ¶æ§‹
   - 3.1 æ ¸å¿ƒä¾è³´é—œä¿‚
   - 3.2 è³‡æ–™æµå‘è¨­è¨ˆ

4. è³‡æ–™åº«æ¶æ§‹è¨­è¨ˆ
   - 4.1 Firestore é›†åˆçµæ§‹
   - 4.2 é ç®—åˆ†é¡çµæ§‹è¨­è¨ˆ

5. API ä»‹é¢è¦æ ¼
   - 5.1 REST API ç«¯é»
   - 5.2 WebSocket äº‹ä»¶

6. æ•ˆèƒ½èˆ‡æ“´å±•æ€§è€ƒé‡
   - 6.1 å¿«å–ç­–ç•¥
   - 6.2 å³æ™‚è™•ç†

7. æ–‡ä»¶ç¶­è­·è¨˜éŒ„

---

## 1.0 æŠ€è¡“æ¶æ§‹æ¦‚è¿°

### 1.1 æ¨¡çµ„å®šä½
BM é ç®—ç®¡ç†æ¨¡çµ„ä½œç‚º LCAS 2.0 çš„æ ¸å¿ƒæ”¯æŸ±æ¨¡çµ„ï¼Œè² è²¬ç‚ºä¸åŒé¡å‹å¸³æœ¬æä¾›é ç®—è¨­å®šã€è¿½è¹¤ã€è­¦ç¤ºç­‰å®Œæ•´çš„é ç®—ç®¡ç†åŠŸèƒ½ï¼Œèˆ‡å¤šå¸³æœ¬ç®¡ç†æ¨¡çµ„ç·Šå¯†æ•´åˆã€‚

### 1.2 æŠ€è¡“å †ç–Š
- **å¾Œç«¯æ¡†æ¶**: Node.js/Express
- **è³‡æ–™åº«**: Firestore
- **æ—¥èªŒç³»çµ±**: DL æ¨¡çµ„
- **é€šçŸ¥ç³»çµ±**: LINE OAæ¨¡çµ„
- **è³‡æ–™åŒæ­¥**: DD è³‡æ–™åˆ†ç™¼æ¨¡çµ„

### 1.3 æ¨¡çµ„æ¶æ§‹
```javascript
/**
 * BM_é ç®—ç®¡ç†æ¨¡çµ„_1.0.0
 * @module BMæ¨¡çµ„ 
 * @description é ç®—ç®¡ç†ç³»çµ± - æ”¯æ´é ç®—è¨­å®šã€è¿½è¹¤ã€è­¦ç¤ºèˆ‡åˆ†æ
 * @update 2025-07-07: åˆç‰ˆå»ºç«‹ï¼Œå¯¦ç¾å¤šå¸³æœ¬é ç®—ç®¡ç†èˆ‡æ™ºæ…§è­¦ç¤º
 */
```

---

## 2.0 æ ¸å¿ƒå‡½æ•¸è¨­è¨ˆ

### 2.1 é ç®—è¨­å®šå‡½æ•¸

```javascript
/**
 * 01. å»ºç«‹å¸³æœ¬é ç®—
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description ç‚ºæŒ‡å®šå¸³æœ¬å»ºç«‹é ç®—è¨ˆç•«
 */
function BM_createBudget(ledgerId, userId, budgetData, budgetType)
```
- **åŠŸèƒ½**: å»ºç«‹æœˆåº¦/å¹´åº¦/å°ˆæ¡ˆé ç®—ï¼Œæ”¯æ´åˆ†é¡é ç®—
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - `DL_log()` - è¨˜éŒ„é ç®—å»ºç«‹æ—¥èªŒ
  - **MLSæ¨¡çµ„** - é©—è­‰å¸³æœ¬å­˜å–æ¬Šé™
  - Firestore - å»ºç«‹ budgets collection æ–‡ä»¶
- **å›å‚³å€¼**: `{success: boolean, budgetId: string, message: string}`

```javascript
/**
 * 02. ç·¨è¼¯é ç®—è¨­å®š
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description ä¿®æ”¹ç¾æœ‰é ç®—çš„é‡‘é¡ã€æœŸé–“ã€åˆ†é¡è¨­å®š
 */
function BM_editBudget(budgetId, userId, updateData)
```
- **åŠŸèƒ½**: å®‰å…¨ç·¨è¼¯é ç®—è¨­å®šï¼Œå«æ­·å²è¨˜éŒ„
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **å”ä½œç®¡ç†æ¨¡çµ„** - é©—è­‰ç·¨è¼¯æ¬Šé™
  - `DD_distributeData()` - åˆ†ç™¼é ç®—è®Šæ›´
- **å›å‚³å€¼**: `{success: boolean, updatedFields: array, message: string}`

```javascript
/**
 * 03. åˆªé™¤é ç®—
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description åˆªé™¤é ç®—è¨­å®šï¼ˆå«äºŒæ¬¡ç¢ºèªï¼‰
 */
function BM_deleteBudget(budgetId, userId, confirmationToken)
```
- **åŠŸèƒ½**: å®‰å…¨åˆªé™¤é ç®—ï¼Œä¿ç•™æ­·å²è³‡æ–™
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **å‚™ä»½æœå‹™æ¨¡çµ„** - å»ºç«‹åˆªé™¤å‰å‚™ä»½
  - `DL_warning()` - è¨˜éŒ„åˆªé™¤æ“ä½œæ—¥èªŒ

### 2.2 é ç®—è¿½è¹¤å‡½æ•¸

```javascript
/**
 * 04. è¨ˆç®—é ç®—åŸ·è¡Œé€²åº¦
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description å³æ™‚è¨ˆç®—é ç®—ä½¿ç”¨ç‡å’Œå‰©é¤˜é‡‘é¡
 */
function BM_calculateBudgetProgress(budgetId, dateRange)
```
- **åŠŸèƒ½**: å³æ™‚é ç®—åŸ·è¡Œç‹€æ³åˆ†æ
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **BKæ¨¡çµ„** `BK_processBookkeeping()` - å–å¾—è¨˜å¸³è³‡æ–™
  - **MRAæ¨¡çµ„** - ç”Ÿæˆé ç®—åˆ†æå ±è¡¨
- **å›å‚³å€¼**: `{progress: number, remaining: number, status: string}`

```javascript
/**
 * 05. æ›´æ–°é ç®—ä½¿ç”¨è¨˜éŒ„
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description ç•¶æœ‰æ–°è¨˜å¸³æ™‚è‡ªå‹•æ›´æ–°é ç®—ä½¿ç”¨ç‹€æ³
 */
function BM_updateBudgetUsage(ledgerId, transactionData)
```
- **åŠŸèƒ½**: è‡ªå‹•åŒæ­¥è¨˜å¸³èˆ‡é ç®—è¿½è¹¤
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **BKæ¨¡çµ„** - ç›£è½è¨˜å¸³äº‹ä»¶
  - `BM_checkBudgetAlert()` - è§¸ç™¼è­¦ç¤ºæª¢æŸ¥
- **å›å‚³å€¼**: `{updated: boolean, newUsage: number, alertTriggered: boolean}`

```javascript
/**
 * 06. å–å¾—é ç®—åŸ·è¡Œå ±å‘Š
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description ç”ŸæˆæŒ‡å®šæœŸé–“çš„é ç®—åŸ·è¡Œå ±å‘Š
 */
function BM_getBudgetReport(budgetId, reportType, dateRange)
```
- **åŠŸèƒ½**: å¤šç¶­åº¦é ç®—åŸ·è¡Œåˆ†æå ±å‘Š
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **MRAæ¨¡çµ„** `reportGenerator.js` - ç”Ÿæˆè¦–è¦ºåŒ–å ±è¡¨
  - **DDæ¨¡çµ„** - è³‡æ–™å½™æ•´åˆ†æ
- **å›å‚³å€¼**: `{reportData: object, charts: array, summary: object}`

### 2.3 é ç®—è­¦ç¤ºå‡½æ•¸

```javascript
/**
 * 07. æª¢æŸ¥é ç®—è­¦ç¤ºæ¢ä»¶
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description æª¢æŸ¥æ˜¯å¦è§¸ç™¼é ç®—è­¦ç¤ºæ¢ä»¶
 */
function BM_checkBudgetAlert(budgetId, currentUsage)
```
- **åŠŸèƒ½**: æ™ºæ…§é ç®—è­¦ç¤ºæ¢ä»¶æª¢æŸ¥
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - `BM_triggerBudgetAlert()` - è§¸ç™¼è­¦ç¤ºé€šçŸ¥
  - `DL_info()` - è¨˜éŒ„è­¦ç¤ºæª¢æŸ¥æ—¥èªŒ
- **å›å‚³å€¼**: `{alertRequired: boolean, alertLevel: string, message: string}`

```javascript
/**
 * 08. è§¸ç™¼é ç®—è­¦ç¤ºé€šçŸ¥
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description ç™¼é€é ç®—è¶…æ”¯æˆ–æ¥è¿‘ä¸Šé™çš„è­¦ç¤ºé€šçŸ¥
 */
function BM_triggerBudgetAlert(budgetId, alertType, recipientList)
```
- **åŠŸèƒ½**: å¤šç®¡é“é ç®—è­¦ç¤ºé€šçŸ¥
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **LINE OAæ¨¡çµ„** - ç™¼é€ LINE é€šçŸ¥
  - **å”ä½œç®¡ç†æ¨¡çµ„** - å–å¾—é€šçŸ¥å°è±¡æ¸…å–®
- **å›å‚³å€¼**: `{sent: boolean, recipients: array, alertId: string}`

```javascript
/**
 * 09. è¨­å®šé ç®—è­¦ç¤ºè¦å‰‡
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description è‡ªè¨‚é ç®—è­¦ç¤ºè§¸ç™¼æ¢ä»¶å’Œé€šçŸ¥æ–¹å¼
 */
function BM_setBudgetAlertRules(budgetId, alertRules)
```
- **åŠŸèƒ½**: å½ˆæ€§çš„è­¦ç¤ºè¦å‰‡è¨­å®š
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - `DD_distributeData()` - åˆ†ç™¼è­¦ç¤ºè¦å‰‡è¨­å®š
  - Firestore - å„²å­˜è­¦ç¤ºè¦å‰‡é…ç½®
- **å›å‚³å€¼**: `{success: boolean, rulesCount: number, message: string}`

### 2.4 é ç®—åˆ†æå‡½æ•¸

```javascript
/**
 * 10. é ç®—è¶¨å‹¢åˆ†æ
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description åˆ†æé ç®—ä½¿ç”¨è¶¨å‹¢å’Œé æ¸¬
 */
function BM_analyzeBudgetTrend(budgetId, analysisType, timeRange)
```
- **åŠŸèƒ½**: é ç®—è¶¨å‹¢åˆ†æèˆ‡é æ¸¬
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **MRAæ¨¡çµ„** `reportGenerator.js` - ç”Ÿæˆè¶¨å‹¢åœ–è¡¨
  - **BKæ¨¡çµ„** - å–å¾—æ­·å²è¨˜å¸³è³‡æ–™
- **å›å‚³å€¼**: `{trendData: array, prediction: object, insights: array}`

```javascript
/**
 * 11. è·¨å¸³æœ¬é ç®—æ¯”è¼ƒ
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description æ¯”è¼ƒä¸åŒå¸³æœ¬çš„é ç®—åŸ·è¡Œæ•ˆç‡
 */
function BM_compareBudgetAcrossLedgers(ledgerIds, comparisonType)
```
- **åŠŸèƒ½**: å¤šå¸³æœ¬é ç®—æ•ˆç‡æ¯”è¼ƒåˆ†æ
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **MLSæ¨¡çµ„** - é©—è­‰å¤šå¸³æœ¬å­˜å–æ¬Šé™
  - **MRAæ¨¡çµ„** - ç”Ÿæˆæ¯”è¼ƒåˆ†æå ±è¡¨
- **å›å‚³å€¼**: `{comparisonData: object, ranking: array, recommendations: array}`

### 2.5 é ç®—åˆ†é¡ç®¡ç†å‡½æ•¸

```javascript
/**
 * 12. å»ºç«‹é ç®—åˆ†é¡
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description å»ºç«‹é ç®—åˆ†é¡ï¼ˆå¦‚ç”Ÿæ´»ã€å¨›æ¨‚ã€äº¤é€šï¼‰
 */
function BM_createBudgetCategory(ledgerId, categoryData)
```
- **åŠŸèƒ½**: éˆæ´»çš„é ç®—åˆ†é¡ç®¡ç†
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - **MLSæ¨¡çµ„** - æ•´åˆå¸³æœ¬åˆ†é¡è¨­å®š
  - `DD_distributeData()` - åˆ†ç™¼åˆ†é¡é…ç½®
- **å›å‚³å€¼**: `{success: boolean, categoryId: string, message: string}`

```javascript
/**
 * 13. åˆ†é…é ç®—è‡³åˆ†é¡
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description å°‡ç¸½é ç®—åˆ†é…è‡³å„å€‹åˆ†é¡
 */
function BM_allocateBudgetToCategories(budgetId, allocationData)
```
- **åŠŸèƒ½**: æ™ºæ…§é ç®—åˆ†é…èˆ‡èª¿æ•´
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - `BM_validateAllocation()` - é©—è­‰åˆ†é…é‚è¼¯
  - `DL_log()` - è¨˜éŒ„åˆ†é…æ“ä½œ
- **å›å‚³å€¼**: `{success: boolean, allocations: array, totalAllocated: number}`

### 2.6 éŒ¯èª¤è™•ç†èˆ‡ç›£æ§å‡½æ•¸

```javascript
/**
 * 14. è™•ç†é ç®—è¨­å®šéŒ¯èª¤
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description çµ±ä¸€è™•ç†é ç®—è¨­å®šç›¸é—œéŒ¯èª¤
 */
function BM_handleBudgetError(errorType, errorData, userId)
```
- **åŠŸèƒ½**: æ¨™æº–åŒ–é ç®—éŒ¯èª¤è™•ç†
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - `DL_error()` - è¨˜éŒ„éŒ¯èª¤è©³æƒ…
  - **LINE OAæ¨¡çµ„** - ç™¼é€éŒ¯èª¤é€šçŸ¥
- **å›å‚³å€¼**: `{handled: boolean, errorCode: string, message: string}`

```javascript
/**
 * 15. é©—è­‰é ç®—æ•¸æ“šå®Œæ•´æ€§
 * @version 2025-07-07-V1.0.0
 * @date 2025-07-07 14:15:41
 * @description æª¢æŸ¥é ç®—è³‡æ–™çš„é‚è¼¯æ­£ç¢ºæ€§
 */
function BM_validateBudgetData(budgetData, validationType)
```
- **åŠŸèƒ½**: é ç®—è³‡æ–™é©—è­‰èˆ‡ä¿®å¾©
- **èˆ‡å…¶ä»–æ¨¡çµ„äº’å‹•**:
  - Firestore - æŸ¥è©¢ç›¸é—œè³‡æ–™é©—è­‰
  - `DL_warning()` - è¨˜éŒ„é©—è­‰è­¦å‘Š
- **å›å‚³å€¼**: `{valid: boolean, errors: array, suggestions: array}`

---

## 3.0 æ¨¡çµ„é–“äº’å‹•æ¶æ§‹

### 3.1 æ ¸å¿ƒä¾è³´é—œä¿‚
```
BM é ç®—ç®¡ç†æ¨¡çµ„
â”œâ”€â”€ MLSæ¨¡çµ„ (Multi-Ledger System)
â”‚   â”œâ”€â”€ MLS_validateLedgerAccess() - å¸³æœ¬æ¬Šé™é©—è­‰
â”‚   â””â”€â”€ MLS_getLedgerList() - å–å¾—å¸³æœ¬è³‡è¨Š
â”œâ”€â”€ BKæ¨¡çµ„ (Bookkeeping)
â”‚   â”œâ”€â”€ BK_processBookkeeping() - è¨˜å¸³è³‡æ–™æ•´åˆ
â”‚   â””â”€â”€ è¨˜å¸³äº‹ä»¶ç›£è½ - è‡ªå‹•æ›´æ–°é ç®—ä½¿ç”¨
â”œâ”€â”€ DLæ¨¡çµ„ (Data Logging)
â”‚   â”œâ”€â”€ DL_log() - ä¸€èˆ¬æ“ä½œæ—¥èªŒ
â”‚   â”œâ”€â”€ DL_error() - éŒ¯èª¤æ—¥èªŒ
â”‚   â””â”€â”€ DL_warning() - è­¦å‘Šæ—¥èªŒ
â”œâ”€â”€ DDæ¨¡çµ„ (Data Distribution)
â”‚   â””â”€â”€ DD_distributeData() - é ç®—è³‡æ–™åˆ†ç™¼
â”œâ”€â”€ MRAæ¨¡çµ„ (Multi-platform Report & Analytics)
â”‚   â”œâ”€â”€ reportGenerator.js - é ç®—å ±è¡¨ç”¢å‡º
â”‚   â””â”€â”€ è¶¨å‹¢åˆ†æèˆ‡è¦–è¦ºåŒ–
â”œâ”€â”€ å”ä½œç®¡ç†æ¨¡çµ„ (Collaboration)
â”‚   â””â”€â”€ permissionController.js - é ç®—ç·¨è¼¯æ¬Šé™
â””â”€â”€ LINE OAæ¨¡çµ„
    â””â”€â”€ é ç®—è­¦ç¤ºé€šçŸ¥ç™¼é€
```

### 3.2 è³‡æ–™æµå‘è¨­è¨ˆ
```
è¨˜å¸³äº‹ä»¶ â†’ BMé ç®—æ›´æ–° â†’ è­¦ç¤ºæª¢æŸ¥ â†’ é€šçŸ¥ç™¼é€
é ç®—è¨­å®š â†’ æ¬Šé™é©—è­‰ â†’ è³‡æ–™å„²å­˜ â†’ åˆ†ç™¼åŒæ­¥
é ç®—æŸ¥è©¢ â†’ è³‡æ–™è¨ˆç®— â†’ å ±è¡¨ç”Ÿæˆ â†’ çµæœå›å‚³
```

---

## 4.0 è³‡æ–™åº«æ¶æ§‹è¨­è¨ˆ

### 4.1 Firestore é›†åˆçµæ§‹
```
budgets/
â”œâ”€â”€ {budget_id}/
â”‚   â”œâ”€â”€ ledger_id: string
â”‚   â”œâ”€â”€ name: string
â”‚   â”œâ”€â”€ type: "monthly" | "yearly" | "project" | "category"
â”‚   â”œâ”€â”€ amount: number
â”‚   â”œâ”€â”€ used_amount: number
â”‚   â”œâ”€â”€ currency: string
â”‚   â”œâ”€â”€ start_date: timestamp
â”‚   â”œâ”€â”€ end_date: timestamp
â”‚   â”œâ”€â”€ categories: array
â”‚   â”œâ”€â”€ alert_rules: object
â”‚   â”œâ”€â”€ created_by: string
â”‚   â”œâ”€â”€ created_at: timestamp
â”‚   â”œâ”€â”€ updated_at: timestamp
â”‚   â””â”€â”€ status: "active" | "completed" | "archived"

budget_alerts/
â”œâ”€â”€ {alert_id}/
â”‚   â”œâ”€â”€ budget_id: string
â”‚   â”œâ”€â”€ alert_type: "warning" | "critical" | "exceeded"
â”‚   â”œâ”€â”€ trigger_condition: object
â”‚   â”œâ”€â”€ triggered_at: timestamp
â”‚   â”œâ”€â”€ notification_sent: boolean
â”‚   â””â”€â”€ recipients: array
```

### 4.2 é ç®—åˆ†é¡çµæ§‹è¨­è¨ˆ
```javascript
categories: [
  {
    id: "category_001",
    name: "ç”Ÿæ´»è²»",
    allocated_amount: 15000,
    used_amount: 8500,
    percentage: 30,
    alert_threshold: 80
  }
]
```

---

## 5.0 API ä»‹é¢è¦æ ¼

### 5.1 REST API ç«¯é»
```
POST   /api/v2/budgets/create           - å»ºç«‹æ–°é ç®—
GET    /api/v2/budgets/list             - å–å¾—é ç®—æ¸…å–®
PUT    /api/v2/budgets/{id}/edit        - ç·¨è¼¯é ç®—
DELETE /api/v2/budgets/{id}/delete      - åˆªé™¤é ç®—
GET    /api/v2/budgets/{id}/progress    - å–å¾—é ç®—é€²åº¦
POST   /api/v2/budgets/{id}/alert       - è¨­å®šé ç®—è­¦ç¤º
GET    /api/v2/budgets/{id}/report      - ç”Ÿæˆé ç®—å ±å‘Š
POST   /api/v2/budgets/categories       - å»ºç«‹é ç®—åˆ†é¡
```

### 5.2 WebSocket äº‹ä»¶
```javascript
// å³æ™‚é ç®—äº‹ä»¶
'budget:updated'        - é ç®—ä½¿ç”¨æ›´æ–°
'budget:alert_triggered' - è­¦ç¤ºè§¸ç™¼
'budget:threshold_reached' - é–¾å€¼é”æˆ
'budget:completed'      - é ç®—é€±æœŸå®Œæˆ
```

---

## 6.0 æ•ˆèƒ½èˆ‡æ“´å±•æ€§è€ƒé‡

### 6.1 å¿«å–ç­–ç•¥
- é ç®—åŸºæœ¬è³‡è¨Šå¿«å– (10åˆ†é˜)
- é ç®—ä½¿ç”¨é€²åº¦å¿«å– (5åˆ†é˜)
- è­¦ç¤ºè¦å‰‡å¿«å– (30åˆ†é˜)

### 6.2 å³æ™‚è™•ç†
- è¨˜å¸³äº‹ä»¶å³æ™‚é ç®—æ›´æ–°
- è­¦ç¤ºæ¢ä»¶å³æ™‚æª¢æŸ¥
- é€²åº¦è¨ˆç®—å„ªåŒ–æ¼”ç®—æ³•

---

## 7.0 æ–‡ä»¶ç¶­è­·è¨˜éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹è€… | ä¿®æ”¹å…§å®¹ |
|------|------|--------|----------|
| v1.0 | 2025-07-07 14:15:41 +08:00 | AustinLiao69 | åˆç‰ˆå»ºç«‹ï¼Œå®Œæ•´æŠ€è¡“è¨­è¨ˆ |
| v2.0 | 2025-08-02 10:00:00 +08:00 | LCAS SA Team | æ·»åŠ å®Œæ•´ç›®æ¬¡çµæ§‹ï¼Œå„ªåŒ–æ–‡ä»¶çµæ§‹ |

---

**æ–‡ä»¶çµæŸ**
*æ­¤æ–‡ä»¶ç‚º LCAS 2.0 BM é ç®—ç®¡ç†æ¨¡çµ„çš„å®Œæ•´æŠ€è¡“è¨­è¨ˆè¦æ ¼ï¼Œæ‰€æœ‰å‡½æ•¸è¨­è¨ˆå‡åŸºæ–¼é ç®—ç®¡ç†éœ€æ±‚ä¸¦æ•´åˆå¤šå¸³æœ¬ç³»çµ±æ¶æ§‹ã€‚*